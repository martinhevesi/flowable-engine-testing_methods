<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ProcessEngineConfigurationImpl.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jacoco.exec</a> &gt; <a href="index.source.html" class="el_package">org.flowable.engine.impl.cfg</a> &gt; <span class="el_source">ProcessEngineConfigurationImpl.java</span></div><h1>ProcessEngineConfigurationImpl.java</h1><pre class="source lang-java linenums">/* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.flowable.engine.impl.cfg;

import java.io.InputStream;
import java.net.URL;
import java.time.Duration;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.LinkedHashSet;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.concurrent.BlockingQueue;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.ConcurrentMap;
import java.util.concurrent.ThreadFactory;
import java.util.concurrent.ThreadPoolExecutor;
import java.util.function.Consumer;

import javax.xml.namespace.QName;

import org.apache.ibatis.session.Configuration;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.transaction.TransactionFactory;
import org.apache.ibatis.transaction.jdbc.JdbcTransactionFactory;
import org.apache.ibatis.transaction.managed.ManagedTransactionFactory;
import org.apache.ibatis.type.JdbcType;
import org.flowable.batch.service.BatchServiceConfiguration;
import org.flowable.batch.service.impl.db.BatchDbSchemaManager;
import org.flowable.common.engine.api.FlowableException;
import org.flowable.common.engine.api.delegate.FlowableFunctionDelegate;
import org.flowable.common.engine.api.delegate.event.FlowableEventDispatcher;
import org.flowable.common.engine.api.delegate.event.FlowableEventListener;
import org.flowable.common.engine.api.scope.ScopeTypes;
import org.flowable.common.engine.impl.AbstractEngineConfiguration;
import org.flowable.common.engine.impl.EngineConfigurator;
import org.flowable.common.engine.impl.EngineDeployer;
import org.flowable.common.engine.impl.HasExpressionManagerEngineConfiguration;
import org.flowable.common.engine.impl.HasVariableServiceConfiguration;
import org.flowable.common.engine.impl.HasVariableTypes;
import org.flowable.common.engine.impl.ScriptingEngineAwareEngineConfiguration;
import org.flowable.common.engine.impl.ServiceConfigurator;
import org.flowable.common.engine.impl.agenda.AgendaFutureMaxWaitTimeoutProvider;
import org.flowable.common.engine.impl.agenda.AgendaOperationExecutionListener;
import org.flowable.common.engine.impl.async.AsyncTaskExecutorConfiguration;
import org.flowable.common.engine.impl.async.DefaultAsyncTaskExecutor;
import org.flowable.common.engine.impl.async.DefaultAsyncTaskInvoker;
import org.flowable.common.engine.impl.calendar.BusinessCalendarManager;
import org.flowable.common.engine.impl.calendar.CycleBusinessCalendar;
import org.flowable.common.engine.impl.calendar.DueDateBusinessCalendar;
import org.flowable.common.engine.impl.calendar.DurationBusinessCalendar;
import org.flowable.common.engine.impl.calendar.MapBusinessCalendarManager;
import org.flowable.common.engine.impl.callback.RuntimeInstanceStateChangeCallback;
import org.flowable.common.engine.impl.cfg.IdGenerator;
import org.flowable.common.engine.impl.cfg.mail.FlowableMailClientCreator;
import org.flowable.common.engine.impl.cfg.mail.MailServerInfo;
import org.flowable.common.engine.impl.db.AbstractDataManager;
import org.flowable.common.engine.impl.db.SchemaManager;
import org.flowable.common.engine.impl.el.ExpressionManager;
import org.flowable.common.engine.impl.el.FlowableAstFunctionCreator;
import org.flowable.common.engine.impl.el.function.VariableBase64ExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableContainsAnyExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableContainsExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableEqualsExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableExistsExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableGetExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableGetOrDefaultExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableGreaterThanExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableGreaterThanOrEqualsExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableIsEmptyExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableIsNotEmptyExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableLowerThanExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableLowerThanOrEqualsExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableNotEqualsExpressionFunction;
import org.flowable.common.engine.impl.history.HistoryLevel;
import org.flowable.common.engine.impl.interceptor.Command;
import org.flowable.common.engine.impl.interceptor.CommandConfig;
import org.flowable.common.engine.impl.interceptor.CommandContext;
import org.flowable.common.engine.impl.interceptor.CommandInterceptor;
import org.flowable.common.engine.impl.interceptor.EngineConfigurationConstants;
import org.flowable.common.engine.impl.interceptor.SessionFactory;
import org.flowable.common.engine.impl.javax.el.ELResolver;
import org.flowable.common.engine.impl.logging.LoggingSession;
import org.flowable.common.engine.impl.logging.LoggingSessionFactory;
import org.flowable.common.engine.impl.persistence.GenericManagerFactory;
import org.flowable.common.engine.impl.persistence.cache.EntityCache;
import org.flowable.common.engine.impl.persistence.cache.EntityCacheImpl;
import org.flowable.common.engine.impl.persistence.deploy.DefaultDeploymentCache;
import org.flowable.common.engine.impl.persistence.deploy.DeploymentCache;
import org.flowable.common.engine.impl.persistence.entity.ByteArrayEntityManager;
import org.flowable.common.engine.impl.persistence.entity.PropertyEntityManager;
import org.flowable.common.engine.impl.persistence.entity.TableDataManager;
import org.flowable.common.engine.impl.persistence.entity.data.ByteArrayDataManager;
import org.flowable.common.engine.impl.persistence.entity.data.PropertyDataManager;
import org.flowable.common.engine.impl.runtime.Clock;
import org.flowable.common.engine.impl.scripting.BeansResolverFactory;
import org.flowable.common.engine.impl.scripting.ResolverFactory;
import org.flowable.common.engine.impl.scripting.ScriptBindingsFactory;
import org.flowable.common.engine.impl.scripting.ScriptingEngines;
import org.flowable.common.engine.impl.tenant.ChangeTenantIdManager;
import org.flowable.common.engine.impl.tenant.MyBatisChangeTenantIdManager;
import org.flowable.common.engine.impl.variablelistener.VariableListenerSession;
import org.flowable.common.engine.impl.variablelistener.VariableListenerSessionFactory;
import org.flowable.engine.BpmnChangeTenantIdEntityTypes;
import org.flowable.engine.CandidateManager;
import org.flowable.engine.DecisionTableVariableManager;
import org.flowable.engine.DefaultCandidateManager;
import org.flowable.engine.DefaultHistoryCleaningManager;
import org.flowable.engine.DynamicBpmnService;
import org.flowable.engine.FlowableEngineAgenda;
import org.flowable.engine.FlowableEngineAgendaFactory;
import org.flowable.engine.FormService;
import org.flowable.engine.HistoryService;
import org.flowable.engine.IdentityService;
import org.flowable.engine.InternalProcessLocalizationManager;
import org.flowable.engine.ManagementService;
import org.flowable.engine.ProcessEngine;
import org.flowable.engine.ProcessEngineConfiguration;
import org.flowable.engine.ProcessMigrationService;
import org.flowable.engine.RepositoryService;
import org.flowable.engine.RuntimeService;
import org.flowable.engine.TaskService;
import org.flowable.engine.app.AppResourceConverter;
import org.flowable.engine.compatibility.DefaultFlowable5CompatibilityHandlerFactory;
import org.flowable.engine.compatibility.Flowable5CompatibilityHandler;
import org.flowable.engine.compatibility.Flowable5CompatibilityHandlerFactory;
import org.flowable.engine.delegate.event.impl.BpmnModelEventDispatchAction;
import org.flowable.engine.delegate.variable.VariableAggregator;
import org.flowable.engine.dynamic.DynamicStateManager;
import org.flowable.engine.form.AbstractFormType;
import org.flowable.engine.impl.DefaultProcessJobParentStateResolver;
import org.flowable.engine.impl.DefaultProcessLocalizationManager;
import org.flowable.engine.impl.DynamicBpmnServiceImpl;
import org.flowable.engine.impl.FormServiceImpl;
import org.flowable.engine.impl.HistoryServiceImpl;
import org.flowable.engine.impl.IdentityServiceImpl;
import org.flowable.engine.impl.ManagementServiceImpl;
import org.flowable.engine.impl.ProcessEngineImpl;
import org.flowable.engine.impl.ProcessMigrationServiceImpl;
import org.flowable.engine.impl.RepositoryServiceImpl;
import org.flowable.engine.impl.RuntimeServiceImpl;
import org.flowable.engine.impl.SchemaOperationProcessEngineClose;
import org.flowable.engine.impl.SchemaOperationsProcessEngineBuild;
import org.flowable.engine.impl.TaskServiceImpl;
import org.flowable.engine.impl.agenda.AgendaSessionFactory;
import org.flowable.engine.impl.agenda.DefaultFlowableEngineAgendaFactory;
import org.flowable.engine.impl.app.AppDeployer;
import org.flowable.engine.impl.app.AppResourceConverterImpl;
import org.flowable.engine.impl.bpmn.deployer.BpmnDeployer;
import org.flowable.engine.impl.bpmn.deployer.BpmnDeploymentHelper;
import org.flowable.engine.impl.bpmn.deployer.CachingAndArtifactsManager;
import org.flowable.engine.impl.bpmn.deployer.EventSubscriptionManager;
import org.flowable.engine.impl.bpmn.deployer.ParsedDeploymentBuilderFactory;
import org.flowable.engine.impl.bpmn.deployer.ProcessDefinitionDiagramHelper;
import org.flowable.engine.impl.bpmn.deployer.TimerManager;
import org.flowable.engine.impl.bpmn.listener.ListenerNotificationHelper;
import org.flowable.engine.impl.bpmn.parser.BpmnParseHandlers;
import org.flowable.engine.impl.bpmn.parser.BpmnParser;
import org.flowable.engine.impl.bpmn.parser.factory.AbstractBehaviorFactory;
import org.flowable.engine.impl.bpmn.parser.factory.ActivityBehaviorFactory;
import org.flowable.engine.impl.bpmn.parser.factory.DefaultActivityBehaviorFactory;
import org.flowable.engine.impl.bpmn.parser.factory.DefaultListenerFactory;
import org.flowable.engine.impl.bpmn.parser.factory.DefaultXMLImporterFactory;
import org.flowable.engine.impl.bpmn.parser.factory.ListenerFactory;
import org.flowable.engine.impl.bpmn.parser.factory.XMLImporterFactory;
import org.flowable.engine.impl.bpmn.parser.handler.AdhocSubProcessParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.BoundaryEventParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.BusinessRuleParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.CallActivityParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.CancelEventDefinitionParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.CaseServiceTaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.CompensateEventDefinitionParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.ConditionalEventDefinitionParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.EndEventParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.ErrorEventDefinitionParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.EscalationEventDefinitionParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.EventBasedGatewayParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.EventSubProcessParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.ExclusiveGatewayParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.ExternalWorkerServiceTaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.HttpServiceTaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.InclusiveGatewayParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.IntermediateCatchEventParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.IntermediateThrowEventParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.ManualTaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.MessageEventDefinitionParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.ParallelGatewayParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.ProcessParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.ReceiveTaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.ScriptTaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.SendEventServiceTaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.SendTaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.SequenceFlowParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.ServiceTaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.SignalEventDefinitionParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.StartEventParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.SubProcessParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.TaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.TimerEventDefinitionParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.TransactionParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.UserTaskParseHandler;
import org.flowable.engine.impl.bpmn.parser.handler.VariableListenerEventDefinitionParseHandler;
import org.flowable.engine.impl.cmd.ClearProcessInstanceLockTimesCmd;
import org.flowable.engine.impl.cmd.RedeployV5ProcessDefinitionsCmd;
import org.flowable.engine.impl.cmd.ValidateExecutionRelatedEntityCountCfgCmd;
import org.flowable.engine.impl.cmd.ValidateTaskRelatedEntityCountCfgCmd;
import org.flowable.engine.impl.cmd.ValidateV5EntitiesCmd;
import org.flowable.engine.impl.cmmn.CaseInstanceService;
import org.flowable.engine.impl.db.DbIdGenerator;
import org.flowable.engine.impl.db.EntityDependencyOrder;
import org.flowable.engine.impl.db.ProcessDbSchemaManager;
import org.flowable.engine.impl.delegate.JsonVariableAggregator;
import org.flowable.engine.impl.delegate.invocation.DefaultDelegateInterceptor;
import org.flowable.engine.impl.delete.ComputeDeleteHistoricProcessInstanceIdsJobHandler;
import org.flowable.engine.impl.delete.ComputeDeleteHistoricProcessInstanceStatusJobHandler;
import org.flowable.engine.impl.delete.DeleteHistoricProcessInstanceIdsJobHandler;
import org.flowable.engine.impl.delete.DeleteHistoricProcessInstanceIdsStatusJobHandler;
import org.flowable.engine.impl.delete.DeleteHistoricProcessInstancesSequentialJobHandler;
import org.flowable.engine.impl.dynamic.DefaultDynamicStateManager;
import org.flowable.engine.impl.el.FlowableDateFunctionDelegate;
import org.flowable.engine.impl.el.ProcessExpressionManager;
import org.flowable.engine.impl.event.CompensationEventHandler;
import org.flowable.engine.impl.event.EventHandler;
import org.flowable.engine.impl.event.MessageEventHandler;
import org.flowable.engine.impl.event.SignalEventHandler;
import org.flowable.engine.impl.event.logger.EventLogger;
import org.flowable.engine.impl.eventregistry.BpmnEventRegistryEventConsumer;
import org.flowable.engine.impl.form.BooleanFormType;
import org.flowable.engine.impl.form.DateFormType;
import org.flowable.engine.impl.form.DoubleFormType;
import org.flowable.engine.impl.form.FormEngine;
import org.flowable.engine.impl.form.FormHandlerHelper;
import org.flowable.engine.impl.form.FormTypes;
import org.flowable.engine.impl.form.JuelFormEngine;
import org.flowable.engine.impl.form.LongFormType;
import org.flowable.engine.impl.form.StringFormType;
import org.flowable.engine.impl.formhandler.DefaultFormFieldHandler;
import org.flowable.engine.impl.function.TaskGetFunctionDelegate;
import org.flowable.engine.impl.history.DefaultHistoryConfigurationSettings;
import org.flowable.engine.impl.history.DefaultHistoryManager;
import org.flowable.engine.impl.history.DefaultHistoryTaskManager;
import org.flowable.engine.impl.history.DefaultHistoryVariableManager;
import org.flowable.engine.impl.history.HistoryConfigurationSettings;
import org.flowable.engine.impl.history.HistoryManager;
import org.flowable.engine.impl.interceptor.BpmnOverrideContextInterceptor;
import org.flowable.engine.impl.interceptor.CommandInvoker;
import org.flowable.engine.impl.interceptor.DefaultIdentityLinkInterceptor;
import org.flowable.engine.impl.interceptor.DelegateInterceptor;
import org.flowable.engine.impl.interceptor.LoggingExecutionTreeAgendaOperationExecutionListener;
import org.flowable.engine.impl.jobexecutor.AsyncCompleteCallActivityJobHandler;
import org.flowable.engine.impl.jobexecutor.AsyncContinuationJobHandler;
import org.flowable.engine.impl.jobexecutor.AsyncLeaveJobHandler;
import org.flowable.engine.impl.jobexecutor.AsyncSendEventJobHandler;
import org.flowable.engine.impl.jobexecutor.AsyncTriggerJobHandler;
import org.flowable.engine.impl.jobexecutor.BpmnHistoryCleanupJobHandler;
import org.flowable.engine.impl.jobexecutor.DefaultFailedJobCommandFactory;
import org.flowable.engine.impl.jobexecutor.ExternalWorkerTaskCompleteJobHandler;
import org.flowable.engine.impl.jobexecutor.ParallelMultiInstanceActivityCompletionJobHandler;
import org.flowable.engine.impl.jobexecutor.ParallelMultiInstanceWithNoWaitStatesAsyncLeaveJobHandler;
import org.flowable.engine.impl.jobexecutor.ProcessEventJobHandler;
import org.flowable.engine.impl.jobexecutor.ProcessInstanceMigrationJobHandler;
import org.flowable.engine.impl.jobexecutor.ProcessInstanceMigrationStatusJobHandler;
import org.flowable.engine.impl.jobexecutor.TimerActivateProcessDefinitionHandler;
import org.flowable.engine.impl.jobexecutor.TimerStartEventJobHandler;
import org.flowable.engine.impl.jobexecutor.TimerSuspendProcessDefinitionHandler;
import org.flowable.engine.impl.jobexecutor.TriggerTimerEventJobHandler;
import org.flowable.engine.impl.migration.ProcessInstanceMigrationManagerImpl;
import org.flowable.engine.impl.persistence.deploy.DeploymentManager;
import org.flowable.engine.impl.persistence.deploy.ProcessDefinitionCacheEntry;
import org.flowable.engine.impl.persistence.deploy.ProcessDefinitionInfoCache;
import org.flowable.engine.impl.persistence.deploy.ProcessDefinitionInfoCacheObject;
import org.flowable.engine.impl.persistence.entity.ActivityInstanceEntityManager;
import org.flowable.engine.impl.persistence.entity.ActivityInstanceEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.AttachmentEntityManager;
import org.flowable.engine.impl.persistence.entity.AttachmentEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.CommentEntityManager;
import org.flowable.engine.impl.persistence.entity.CommentEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.DeploymentEntityManager;
import org.flowable.engine.impl.persistence.entity.DeploymentEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.EventLogEntryEntityImpl;
import org.flowable.engine.impl.persistence.entity.EventLogEntryEntityManager;
import org.flowable.engine.impl.persistence.entity.EventLogEntryEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.ExecutionEntityManager;
import org.flowable.engine.impl.persistence.entity.ExecutionEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.HistoricActivityInstanceEntityManager;
import org.flowable.engine.impl.persistence.entity.HistoricActivityInstanceEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.HistoricDetailEntityManager;
import org.flowable.engine.impl.persistence.entity.HistoricDetailEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.HistoricProcessInstanceEntityManager;
import org.flowable.engine.impl.persistence.entity.HistoricProcessInstanceEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.ModelEntityManager;
import org.flowable.engine.impl.persistence.entity.ModelEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.ProcessDefinitionEntityManager;
import org.flowable.engine.impl.persistence.entity.ProcessDefinitionEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.ProcessDefinitionInfoEntityManager;
import org.flowable.engine.impl.persistence.entity.ProcessDefinitionInfoEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.ResourceEntityManager;
import org.flowable.engine.impl.persistence.entity.ResourceEntityManagerImpl;
import org.flowable.engine.impl.persistence.entity.data.ActivityInstanceDataManager;
import org.flowable.engine.impl.persistence.entity.data.AttachmentDataManager;
import org.flowable.engine.impl.persistence.entity.data.CommentDataManager;
import org.flowable.engine.impl.persistence.entity.data.DeploymentDataManager;
import org.flowable.engine.impl.persistence.entity.data.EventLogEntryDataManager;
import org.flowable.engine.impl.persistence.entity.data.ExecutionDataManager;
import org.flowable.engine.impl.persistence.entity.data.HistoricActivityInstanceDataManager;
import org.flowable.engine.impl.persistence.entity.data.HistoricDetailDataManager;
import org.flowable.engine.impl.persistence.entity.data.HistoricProcessInstanceDataManager;
import org.flowable.engine.impl.persistence.entity.data.ModelDataManager;
import org.flowable.engine.impl.persistence.entity.data.ProcessDefinitionDataManager;
import org.flowable.engine.impl.persistence.entity.data.ProcessDefinitionInfoDataManager;
import org.flowable.engine.impl.persistence.entity.data.ResourceDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisActivityInstanceDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisAttachmentDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisCommentDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisDeploymentDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisEventLogEntryDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisExecutionDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisHistoricActivityInstanceDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisHistoricDetailDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisHistoricProcessInstanceDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisModelDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisProcessDefinitionDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisProcessDefinitionInfoDataManager;
import org.flowable.engine.impl.persistence.entity.data.impl.MybatisResourceDataManager;
import org.flowable.engine.impl.repository.DefaultProcessDefinitionLocalizationManager;
import org.flowable.engine.impl.repository.DeploymentProcessDefinitionDeletionManager;
import org.flowable.engine.impl.repository.DeploymentProcessDefinitionDeletionManagerImpl;
import org.flowable.engine.impl.scripting.ProcessEngineScriptTraceEnhancer;
import org.flowable.engine.impl.scripting.VariableScopeResolverFactory;
import org.flowable.engine.impl.util.ProcessInstanceHelper;
import org.flowable.engine.impl.variable.BpmnAggregatedVariableType;
import org.flowable.engine.impl.variable.ParallelMultiInstanceLoopVariableType;
import org.flowable.engine.interceptor.CreateExternalWorkerJobInterceptor;
import org.flowable.engine.interceptor.CreateUserTaskInterceptor;
import org.flowable.engine.interceptor.ExecutionQueryInterceptor;
import org.flowable.engine.interceptor.HistoricProcessInstanceQueryInterceptor;
import org.flowable.engine.interceptor.IdentityLinkInterceptor;
import org.flowable.engine.interceptor.ProcessInstanceQueryInterceptor;
import org.flowable.engine.interceptor.StartProcessInstanceInterceptor;
import org.flowable.engine.interceptor.UserTaskStateInterceptor;
import org.flowable.engine.migration.ProcessInstanceMigrationCallback;
import org.flowable.engine.migration.ProcessInstanceMigrationManager;
import org.flowable.engine.parse.BpmnParseHandler;
import org.flowable.engine.repository.InternalProcessDefinitionLocalizationManager;
import org.flowable.entitylink.service.EntityLinkServiceConfiguration;
import org.flowable.entitylink.service.impl.db.EntityLinkDbSchemaManager;
import org.flowable.eventregistry.api.EventRegistryEventConsumer;
import org.flowable.eventregistry.impl.configurator.EventRegistryEngineConfigurator;
import org.flowable.eventsubscription.service.EventSubscriptionServiceConfiguration;
import org.flowable.eventsubscription.service.impl.db.EventSubscriptionDbSchemaManager;
import org.flowable.form.api.FormFieldHandler;
import org.flowable.identitylink.service.IdentityLinkEventHandler;
import org.flowable.identitylink.service.IdentityLinkServiceConfiguration;
import org.flowable.identitylink.service.impl.db.IdentityLinkDbSchemaManager;
import org.flowable.idm.api.IdmEngineConfigurationApi;
import org.flowable.idm.engine.configurator.IdmEngineConfigurator;
import org.flowable.image.impl.DefaultProcessDiagramGenerator;
import org.flowable.job.service.HistoryJobHandler;
import org.flowable.job.service.HistoryJobProcessor;
import org.flowable.job.service.InternalJobCompatibilityManager;
import org.flowable.job.service.InternalJobManager;
import org.flowable.job.service.InternalJobParentStateResolver;
import org.flowable.job.service.JobHandler;
import org.flowable.job.service.JobProcessor;
import org.flowable.job.service.JobServiceConfiguration;
import org.flowable.job.service.impl.asyncexecutor.AsyncJobExecutorConfiguration;
import org.flowable.job.service.impl.asyncexecutor.AsyncRunnableExecutionExceptionHandler;
import org.flowable.job.service.impl.asyncexecutor.DefaultAsyncHistoryJobExecutor;
import org.flowable.job.service.impl.asyncexecutor.DefaultAsyncJobExecutor;
import org.flowable.job.service.impl.asyncexecutor.DefaultAsyncRunnableExecutionExceptionHandler;
import org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnableFactory;
import org.flowable.job.service.impl.asyncexecutor.FailedJobCommandFactory;
import org.flowable.job.service.impl.asyncexecutor.JobManager;
import org.flowable.job.service.impl.db.JobDbSchemaManager;
import org.flowable.task.api.TaskQueryInterceptor;
import org.flowable.task.api.history.HistoricTaskQueryInterceptor;
import org.flowable.task.service.InternalTaskAssignmentManager;
import org.flowable.task.service.InternalTaskLocalizationManager;
import org.flowable.task.service.InternalTaskVariableScopeResolver;
import org.flowable.task.service.TaskServiceConfiguration;
import org.flowable.task.service.history.InternalHistoryTaskManager;
import org.flowable.task.service.impl.DefaultTaskPostProcessor;
import org.flowable.task.service.impl.db.TaskDbSchemaManager;
import org.flowable.task.service.impl.persistence.entity.HistoricTaskLogEntryEntityImpl;
import org.flowable.validation.ProcessValidator;
import org.flowable.validation.ProcessValidatorFactory;
import org.flowable.validation.validator.impl.ServiceTaskValidator;
import org.flowable.variable.api.types.VariableType;
import org.flowable.variable.api.types.VariableTypes;
import org.flowable.variable.service.VariableServiceConfiguration;
import org.flowable.variable.service.history.InternalHistoryVariableManager;
import org.flowable.variable.service.impl.db.IbatisVariableTypeHandler;
import org.flowable.variable.service.impl.db.VariableDbSchemaManager;
import org.flowable.variable.service.impl.types.BooleanType;
import org.flowable.variable.service.impl.types.ByteArrayType;
import org.flowable.variable.service.impl.types.DateType;
import org.flowable.variable.service.impl.types.DefaultVariableTypes;
import org.flowable.variable.service.impl.types.DoubleType;
import org.flowable.variable.service.impl.types.EmptyCollectionType;
import org.flowable.variable.service.impl.types.EntityManagerSession;
import org.flowable.variable.service.impl.types.EntityManagerSessionFactory;
import org.flowable.variable.service.impl.types.InstantType;
import org.flowable.variable.service.impl.types.IntegerType;
import org.flowable.variable.service.impl.types.JPAEntityListVariableType;
import org.flowable.variable.service.impl.types.JPAEntityVariableType;
import org.flowable.variable.service.impl.types.JodaDateTimeType;
import org.flowable.variable.service.impl.types.JodaDateType;
import org.flowable.variable.service.impl.types.JsonType;
import org.flowable.variable.service.impl.types.LocalDateTimeType;
import org.flowable.variable.service.impl.types.LocalDateType;
import org.flowable.variable.service.impl.types.LongStringType;
import org.flowable.variable.service.impl.types.LongType;
import org.flowable.variable.service.impl.types.NullType;
import org.flowable.variable.service.impl.types.SerializableType;
import org.flowable.variable.service.impl.types.ShortType;
import org.flowable.variable.service.impl.types.StringType;
import org.flowable.variable.service.impl.types.UUIDType;

/**
 * @author Tom Baeyens
 * @author Joram Barrez
 */
public abstract class ProcessEngineConfigurationImpl extends ProcessEngineConfiguration implements
        ScriptingEngineAwareEngineConfiguration, HasExpressionManagerEngineConfiguration, HasVariableTypes, 
        HasVariableServiceConfiguration {

    public static final String DEFAULT_WS_SYNC_FACTORY = &quot;org.flowable.engine.impl.webservice.CxfWebServiceClientFactory&quot;;

    public static final String DEFAULT_WS_IMPORTER = &quot;org.flowable.engine.impl.webservice.CxfWSDLImporter&quot;;

    public static final String DEFAULT_MYBATIS_MAPPING_FILE = &quot;org/flowable/db/mapping/mappings.xml&quot;;

    // SERVICES /////////////////////////////////////////////////////////////////

<span class="nc" id="L450">    protected RepositoryService repositoryService = new RepositoryServiceImpl();</span>
<span class="nc" id="L451">    protected RuntimeService runtimeService = new RuntimeServiceImpl(this);</span>
<span class="nc" id="L452">    protected HistoryService historyService = new HistoryServiceImpl(this);</span>
<span class="nc" id="L453">    protected IdentityService identityService = new IdentityServiceImpl(this);</span>
<span class="nc" id="L454">    protected TaskService taskService = new TaskServiceImpl(this);</span>
<span class="nc" id="L455">    protected FormService formService = new FormServiceImpl();</span>
<span class="nc" id="L456">    protected ManagementService managementService = new ManagementServiceImpl(this);</span>
<span class="nc" id="L457">    protected DynamicBpmnService dynamicBpmnService = new DynamicBpmnServiceImpl(this);</span>
<span class="nc" id="L458">    protected ProcessMigrationService processInstanceMigrationService = new ProcessMigrationServiceImpl(this);</span>

    // IDM ENGINE /////////////////////////////////////////////////////
    protected boolean disableIdmEngine;
    
    // EVENT REGISTRY /////////////////////////////////////////////////////
    protected boolean disableEventRegistry;

    // DATA MANAGERS /////////////////////////////////////////////////////////////

    protected AttachmentDataManager attachmentDataManager;
    protected CommentDataManager commentDataManager;
    protected DeploymentDataManager deploymentDataManager;
    protected EventLogEntryDataManager eventLogEntryDataManager;
    protected ExecutionDataManager executionDataManager;
    protected ActivityInstanceDataManager activityInstanceDataManager;
    protected HistoricActivityInstanceDataManager historicActivityInstanceDataManager;
    protected HistoricDetailDataManager historicDetailDataManager;
    protected HistoricProcessInstanceDataManager historicProcessInstanceDataManager;
    protected ModelDataManager modelDataManager;
    protected ProcessDefinitionDataManager processDefinitionDataManager;
    protected ProcessDefinitionInfoDataManager processDefinitionInfoDataManager;
    protected ResourceDataManager resourceDataManager;

    // ENTITY MANAGERS ///////////////////////////////////////////////////////////

    protected AttachmentEntityManager attachmentEntityManager;
    protected CommentEntityManager commentEntityManager;
    protected DeploymentEntityManager deploymentEntityManager;
    protected EventLogEntryEntityManager eventLogEntryEntityManager;
    protected ExecutionEntityManager executionEntityManager;
    protected ActivityInstanceEntityManager activityInstanceEntityManager;
    protected HistoricActivityInstanceEntityManager historicActivityInstanceEntityManager;
    protected HistoricDetailEntityManager historicDetailEntityManager;
    protected HistoricProcessInstanceEntityManager historicProcessInstanceEntityManager;
    protected ModelEntityManager modelEntityManager;
    protected ProcessDefinitionEntityManager processDefinitionEntityManager;
    protected ProcessDefinitionInfoEntityManager processDefinitionInfoEntityManager;
    protected ResourceEntityManager resourceEntityManager;

    protected DeploymentProcessDefinitionDeletionManager processDefinitionDeploymentDeletionManager;

    // Candidate Manager

    protected CandidateManager candidateManager;

    // History Manager

    protected HistoryManager historyManager;
    protected HistoryConfigurationSettings historyConfigurationSettings;

    protected boolean isAsyncHistoryEnabled;

    // Change Tenant ID Manager

    protected ChangeTenantIdManager changeTenantIdManager;
    protected Set&lt;String&gt; changeTenantEntityTypes;

    // Job Manager

    protected JobManager jobManager;

    // Dynamic state manager

    protected DynamicStateManager dynamicStateManager;

    protected ProcessInstanceMigrationManager processInstanceMigrationManager;
    
    // Decision table variable manager
    
    protected DecisionTableVariableManager decisionTableVariableManager;

    protected VariableServiceConfiguration variableServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;VariableServiceConfiguration&gt;&gt; variableServiceConfigurators;
    protected IdentityLinkServiceConfiguration identityLinkServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;IdentityLinkServiceConfiguration&gt;&gt; identityLinkServiceConfigurators;
    protected EntityLinkServiceConfiguration entityLinkServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;EntityLinkServiceConfiguration&gt;&gt; entityLinkServiceConfigurators;
    protected EventSubscriptionServiceConfiguration eventSubscriptionServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;EventSubscriptionServiceConfiguration&gt;&gt; eventSubscriptionServiceConfigurators;
    protected TaskServiceConfiguration taskServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;TaskServiceConfiguration&gt;&gt; taskServiceConfigurators;
    protected JobServiceConfiguration jobServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;JobServiceConfiguration&gt;&gt; jobServiceConfigurators;
    protected BatchServiceConfiguration batchServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;BatchServiceConfiguration&gt;&gt; batchServiceConfigurators;

    protected boolean enableEntityLinks;

    // Variable Aggregation

    protected VariableAggregator variableAggregator;

<span class="nc" id="L551">    protected Collection&lt;String&gt; dependentScopeTypes = new HashSet&lt;&gt;();</span>

    // DEPLOYERS //////////////////////////////////////////////////////////////////

    protected BpmnDeployer bpmnDeployer;
    protected AppDeployer appDeployer;
    protected BpmnParser bpmnParser;
    protected ParsedDeploymentBuilderFactory parsedDeploymentBuilderFactory;
    protected TimerManager timerManager;
    protected EventSubscriptionManager eventSubscriptionManager;
    protected BpmnDeploymentHelper bpmnDeploymentHelper;
    protected CachingAndArtifactsManager cachingAndArtifactsManager;
    protected ProcessDefinitionDiagramHelper processDefinitionDiagramHelper;
    protected DeploymentManager deploymentManager;

<span class="nc" id="L566">    protected int processDefinitionCacheLimit = -1; // By default, no limit</span>
    protected DeploymentCache&lt;ProcessDefinitionCacheEntry&gt; processDefinitionCache;

<span class="nc" id="L569">    protected int processDefinitionInfoCacheLimit = -1; // By default, no limit</span>
    protected DeploymentCache&lt;ProcessDefinitionInfoCacheObject&gt; processDefinitionInfoCache;

<span class="nc" id="L572">    protected int knowledgeBaseCacheLimit = -1;</span>
    protected DeploymentCache&lt;Object&gt; knowledgeBaseCache;

<span class="nc" id="L575">    protected int appResourceCacheLimit = -1;</span>
    protected DeploymentCache&lt;Object&gt; appResourceCache;

    protected AppResourceConverter appResourceConverter;

    // JOB EXECUTOR /////////////////////////////////////////////////////////////

    protected List&lt;JobHandler&gt; customJobHandlers;
    protected Map&lt;String, JobHandler&gt; jobHandlers;
    protected List&lt;AsyncRunnableExecutionExceptionHandler&gt; customAsyncRunnableExecutionExceptionHandlers;
<span class="nc" id="L585">    protected boolean addDefaultExceptionHandler = true;</span>

    protected Map&lt;String, HistoryJobHandler&gt; historyJobHandlers;
    protected List&lt;HistoryJobHandler&gt; customHistoryJobHandlers;

    // HELPERS //////////////////////////////////////////////////////////////////
    protected ProcessInstanceHelper processInstanceHelper;
    protected ListenerNotificationHelper listenerNotificationHelper;
    protected FormHandlerHelper formHandlerHelper;
    
    protected CaseInstanceService caseInstanceService;

    // ASYNC EXECUTOR ///////////////////////////////////////////////////////////

    /**
     * The number of retries for a job.
     */
<span class="nc" id="L602">    protected int asyncExecutorNumberOfRetries = 3;</span>

    /**
     * The configuration of the task executor for the async executor.
     * This is only applicable when using the {@link DefaultAsyncTaskExecutor}
     */
    protected AsyncTaskExecutorConfiguration asyncExecutorTaskExecutorConfiguration;

    /**
     * The queue onto which jobs will be placed before they are actually executed. Threads form the async executor threadpool will take work from this queue.
     * &lt;p&gt;
     * By default null. If null, an {@link ArrayBlockingQueue} will be created of size defined in the {@link #asyncExecutorTaskExecutorConfiguration}.
     * &lt;p&gt;
     * When the queue is full, the job will be executed by the calling thread (ThreadPoolExecutor.CallerRunsPolicy())
     * &lt;p&gt;
     * (This property is only applicable when using the {@link DefaultAsyncJobExecutor}).
     */
    protected BlockingQueue&lt;Runnable&gt; asyncExecutorThreadPoolQueue;

    /**
     * The thread factory that the async task executor should use.
     */
    protected ThreadFactory asyncExecutorThreadFactory;

    /**
     * The amount of time (in milliseconds) a job can maximum be in the 'executable' state before being deemed expired.
     * Note that this won't happen when using the threadpool based executor, as the acquire thread will fetch these kind of jobs earlier.
     * &lt;p&gt;
     * By default 24 hours, as this should be a very exceptional case.
     */
<span class="nc" id="L632">    protected int asyncExecutorResetExpiredJobsMaxTimeout = 24 * 60 * 60 * 1000;</span>

    protected AsyncTaskExecutorConfiguration asyncTaskInvokerTaskExecutorConfiguration;

<span class="nc" id="L636">    protected AsyncJobExecutorConfiguration asyncExecutorConfiguration = new AsyncJobExecutorConfiguration();</span>
    protected AsyncJobExecutorConfiguration asyncHistoryExecutorConfiguration;

    // More info: see similar async executor properties.
<span class="nc" id="L640">    protected int asyncHistoryExecutorNumberOfRetries = 10;</span>
    protected AsyncTaskExecutorConfiguration asyncHistoryExecutorTaskExecutorConfiguration;
    protected BlockingQueue&lt;Runnable&gt; asyncHistoryExecutorThreadPoolQueue;

    protected List&lt;String&gt; enabledJobCategories;
    protected String jobExecutionScope;
    protected String historyJobExecutionScope;

<span class="nc" id="L648">    protected String batchStatusTimeCycleConfig = &quot;30 * * * * ?&quot;;</span>

    /**
     * Allows to define a custom factory for creating the {@link Runnable} that is executed by the async executor.
     * &lt;p&gt;
     * (This property is only applicable when using the {@link DefaultAsyncJobExecutor}).
     */
    protected ExecuteAsyncRunnableFactory asyncExecutorExecuteAsyncRunnableFactory;
    protected InternalJobParentStateResolver internalJobParentStateResolver;

    // JUEL functions ///////////////////////////////////////////////////////////
    protected List&lt;FlowableFunctionDelegate&gt; flowableFunctionDelegates;
    protected List&lt;FlowableFunctionDelegate&gt; customFlowableFunctionDelegates;
    protected List&lt;FlowableAstFunctionCreator&gt; astFunctionCreators;

    // BPMN PARSER //////////////////////////////////////////////////////////////

    protected List&lt;BpmnParseHandler&gt; preBpmnParseHandlers;
    protected List&lt;BpmnParseHandler&gt; postBpmnParseHandlers;
    protected List&lt;BpmnParseHandler&gt; customDefaultBpmnParseHandlers;
    protected ActivityBehaviorFactory activityBehaviorFactory;
    protected ListenerFactory listenerFactory;
    protected BpmnParseFactory bpmnParseFactory;

    // PROCESS VALIDATION ///////////////////////////////////////////////////////

    protected ProcessValidator processValidator;
    protected ServiceTaskValidator customServiceTaskValidator;

    // OTHER ////////////////////////////////////////////////////////////////////

    protected List&lt;FormEngine&gt; customFormEngines;
    protected Map&lt;String, FormEngine&gt; formEngines;

    protected List&lt;AbstractFormType&gt; customFormTypes;
    protected FormTypes formTypes;

    protected List&lt;VariableType&gt; customPreVariableTypes;
    protected List&lt;VariableType&gt; customPostVariableTypes;
    protected VariableTypes variableTypes;

    protected InternalHistoryVariableManager internalHistoryVariableManager;
    protected InternalTaskVariableScopeResolver internalTaskVariableScopeResolver;
    protected InternalHistoryTaskManager internalHistoryTaskManager;
    protected InternalTaskAssignmentManager internalTaskAssignmentManager;
    protected IdentityLinkEventHandler identityLinkEventHandler;
    protected InternalTaskLocalizationManager internalTaskLocalizationManager;
    protected InternalProcessLocalizationManager internalProcessLocalizationManager;
    protected InternalProcessDefinitionLocalizationManager internalProcessDefinitionLocalizationManager;
    protected InternalJobManager internalJobManager;
    protected InternalJobCompatibilityManager internalJobCompatibilityManager;

    protected Map&lt;String, List&lt;RuntimeInstanceStateChangeCallback&gt;&gt; processInstanceStateChangedCallbacks;

    protected List&lt;ProcessInstanceMigrationCallback&gt; processInstanceMigrationCallbacks;
    
    /**
     * This flag determines whether variables of the type 'serializable' will be tracked. This means that, when true, in a JavaDelegate you can write
     * &lt;p&gt;
     * MySerializableVariable myVariable = (MySerializableVariable) execution.getVariable(&quot;myVariable&quot;); myVariable.setNumber(123);
     * &lt;p&gt;
     * And the changes to the java object will be reflected in the database. Otherwise, a manual call to setVariable will be needed.
     * &lt;p&gt;
     * By default true for backwards compatibility.
     */
<span class="nc" id="L713">    protected boolean serializableVariableTypeTrackDeserializedObjects = true;</span>

    /**
     * This flag determines whether variables of the type 'json' and 'longJson' will be tracked.
     * &lt;p&gt;
     * This means that, when true, in a JavaDelegate you can write:
     * &lt;pre&gt;&lt;code&gt;
     *     JsonNode jsonNode = (JsonNode) execution.getVariable(&quot;customer&quot;);
     *     customer.put(&quot;name&quot;, &quot;Kermit&quot;);
     * &lt;/code&gt;&lt;/pre&gt;
     * And the changes to the JsonNode will be reflected in the database. Otherwise, a manual call to setVariable will be needed.
     */
<span class="nc" id="L725">    protected boolean jsonVariableTypeTrackObjects = true;</span>

    /**
     * Whether the Parallel Multi instance should perform the leave operation through an async exclusive job.
     * When this is true then non exclusive parallel multi instances can run in non exclusive asynchronously without an exception being thrown.
     */
<span class="nc" id="L731">    protected boolean parallelMultiInstanceAsyncLeave = true;</span>

    protected ExpressionManager expressionManager;
    protected Collection&lt;Consumer&lt;ExpressionManager&gt;&gt; expressionManagerConfigurers;
    protected Collection&lt;ELResolver&gt; preDefaultELResolvers;
    protected Collection&lt;ELResolver&gt; preBeanELResolvers;
    protected Collection&lt;ELResolver&gt; postDefaultELResolvers;
    // SCRIPTING ///////////////////////////////////////////////////////
    protected List&lt;String&gt; customScriptingEngineClasses;
    protected ScriptingEngines scriptingEngines;
    protected ScriptBindingsFactory scriptBindingsFactory;
    protected List&lt;ResolverFactory&gt; resolverFactories;
    protected Collection&lt;ResolverFactory&gt; preDefaultResolverFactories;
    protected Collection&lt;ResolverFactory&gt; postDefaultResolverFactories;
    // END SCRIPTING
<span class="nc" id="L746">    protected boolean isExpressionCacheEnabled = true;</span>
<span class="nc" id="L747">    protected int expressionCacheSize = 4096;</span>
<span class="nc" id="L748">    protected int expressionTextLengthCacheLimit = -1; // negative value to have no max length</span>

    protected BusinessCalendarManager businessCalendarManager;

    protected StartProcessInstanceInterceptor startProcessInstanceInterceptor;
    protected CreateUserTaskInterceptor createUserTaskInterceptor;
    protected UserTaskStateInterceptor userTaskStateInterceptor;
    protected CreateExternalWorkerJobInterceptor createExternalWorkerJobInterceptor;
    protected IdentityLinkInterceptor identityLinkInterceptor;
    protected ProcessInstanceQueryInterceptor processInstanceQueryInterceptor;
    protected ExecutionQueryInterceptor executionQueryInterceptor;
    protected HistoricProcessInstanceQueryInterceptor historicProcessInstanceQueryInterceptor;
    protected TaskQueryInterceptor taskQueryInterceptor;
    protected HistoricTaskQueryInterceptor historicTaskQueryInterceptor;

<span class="nc" id="L763">    protected String wsSyncFactoryClassName = DEFAULT_WS_SYNC_FACTORY;</span>
    protected XMLImporterFactory wsWsdlImporterFactory;
<span class="nc" id="L765">    protected ConcurrentMap&lt;QName, URL&gt; wsOverridenEndpointAddresses = new ConcurrentHashMap&lt;&gt;();</span>

    protected DelegateInterceptor delegateInterceptor;

    protected Map&lt;String, EventHandler&gt; eventHandlers;
    protected List&lt;EventHandler&gt; customEventHandlers;

    protected FailedJobCommandFactory failedJobCommandFactory;

    protected FormFieldHandler formFieldHandler;
    protected boolean isFormFieldValidationEnabled;
    
    protected EventRegistryEventConsumer eventRegistryEventConsumer;
    /**
     * Whether process instances should be start asynchronously by the default {@link EventRegistryEventConsumer}.
     * This is a fallback applied for all events. We suggest modelling your processes appropriately, i.e. making the start event async.
     */
<span class="nc" id="L782">    protected boolean eventRegistryStartProcessInstanceAsync = false;</span>

    /**
     * Whether the check for unique process instances should be done with a lock.
     * We do not recommend changing this property, unless you have been explicitly asked by a Flowable maintainer.
     */
<span class="nc" id="L788">    protected boolean eventRegistryUniqueProcessInstanceCheckWithLock = true;</span>

    /**
     * The amount of time for the lock of a unique start event.
     */
<span class="nc" id="L793">    protected Duration eventRegistryUniqueProcessInstanceStartLockTime = Duration.ofMinutes(10);</span>

    /**
     * Set this to true if you want to have extra checks on the BPMN xml that is parsed. See http://www.jorambarrez.be/blog/2013/02/19/uploading-a-funny-xml -can-bring-down-your-server/
     * &lt;p&gt;
     * Unfortunately, this feature is not available on some platforms (JDK 6, JBoss), hence the reason why it is disabled by default. If your platform allows the use of StaxSource during XML parsing,
     * do enable it.
     */
    protected boolean enableSafeBpmnXml;

    /**
     * The following settings will determine the amount of entities loaded at once when the engine needs to load multiple entities (eg. when suspending a process definition with all its process
     * instances).
     * &lt;p&gt;
     * The default setting is quite low, as not to surprise anyone with sudden memory spikes. Change it to something higher if the environment Flowable runs in allows it.
     */
<span class="nc" id="L809">    protected int batchSizeProcessInstances = 25;</span>
<span class="nc" id="L810">    protected int batchSizeTasks = 25;</span>

    // Event logging to database
    protected boolean enableDatabaseEventLogging;
    protected boolean enableHistoricTaskLogging;

    /**
     * Using field injection together with a delegate expression for a service task / execution listener / task listener is not thread-sade , see user guide section 'Field Injection' for more
     * information.
     * &lt;p&gt;
     * Set this flag to false to throw an exception at runtime when a field is injected and a delegateExpression is used.
     *
     * @since 5.21
     */
<span class="nc" id="L824">    protected DelegateExpressionFieldInjectionMode delegateExpressionFieldInjectionMode = DelegateExpressionFieldInjectionMode.MIXED;</span>

<span class="nc" id="L826">    protected List&lt;Object&gt; flowable5JobProcessors = Collections.emptyList();</span>
<span class="nc" id="L827">    protected List&lt;JobProcessor&gt; jobProcessors = Collections.emptyList();</span>
<span class="nc" id="L828">    protected List&lt;HistoryJobProcessor&gt; historyJobProcessors = Collections.emptyList();</span>

    /**
     * Enabled a very verbose debug output of the execution tree whilst executing operations. Most useful for core engine developers or people fiddling around with the execution tree.
     */
    protected boolean enableVerboseExecutionTreeLogging;

<span class="nc" id="L835">    protected PerformanceSettings performanceSettings = new PerformanceSettings();</span>

    // agenda factory
    protected FlowableEngineAgendaFactory agendaFactory;
    protected AgendaFutureMaxWaitTimeoutProvider agendaFutureMaxWaitTimeoutProvider;

    protected SchemaManager identityLinkSchemaManager;
    protected SchemaManager entityLinkSchemaManager;
    protected SchemaManager eventSubscriptionSchemaManager;
    protected SchemaManager variableSchemaManager;
    protected SchemaManager taskSchemaManager;
    protected SchemaManager jobSchemaManager;
    protected SchemaManager batchSchemaManager;

<span class="nc" id="L849">    protected boolean handleProcessEngineExecutorsAfterEngineCreate = true;</span>

    // Backwards compatibility //////////////////////////////////////////////////////////////

    protected boolean flowable5CompatibilityEnabled; // Default flowable 5 backwards compatibility is disabled!
<span class="nc" id="L854">    protected boolean validateFlowable5EntitiesEnabled = true; // When disabled no checks are performed for existing flowable 5 entities in the db</span>
    protected boolean redeployFlowable5ProcessDefinitions;
    protected Flowable5CompatibilityHandlerFactory flowable5CompatibilityHandlerFactory;
    protected Flowable5CompatibilityHandler flowable5CompatibilityHandler;

    // Can't have a dependency on the Flowable5-engine module
    protected Object flowable5ActivityBehaviorFactory;
    protected Object flowable5ListenerFactory;
    protected List&lt;Object&gt; flowable5PreBpmnParseHandlers;
    protected List&lt;Object&gt; flowable5PostBpmnParseHandlers;
    protected List&lt;Object&gt; flowable5CustomDefaultBpmnParseHandlers;
    protected Set&lt;Class&lt;?&gt;&gt; flowable5CustomMybatisMappers;
    protected Set&lt;String&gt; flowable5CustomMybatisXMLMappers;
    protected Object flowable5ExpressionManager;

<span class="nc" id="L869">    public ProcessEngineConfigurationImpl() {</span>
<span class="nc" id="L870">        mybatisMappingFile = DEFAULT_MYBATIS_MAPPING_FILE;</span>
<span class="nc" id="L871">    }</span>

    // buildProcessEngine
    // ///////////////////////////////////////////////////////

    @Override
    public ProcessEngine buildProcessEngine() {
<span class="nc" id="L878">        init();</span>
<span class="nc" id="L879">        ProcessEngineImpl processEngine = new ProcessEngineImpl(this);</span>

<span class="nc bnc" id="L881" title="All 2 branches missed.">        if (handleProcessEngineExecutorsAfterEngineCreate) {</span>
<span class="nc" id="L882">            processEngine.startExecutors();</span>
        }

        // trigger build of Flowable 5 Engine
<span class="nc bnc" id="L886" title="All 4 branches missed.">        if (flowable5CompatibilityEnabled &amp;&amp; flowable5CompatibilityHandler != null) {</span>
<span class="nc" id="L887">            commandExecutor.execute(new Command&lt;Void&gt;() {</span>

                @Override
                public Void execute(CommandContext commandContext) {
<span class="nc" id="L891">                    flowable5CompatibilityHandler.getRawProcessEngine();</span>
<span class="nc" id="L892">                    return null;</span>
                }
            });
        }

<span class="nc" id="L897">        postProcessEngineInitialisation();</span>

<span class="nc" id="L899">        return processEngine;</span>
    }

    // init
    // /////////////////////////////////////////////////////////////////////

    public void init() {
<span class="nc" id="L906">        initEngineConfigurations();</span>
<span class="nc" id="L907">        initConfigurators();</span>
<span class="nc" id="L908">        configuratorsBeforeInit();</span>
<span class="nc" id="L909">        initClock();</span>
<span class="nc" id="L910">        initObjectMapper();</span>
<span class="nc" id="L911">        initProcessDiagramGenerator();</span>
<span class="nc" id="L912">        initCommandContextFactory();</span>
<span class="nc" id="L913">        initTransactionContextFactory();</span>
<span class="nc" id="L914">        initCommandExecutors();</span>
<span class="nc" id="L915">        initIdGenerator();</span>
<span class="nc" id="L916">        initHistoryLevel();</span>
<span class="nc" id="L917">        initFunctionDelegates();</span>
<span class="nc" id="L918">        initAstFunctionCreators();</span>
<span class="nc" id="L919">        initDelegateInterceptor();</span>
<span class="nc" id="L920">        initBeans();</span>
<span class="nc" id="L921">        initExpressionManager();</span>
<span class="nc" id="L922">        initMailClients();</span>
<span class="nc" id="L923">        initAgendaFactory();</span>

<span class="nc bnc" id="L925" title="All 2 branches missed.">        if (usingRelationalDatabase) {</span>
<span class="nc" id="L926">            initDataSource();</span>
        } else {
<span class="nc" id="L928">            initNonRelationalDataSource();</span>
        }

<span class="nc bnc" id="L931" title="All 4 branches missed.">        if (usingRelationalDatabase || usingSchemaMgmt) {</span>
<span class="nc" id="L932">            initSchemaManager();</span>
<span class="nc" id="L933">            initSchemaManagementCommand();</span>
        }
        
<span class="nc" id="L936">        configureVariableServiceConfiguration();</span>
<span class="nc" id="L937">        configureJobServiceConfiguration();</span>

<span class="nc" id="L939">        initHelpers();</span>
<span class="nc" id="L940">        initVariableTypes();</span>
<span class="nc" id="L941">        initFormEngines();</span>
<span class="nc" id="L942">        initFormTypes();</span>
<span class="nc" id="L943">        initScriptBindingsFactory();</span>
<span class="nc" id="L944">        initScriptingEngines();</span>
<span class="nc" id="L945">        initBusinessCalendarManager();</span>
<span class="nc" id="L946">        initServices();</span>
<span class="nc" id="L947">        initWsdlImporterFactory();</span>
<span class="nc" id="L948">        initBehaviorFactory();</span>
<span class="nc" id="L949">        initListenerFactory();</span>
<span class="nc" id="L950">        initBpmnParser();</span>
<span class="nc" id="L951">        initProcessDefinitionCache();</span>
<span class="nc" id="L952">        initProcessDefinitionInfoCache();</span>
<span class="nc" id="L953">        initAppResourceCache();</span>
<span class="nc" id="L954">        initKnowledgeBaseCache();</span>
<span class="nc" id="L955">        initJobHandlers();</span>
<span class="nc" id="L956">        initHistoryJobHandlers();</span>

<span class="nc" id="L958">        initTransactionFactory();</span>

<span class="nc bnc" id="L960" title="All 2 branches missed.">        if (usingRelationalDatabase) {</span>
<span class="nc" id="L961">            initSqlSessionFactory();</span>
        }

<span class="nc" id="L964">        initSessionFactories();</span>
<span class="nc" id="L965">        initDataManagers();</span>
<span class="nc" id="L966">        initEntityManagers();</span>
<span class="nc" id="L967">        initProcessDefinitionDeploymentDeletionManager();</span>
<span class="nc" id="L968">        initCandidateManager();</span>
<span class="nc" id="L969">        initVariableAggregator();</span>
<span class="nc" id="L970">        initDependentScopeTypes();</span>
<span class="nc" id="L971">        initHistoryConfigurationSettings();</span>
<span class="nc" id="L972">        initHistoryManager();</span>
<span class="nc" id="L973">        initChangeTenantIdManager();</span>
<span class="nc" id="L974">        initDynamicStateManager();</span>
<span class="nc" id="L975">        initProcessInstanceMigrationValidationManager();</span>
<span class="nc" id="L976">        initIdentityLinkInterceptor();</span>
<span class="nc" id="L977">        initJpa();</span>
<span class="nc" id="L978">        initDeployers();</span>
<span class="nc" id="L979">        initEventHandlers();</span>
<span class="nc" id="L980">        initFailedJobCommandFactory();</span>
<span class="nc" id="L981">        initEventDispatcher();</span>
<span class="nc" id="L982">        initProcessValidator();</span>
<span class="nc" id="L983">        initFormFieldHandler();</span>
<span class="nc" id="L984">        initDatabaseEventLogging();</span>
<span class="nc" id="L985">        initFlowable5CompatibilityHandler();</span>
<span class="nc" id="L986">        initVariableServiceConfiguration();</span>
<span class="nc" id="L987">        initIdentityLinkServiceConfiguration();</span>
<span class="nc" id="L988">        initEntityLinkServiceConfiguration();</span>
<span class="nc" id="L989">        initEventSubscriptionServiceConfiguration();</span>
<span class="nc" id="L990">        initTaskServiceConfiguration();</span>
<span class="nc" id="L991">        initJobServiceConfiguration();</span>
<span class="nc" id="L992">        initBatchServiceConfiguration();</span>
<span class="nc" id="L993">        initAsyncTaskInvoker();</span>
<span class="nc" id="L994">        initAsyncExecutor();</span>
<span class="nc" id="L995">        initAsyncHistoryExecutor();</span>

<span class="nc" id="L997">        configuratorsAfterInit();</span>
<span class="nc" id="L998">        afterInitTaskServiceConfiguration();</span>
<span class="nc" id="L999">        afterInitEventRegistryEventBusConsumer();</span>
        
<span class="nc" id="L1001">        initHistoryCleaningManager();</span>
<span class="nc" id="L1002">        initLocalizationManagers();</span>
<span class="nc" id="L1003">    }</span>

    // failedJobCommandFactory
    // ////////////////////////////////////////////////////////

    public void initFailedJobCommandFactory() {
<span class="nc bnc" id="L1009" title="All 2 branches missed.">        if (failedJobCommandFactory == null) {</span>
<span class="nc" id="L1010">            failedJobCommandFactory = new DefaultFailedJobCommandFactory();</span>
        }
<span class="nc" id="L1012">    }</span>

    // command executors
    // ////////////////////////////////////////////////////////

    @Override
    public void initCommandExecutors() {
<span class="nc" id="L1019">        initDefaultCommandConfig();</span>
<span class="nc" id="L1020">        initSchemaCommandConfig();</span>
<span class="nc" id="L1021">        initCommandInvoker();</span>
<span class="nc" id="L1022">        initCommandInterceptors();</span>
<span class="nc" id="L1023">        initCommandExecutor();</span>
<span class="nc" id="L1024">    }</span>

    @Override
    public void initCommandInvoker() {
<span class="nc bnc" id="L1028" title="All 2 branches missed.">        if (commandInvoker == null) {</span>
<span class="nc" id="L1029">            Collection&lt;AgendaOperationExecutionListener&gt; agendaOperationExecutionListeners = this.agendaOperationExecutionListeners;</span>
<span class="nc bnc" id="L1030" title="All 2 branches missed.">            if (enableVerboseExecutionTreeLogging) {</span>
<span class="nc bnc" id="L1031" title="All 2 branches missed.">                if (agendaOperationExecutionListeners == null) {</span>
<span class="nc" id="L1032">                    agendaOperationExecutionListeners = new ArrayList&lt;&gt;();</span>
                } else {
<span class="nc" id="L1034">                    agendaOperationExecutionListeners = new ArrayList&lt;&gt;(agendaOperationExecutionListeners);</span>
                }
<span class="nc" id="L1036">                agendaOperationExecutionListeners.add(new LoggingExecutionTreeAgendaOperationExecutionListener());</span>
            }
<span class="nc" id="L1038">            this.commandInvoker = new CommandInvoker(agendaOperationRunner, agendaOperationExecutionListeners);</span>
        }
<span class="nc" id="L1040">    }</span>

    @Override
    public String getEngineCfgKey() {
<span class="nc" id="L1044">        return EngineConfigurationConstants.KEY_PROCESS_ENGINE_CONFIG;</span>
    }
    
    @Override
    public String getEngineScopeType() {
<span class="nc" id="L1049">        return ScopeTypes.BPMN;</span>
    }

    @Override
    public List&lt;CommandInterceptor&gt; getAdditionalDefaultCommandInterceptors() {
<span class="nc" id="L1054">        return Collections.singletonList(new BpmnOverrideContextInterceptor());</span>
    }
    // services
    // /////////////////////////////////////////////////////////////////

    public void initServices() {
<span class="nc" id="L1060">        initService(repositoryService);</span>
<span class="nc" id="L1061">        initService(runtimeService);</span>
<span class="nc" id="L1062">        initService(historyService);</span>
<span class="nc" id="L1063">        initService(identityService);</span>
<span class="nc" id="L1064">        initService(taskService);</span>
<span class="nc" id="L1065">        initService(formService);</span>
<span class="nc" id="L1066">        initService(managementService);</span>
<span class="nc" id="L1067">        initService(dynamicBpmnService);</span>
<span class="nc" id="L1068">        initService(processInstanceMigrationService);</span>
<span class="nc" id="L1069">    }</span>

    @Override
    public void initSchemaManager() {
<span class="nc" id="L1073">        super.initSchemaManager();</span>

<span class="nc" id="L1075">        initProcessSchemaManager();</span>
<span class="nc" id="L1076">        initIdentityLinkSchemaManager();</span>
<span class="nc" id="L1077">        initEntityLinkSchemaManager();</span>
<span class="nc" id="L1078">        initEventSubscriptionSchemaManager();</span>
<span class="nc" id="L1079">        initVariableSchemaManager();</span>
<span class="nc" id="L1080">        initTaskSchemaManager();</span>
<span class="nc" id="L1081">        initJobSchemaManager();</span>
<span class="nc" id="L1082">        initBatchSchemaManager();</span>
<span class="nc" id="L1083">    }</span>

    public void initNonRelationalDataSource() {
        // for subclassing
<span class="nc" id="L1087">    }</span>

    protected void initProcessSchemaManager() {
<span class="nc bnc" id="L1090" title="All 2 branches missed.">        if (this.schemaManager == null) {</span>
<span class="nc" id="L1091">            this.schemaManager = new ProcessDbSchemaManager();</span>
        }
<span class="nc" id="L1093">    }</span>

    protected void initVariableSchemaManager() {
<span class="nc bnc" id="L1096" title="All 2 branches missed.">        if (this.variableSchemaManager == null) {</span>
<span class="nc" id="L1097">            this.variableSchemaManager = new VariableDbSchemaManager();</span>
        }
<span class="nc" id="L1099">    }</span>

    protected void initTaskSchemaManager() {
<span class="nc bnc" id="L1102" title="All 2 branches missed.">        if (this.taskSchemaManager == null) {</span>
<span class="nc" id="L1103">            this.taskSchemaManager = new TaskDbSchemaManager();</span>
        }
<span class="nc" id="L1105">    }</span>

    protected void initIdentityLinkSchemaManager() {
<span class="nc bnc" id="L1108" title="All 2 branches missed.">        if (this.identityLinkSchemaManager == null) {</span>
<span class="nc" id="L1109">            this.identityLinkSchemaManager = new IdentityLinkDbSchemaManager();</span>
        }
<span class="nc" id="L1111">    }</span>

    protected void initEntityLinkSchemaManager() {
<span class="nc bnc" id="L1114" title="All 2 branches missed.">        if (this.entityLinkSchemaManager == null) {</span>
<span class="nc" id="L1115">            this.entityLinkSchemaManager = new EntityLinkDbSchemaManager();</span>
        }
<span class="nc" id="L1117">    }</span>
    
    protected void initEventSubscriptionSchemaManager() {
<span class="nc bnc" id="L1120" title="All 2 branches missed.">        if (this.eventSubscriptionSchemaManager == null) {</span>
<span class="nc" id="L1121">            this.eventSubscriptionSchemaManager = new EventSubscriptionDbSchemaManager();</span>
        }
<span class="nc" id="L1123">    }</span>

    protected void initJobSchemaManager() {
<span class="nc bnc" id="L1126" title="All 2 branches missed.">        if (this.jobSchemaManager == null) {</span>
<span class="nc" id="L1127">            this.jobSchemaManager = new JobDbSchemaManager();</span>
        }
<span class="nc" id="L1129">    }</span>
    
    protected void initBatchSchemaManager() {
<span class="nc bnc" id="L1132" title="All 2 branches missed.">        if (this.batchSchemaManager == null) {</span>
<span class="nc" id="L1133">            this.batchSchemaManager = new BatchDbSchemaManager();</span>
        }
<span class="nc" id="L1135">    }</span>

    public void initSchemaManagementCommand() {
<span class="nc bnc" id="L1138" title="All 2 branches missed.">        if (schemaManagementCmd == null) {</span>
<span class="nc bnc" id="L1139" title="All 4 branches missed.">            if (usingRelationalDatabase &amp;&amp; databaseSchemaUpdate != null) {</span>
<span class="nc" id="L1140">                this.schemaManagementCmd = new SchemaOperationsProcessEngineBuild();</span>
            }
        }
<span class="nc" id="L1143">    }</span>

    @Override
    public void initMybatisTypeHandlers(Configuration configuration) {
<span class="nc" id="L1147">        super.initMybatisTypeHandlers(configuration);</span>
<span class="nc" id="L1148">        configuration.getTypeHandlerRegistry().register(VariableType.class, JdbcType.VARCHAR, new IbatisVariableTypeHandler(variableTypes));</span>
<span class="nc" id="L1149">    }</span>

    @Override
    public InputStream getMyBatisXmlConfigurationStream() {
<span class="nc" id="L1153">        return getResourceAsStream(mybatisMappingFile);</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setCustomMybatisMappers(Set&lt;Class&lt;?&gt;&gt; customMybatisMappers) {
<span class="nc" id="L1158">        this.customMybatisMappers = customMybatisMappers;</span>
<span class="nc" id="L1159">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setCustomMybatisXMLMappers(Set&lt;String&gt; customMybatisXMLMappers) {
<span class="nc" id="L1164">        this.customMybatisXMLMappers = customMybatisXMLMappers;</span>
<span class="nc" id="L1165">        return this;</span>
    }

    // Data managers ///////////////////////////////////////////////////////////

    @Override
    @SuppressWarnings(&quot;rawtypes&quot;)
    public void initDataManagers() {
<span class="nc" id="L1173">        super.initDataManagers();</span>
<span class="nc bnc" id="L1174" title="All 2 branches missed.">        if (attachmentDataManager == null) {</span>
<span class="nc" id="L1175">            attachmentDataManager = new MybatisAttachmentDataManager(this);</span>
        }
<span class="nc bnc" id="L1177" title="All 2 branches missed.">        if (commentDataManager == null) {</span>
<span class="nc" id="L1178">            commentDataManager = new MybatisCommentDataManager(this);</span>
        }
<span class="nc bnc" id="L1180" title="All 2 branches missed.">        if (deploymentDataManager == null) {</span>
<span class="nc" id="L1181">            deploymentDataManager = new MybatisDeploymentDataManager(this);</span>
        }
<span class="nc bnc" id="L1183" title="All 2 branches missed.">        if (eventLogEntryDataManager == null) {</span>
<span class="nc" id="L1184">            eventLogEntryDataManager = new MybatisEventLogEntryDataManager(this);</span>
        }
<span class="nc bnc" id="L1186" title="All 2 branches missed.">        if (executionDataManager == null) {</span>
<span class="nc" id="L1187">            executionDataManager = new MybatisExecutionDataManager(this);</span>
        }
<span class="nc bnc" id="L1189" title="All 4 branches missed.">        if (dbSqlSessionFactory != null &amp;&amp; executionDataManager instanceof AbstractDataManager) {</span>
<span class="nc" id="L1190">            dbSqlSessionFactory.addLogicalEntityClassMapping(&quot;execution&quot;, ((AbstractDataManager) executionDataManager).getManagedEntityClass());</span>
        }
<span class="nc bnc" id="L1192" title="All 2 branches missed.">        if (historicActivityInstanceDataManager == null) {</span>
<span class="nc" id="L1193">            historicActivityInstanceDataManager = new MybatisHistoricActivityInstanceDataManager(this);</span>
        }
<span class="nc bnc" id="L1195" title="All 2 branches missed.">        if (activityInstanceDataManager == null) {</span>
<span class="nc" id="L1196">            activityInstanceDataManager = new MybatisActivityInstanceDataManager(this);</span>
        }
<span class="nc bnc" id="L1198" title="All 2 branches missed.">        if (historicDetailDataManager == null) {</span>
<span class="nc" id="L1199">            historicDetailDataManager = new MybatisHistoricDetailDataManager(this);</span>
        }
<span class="nc bnc" id="L1201" title="All 2 branches missed.">        if (historicProcessInstanceDataManager == null) {</span>
<span class="nc" id="L1202">            historicProcessInstanceDataManager = new MybatisHistoricProcessInstanceDataManager(this);</span>
        }
<span class="nc bnc" id="L1204" title="All 2 branches missed.">        if (modelDataManager == null) {</span>
<span class="nc" id="L1205">            modelDataManager = new MybatisModelDataManager(this);</span>
        }
<span class="nc bnc" id="L1207" title="All 2 branches missed.">        if (processDefinitionDataManager == null) {</span>
<span class="nc" id="L1208">            processDefinitionDataManager = new MybatisProcessDefinitionDataManager(this);</span>
        }
<span class="nc bnc" id="L1210" title="All 2 branches missed.">        if (processDefinitionInfoDataManager == null) {</span>
<span class="nc" id="L1211">            processDefinitionInfoDataManager = new MybatisProcessDefinitionInfoDataManager(this);</span>
        }
<span class="nc bnc" id="L1213" title="All 2 branches missed.">        if (resourceDataManager == null) {</span>
<span class="nc" id="L1214">            resourceDataManager = new MybatisResourceDataManager(this);</span>
        }
<span class="nc" id="L1216">    }</span>

    // Entity managers //////////////////////////////////////////////////////////

    @Override
    public void initEntityManagers() {
<span class="nc" id="L1222">        super.initEntityManagers();</span>
<span class="nc bnc" id="L1223" title="All 2 branches missed.">        if (attachmentEntityManager == null) {</span>
<span class="nc" id="L1224">            attachmentEntityManager = new AttachmentEntityManagerImpl(this, attachmentDataManager);</span>
        }
<span class="nc bnc" id="L1226" title="All 2 branches missed.">        if (commentEntityManager == null) {</span>
<span class="nc" id="L1227">            commentEntityManager = new CommentEntityManagerImpl(this, commentDataManager);</span>
        }
<span class="nc bnc" id="L1229" title="All 2 branches missed.">        if (deploymentEntityManager == null) {</span>
<span class="nc" id="L1230">            deploymentEntityManager = new DeploymentEntityManagerImpl(this, deploymentDataManager);</span>
        }
<span class="nc bnc" id="L1232" title="All 2 branches missed.">        if (eventLogEntryEntityManager == null) {</span>
<span class="nc" id="L1233">            eventLogEntryEntityManager = new EventLogEntryEntityManagerImpl(this, eventLogEntryDataManager);</span>
        }
<span class="nc bnc" id="L1235" title="All 2 branches missed.">        if (executionEntityManager == null) {</span>
<span class="nc" id="L1236">            executionEntityManager = new ExecutionEntityManagerImpl(this, executionDataManager);</span>
        }
<span class="nc bnc" id="L1238" title="All 2 branches missed.">        if (activityInstanceEntityManager == null) {</span>
<span class="nc" id="L1239">            activityInstanceEntityManager = new ActivityInstanceEntityManagerImpl(this, activityInstanceDataManager);</span>
        }
<span class="nc bnc" id="L1241" title="All 2 branches missed.">        if (historicActivityInstanceEntityManager == null) {</span>
<span class="nc" id="L1242">            historicActivityInstanceEntityManager = new HistoricActivityInstanceEntityManagerImpl(this, historicActivityInstanceDataManager);</span>
        }
<span class="nc bnc" id="L1244" title="All 2 branches missed.">        if (historicDetailEntityManager == null) {</span>
<span class="nc" id="L1245">            historicDetailEntityManager = new HistoricDetailEntityManagerImpl(this, historicDetailDataManager);</span>
        }
<span class="nc bnc" id="L1247" title="All 2 branches missed.">        if (historicProcessInstanceEntityManager == null) {</span>
<span class="nc" id="L1248">            historicProcessInstanceEntityManager = new HistoricProcessInstanceEntityManagerImpl(this, historicProcessInstanceDataManager);</span>
        }
<span class="nc bnc" id="L1250" title="All 2 branches missed.">        if (modelEntityManager == null) {</span>
<span class="nc" id="L1251">            modelEntityManager = new ModelEntityManagerImpl(this, modelDataManager);</span>
        }
<span class="nc bnc" id="L1253" title="All 2 branches missed.">        if (processDefinitionEntityManager == null) {</span>
<span class="nc" id="L1254">            processDefinitionEntityManager = new ProcessDefinitionEntityManagerImpl(this, processDefinitionDataManager);</span>
        }
<span class="nc bnc" id="L1256" title="All 2 branches missed.">        if (processDefinitionInfoEntityManager == null) {</span>
<span class="nc" id="L1257">            processDefinitionInfoEntityManager = new ProcessDefinitionInfoEntityManagerImpl(this, processDefinitionInfoDataManager);</span>
        }
<span class="nc bnc" id="L1259" title="All 2 branches missed.">        if (resourceEntityManager == null) {</span>
<span class="nc" id="L1260">            resourceEntityManager = new ResourceEntityManagerImpl(this, resourceDataManager);</span>
        }
<span class="nc" id="L1262">    }</span>

    public void initProcessDefinitionDeploymentDeletionManager() {
<span class="nc bnc" id="L1265" title="All 2 branches missed.">        if (processDefinitionDeploymentDeletionManager == null) {</span>
<span class="nc" id="L1266">            processDefinitionDeploymentDeletionManager = new DeploymentProcessDefinitionDeletionManagerImpl(this);</span>
        }
<span class="nc" id="L1268">    }</span>

    // CandidateManager //////////////////////////////

    public void initCandidateManager() {
<span class="nc bnc" id="L1273" title="All 2 branches missed.">        if (candidateManager == null) {</span>
<span class="nc" id="L1274">            candidateManager = new DefaultCandidateManager(this);</span>
        }
<span class="nc" id="L1276">    }</span>

    // Variable Aggregator

    public void initVariableAggregator() {
<span class="nc bnc" id="L1281" title="All 2 branches missed.">        if (variableAggregator == null) {</span>
<span class="nc" id="L1282">            variableAggregator = new JsonVariableAggregator(this);</span>
        }
<span class="nc" id="L1284">    }</span>

    public void initDependentScopeTypes() {
<span class="nc" id="L1287">        this.dependentScopeTypes.add(ScopeTypes.BPMN_VARIABLE_AGGREGATION);</span>
<span class="nc" id="L1288">        this.dependentScopeTypes.add(ScopeTypes.BPMN_EXTERNAL_WORKER);</span>
<span class="nc" id="L1289">    }</span>

    // History manager ///////////////////////////////////////////////////////////

    public void initHistoryConfigurationSettings() {
<span class="nc bnc" id="L1294" title="All 2 branches missed.">        if (historyConfigurationSettings == null) {</span>
<span class="nc" id="L1295">            historyConfigurationSettings = new DefaultHistoryConfigurationSettings(this);</span>
        }
<span class="nc" id="L1297">    }</span>

    public void initHistoryManager() {
<span class="nc bnc" id="L1300" title="All 2 branches missed.">        if (historyManager == null) {</span>
<span class="nc" id="L1301">            historyManager = new DefaultHistoryManager(this);</span>
        }
<span class="nc" id="L1303">    }</span>

    // Change Tenant ID manager ////////////////////////////////////////////////////

    public void initChangeTenantIdManager() {
<span class="nc bnc" id="L1308" title="All 2 branches missed.">        if (changeTenantEntityTypes == null) {</span>
<span class="nc" id="L1309">            changeTenantEntityTypes = new LinkedHashSet&lt;&gt;();</span>
        }
<span class="nc" id="L1311">        changeTenantEntityTypes.addAll(BpmnChangeTenantIdEntityTypes.RUNTIME_TYPES);</span>

<span class="nc bnc" id="L1313" title="All 2 branches missed.">        if (isDbHistoryUsed) {</span>
<span class="nc" id="L1314">            changeTenantEntityTypes.addAll(BpmnChangeTenantIdEntityTypes.HISTORIC_TYPES);</span>
        }

<span class="nc bnc" id="L1317" title="All 2 branches missed.">        if (changeTenantIdManager == null) {</span>
<span class="nc" id="L1318">            changeTenantIdManager = new MyBatisChangeTenantIdManager(commandExecutor, ScopeTypes.BPMN, changeTenantEntityTypes);</span>
        }
<span class="nc" id="L1320">    }</span>

    // Dynamic state manager ////////////////////////////////////////////////////

    public void initDynamicStateManager() {
<span class="nc bnc" id="L1325" title="All 2 branches missed.">        if (dynamicStateManager == null) {</span>
<span class="nc" id="L1326">            dynamicStateManager = new DefaultDynamicStateManager();</span>
        }
<span class="nc" id="L1328">    }</span>

    public void initProcessInstanceMigrationValidationManager() {
<span class="nc bnc" id="L1331" title="All 2 branches missed.">        if (processInstanceMigrationManager == null) {</span>
<span class="nc" id="L1332">            processInstanceMigrationManager = new ProcessInstanceMigrationManagerImpl();</span>
        }
<span class="nc" id="L1334">    }</span>
    
    // identity link interceptor ///////////////////////////////////////////////
    public void initIdentityLinkInterceptor() {
<span class="nc bnc" id="L1338" title="All 2 branches missed.">        if (identityLinkInterceptor == null) {</span>
<span class="nc" id="L1339">            identityLinkInterceptor = new DefaultIdentityLinkInterceptor();</span>
        }
<span class="nc" id="L1341">    }</span>

    // session factories ////////////////////////////////////////////////////////

    @Override
    public void initSessionFactories() {
<span class="nc bnc" id="L1347" title="All 2 branches missed.">        if (sessionFactories == null) {</span>
<span class="nc" id="L1348">            sessionFactories = new HashMap&lt;&gt;();</span>

<span class="nc bnc" id="L1350" title="All 2 branches missed.">            if (usingRelationalDatabase) {</span>
<span class="nc" id="L1351">                initDbSqlSessionFactory();</span>
            }

<span class="nc bnc" id="L1354" title="All 2 branches missed.">            if (agendaFactory != null) {</span>
<span class="nc" id="L1355">                addSessionFactory(new AgendaSessionFactory(agendaFactory));</span>
            }

<span class="nc" id="L1358">            addSessionFactory(new GenericManagerFactory(EntityCache.class, EntityCacheImpl::new));</span>

<span class="nc" id="L1360">            commandContextFactory.setSessionFactories(sessionFactories);</span>

        } else {
<span class="nc bnc" id="L1363" title="All 2 branches missed.">            if (usingRelationalDatabase) {</span>
<span class="nc" id="L1364">                initDbSqlSessionFactoryEntitySettings();</span>
            }
            
<span class="nc bnc" id="L1367" title="All 2 branches missed.">            if (!sessionFactories.containsKey(FlowableEngineAgenda.class)) {</span>
<span class="nc bnc" id="L1368" title="All 2 branches missed.">                if (agendaFactory != null) {</span>
<span class="nc" id="L1369">                    addSessionFactory(new AgendaSessionFactory(agendaFactory));</span>
                }
            }
        }
        
<span class="nc bnc" id="L1374" title="All 2 branches missed.">        if (isLoggingSessionEnabled()) {</span>
<span class="nc bnc" id="L1375" title="All 2 branches missed.">            if (!sessionFactories.containsKey(LoggingSession.class)) {</span>
<span class="nc" id="L1376">                LoggingSessionFactory loggingSessionFactory = new LoggingSessionFactory();</span>
<span class="nc" id="L1377">                loggingSessionFactory.setLoggingListener(loggingListener);</span>
<span class="nc" id="L1378">                loggingSessionFactory.setObjectMapper(objectMapper);</span>
<span class="nc" id="L1379">                sessionFactories.put(LoggingSession.class, loggingSessionFactory);</span>
            }
        }
        
<span class="nc bnc" id="L1383" title="All 2 branches missed.">        if (!sessionFactories.containsKey(VariableListenerSession.class)) {</span>
<span class="nc" id="L1384">            VariableListenerSessionFactory variableListenerSessionFactory = new VariableListenerSessionFactory();</span>
<span class="nc" id="L1385">            sessionFactories.put(VariableListenerSession.class, variableListenerSessionFactory);</span>
        }

<span class="nc bnc" id="L1388" title="All 2 branches missed.">        if (customSessionFactories != null) {</span>
<span class="nc bnc" id="L1389" title="All 2 branches missed.">            for (SessionFactory sessionFactory : customSessionFactories) {</span>
<span class="nc" id="L1390">                addSessionFactory(sessionFactory);</span>
<span class="nc" id="L1391">            }</span>
        }

<span class="nc" id="L1394">    }</span>

    @Override
    protected void initDbSqlSessionFactoryEntitySettings() {
<span class="nc" id="L1398">        defaultInitDbSqlSessionFactoryEntitySettings(EntityDependencyOrder.INSERT_ORDER, EntityDependencyOrder.DELETE_ORDER);</span>

        // Oracle doesn't support bulk inserting for event log entries and historic task log entries
<span class="nc bnc" id="L1401" title="All 4 branches missed.">        if (isBulkInsertEnabled &amp;&amp; &quot;oracle&quot;.equals(databaseType)) {</span>
<span class="nc" id="L1402">            dbSqlSessionFactory.getBulkInserteableEntityClasses().remove(EventLogEntryEntityImpl.class);</span>
<span class="nc" id="L1403">            dbSqlSessionFactory.getBulkInserteableEntityClasses().remove(HistoricTaskLogEntryEntityImpl.class);</span>
        }
<span class="nc" id="L1405">    }</span>

    public void configureVariableServiceConfiguration() {
<span class="nc" id="L1408">        this.variableServiceConfiguration = instantiateVariableServiceConfiguration();</span>
<span class="nc" id="L1409">        this.variableServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1410">        this.variableServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1411">        this.variableServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1412">        this.variableServiceConfiguration.setExpressionManager(expressionManager);</span>

<span class="nc bnc" id="L1414" title="All 2 branches missed.">        if (this.internalHistoryVariableManager != null) {</span>
<span class="nc" id="L1415">            this.variableServiceConfiguration.setInternalHistoryVariableManager(this.internalHistoryVariableManager);</span>
        } else {
<span class="nc" id="L1417">            this.variableServiceConfiguration.setInternalHistoryVariableManager(new DefaultHistoryVariableManager(this));</span>
        }

<span class="nc" id="L1420">        this.variableServiceConfiguration.setMaxLengthString(this.getMaxLengthString());</span>
<span class="nc" id="L1421">        this.variableServiceConfiguration.setSerializableVariableTypeTrackDeserializedObjects(this.isSerializableVariableTypeTrackDeserializedObjects());</span>
<span class="nc" id="L1422">        this.variableServiceConfiguration.setLoggingSessionEnabled(isLoggingSessionEnabled());</span>
<span class="nc" id="L1423">        this.variableServiceConfiguration.setConfigurators(variableServiceConfigurators);</span>
<span class="nc" id="L1424">    }</span>

    public void initVariableServiceConfiguration() {
<span class="nc" id="L1427">        this.variableServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
<span class="nc" id="L1428">        this.variableServiceConfiguration.setVariableTypes(this.variableTypes);</span>

<span class="nc" id="L1430">        this.variableServiceConfiguration.init();</span>

<span class="nc" id="L1432">        addServiceConfiguration(EngineConfigurationConstants.KEY_VARIABLE_SERVICE_CONFIG, this.variableServiceConfiguration);</span>
<span class="nc" id="L1433">    }</span>

    protected VariableServiceConfiguration instantiateVariableServiceConfiguration() {
<span class="nc" id="L1436">        return new VariableServiceConfiguration(ScopeTypes.BPMN);</span>
    }

    public void initIdentityLinkServiceConfiguration() {
<span class="nc" id="L1440">        this.identityLinkServiceConfiguration = instantiateIdentityLinkServiceConfiguration();</span>
<span class="nc" id="L1441">        this.identityLinkServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1442">        this.identityLinkServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1443">        this.identityLinkServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1444">        this.identityLinkServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
<span class="nc" id="L1445">        this.identityLinkServiceConfiguration.setIdentityLinkEventHandler(this.identityLinkEventHandler);</span>

<span class="nc" id="L1447">        this.identityLinkServiceConfiguration.setConfigurators(this.identityLinkServiceConfigurators);</span>
<span class="nc" id="L1448">        this.identityLinkServiceConfiguration.init();</span>

<span class="nc" id="L1450">        addServiceConfiguration(EngineConfigurationConstants.KEY_IDENTITY_LINK_SERVICE_CONFIG, this.identityLinkServiceConfiguration);</span>
<span class="nc" id="L1451">    }</span>

    protected IdentityLinkServiceConfiguration instantiateIdentityLinkServiceConfiguration() {
<span class="nc" id="L1454">        return new IdentityLinkServiceConfiguration(ScopeTypes.BPMN);</span>
    }

    public void initEntityLinkServiceConfiguration() {
<span class="nc bnc" id="L1458" title="All 2 branches missed.">        if (this.enableEntityLinks) {</span>
<span class="nc" id="L1459">            this.entityLinkServiceConfiguration = instantiateEntityLinkServiceConfiguration();</span>
<span class="nc" id="L1460">            this.entityLinkServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1461">            this.entityLinkServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1462">            this.entityLinkServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1463">            this.entityLinkServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>

<span class="nc" id="L1465">            this.entityLinkServiceConfiguration.setConfigurators(this.entityLinkServiceConfigurators);</span>
<span class="nc" id="L1466">            this.entityLinkServiceConfiguration.init();</span>

<span class="nc" id="L1468">            addServiceConfiguration(EngineConfigurationConstants.KEY_ENTITY_LINK_SERVICE_CONFIG, this.entityLinkServiceConfiguration);</span>
        }
<span class="nc" id="L1470">    }</span>

    protected EntityLinkServiceConfiguration instantiateEntityLinkServiceConfiguration() {
<span class="nc" id="L1473">        return new EntityLinkServiceConfiguration(ScopeTypes.BPMN);</span>
    }
    
    public void initEventSubscriptionServiceConfiguration() {
<span class="nc" id="L1477">        this.eventSubscriptionServiceConfiguration = instantiateEventSubscriptionServiceConfiguration();</span>
<span class="nc" id="L1478">        this.eventSubscriptionServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1479">        this.eventSubscriptionServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1480">        this.eventSubscriptionServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1481">        this.eventSubscriptionServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
<span class="nc" id="L1482">        this.eventSubscriptionServiceConfiguration.setEventSubscriptionLockTime(this.eventRegistryUniqueProcessInstanceStartLockTime);</span>

<span class="nc" id="L1484">        this.eventSubscriptionServiceConfiguration.setConfigurators(this.eventSubscriptionServiceConfigurators);</span>
<span class="nc" id="L1485">        this.eventSubscriptionServiceConfiguration.init();</span>

<span class="nc" id="L1487">        addServiceConfiguration(EngineConfigurationConstants.KEY_EVENT_SUBSCRIPTION_SERVICE_CONFIG, this.eventSubscriptionServiceConfiguration);</span>
<span class="nc" id="L1488">    }</span>
    
    protected EventSubscriptionServiceConfiguration instantiateEventSubscriptionServiceConfiguration() {
<span class="nc" id="L1491">        return new EventSubscriptionServiceConfiguration(ScopeTypes.BPMN);</span>
    }

    public void initTaskServiceConfiguration() {
<span class="nc" id="L1495">        this.taskServiceConfiguration = instantiateTaskServiceConfiguration();</span>
<span class="nc" id="L1496">        this.taskServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1497">        this.taskServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1498">        this.taskServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1499">        this.taskServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
<span class="nc" id="L1500">        this.taskServiceConfiguration.setEnableHistoricTaskLogging(this.enableHistoricTaskLogging);</span>

<span class="nc bnc" id="L1502" title="All 2 branches missed.">        if (this.taskPostProcessor != null) {</span>
<span class="nc" id="L1503">            this.taskServiceConfiguration.setTaskPostProcessor(this.taskPostProcessor);</span>
        } else {
<span class="nc" id="L1505">            this.taskServiceConfiguration.setTaskPostProcessor(new DefaultTaskPostProcessor());</span>
        }

<span class="nc bnc" id="L1508" title="All 2 branches missed.">        if (this.internalHistoryTaskManager != null) {</span>
<span class="nc" id="L1509">            this.taskServiceConfiguration.setInternalHistoryTaskManager(this.internalHistoryTaskManager);</span>
        } else {
<span class="nc" id="L1511">            this.taskServiceConfiguration.setInternalHistoryTaskManager(new DefaultHistoryTaskManager(this));</span>
        }

<span class="nc bnc" id="L1514" title="All 2 branches missed.">        if (this.internalTaskVariableScopeResolver != null) {</span>
<span class="nc" id="L1515">            this.taskServiceConfiguration.setInternalTaskVariableScopeResolver(this.internalTaskVariableScopeResolver);</span>
        } else {
<span class="nc" id="L1517">            this.taskServiceConfiguration.setInternalTaskVariableScopeResolver(new DefaultTaskVariableScopeResolver(this));</span>
        }

<span class="nc bnc" id="L1520" title="All 2 branches missed.">        if (this.internalTaskAssignmentManager != null) {</span>
<span class="nc" id="L1521">            this.taskServiceConfiguration.setInternalTaskAssignmentManager(this.internalTaskAssignmentManager);</span>
        } else {
<span class="nc" id="L1523">            this.taskServiceConfiguration.setInternalTaskAssignmentManager(new DefaultTaskAssignmentManager());</span>
        }

<span class="nc bnc" id="L1526" title="All 2 branches missed.">        if (this.internalTaskLocalizationManager != null) {</span>
<span class="nc" id="L1527">            this.taskServiceConfiguration.setInternalTaskLocalizationManager(this.internalTaskLocalizationManager);</span>
        } else {
<span class="nc" id="L1529">            this.taskServiceConfiguration.setInternalTaskLocalizationManager(new DefaultTaskLocalizationManager(this));</span>
        }

<span class="nc" id="L1532">        this.taskServiceConfiguration.setEnableTaskRelationshipCounts(this.performanceSettings.isEnableTaskRelationshipCounts());</span>
<span class="nc" id="L1533">        this.taskServiceConfiguration.setEnableLocalization(this.performanceSettings.isEnableLocalization());</span>
<span class="nc" id="L1534">        this.taskServiceConfiguration.setTaskQueryInterceptor(this.taskQueryInterceptor);</span>
<span class="nc" id="L1535">        this.taskServiceConfiguration.setHistoricTaskQueryInterceptor(this.historicTaskQueryInterceptor);</span>
        
<span class="nc" id="L1537">        this.taskServiceConfiguration.setConfigurators(this.taskServiceConfigurators);</span>
<span class="nc" id="L1538">        this.taskServiceConfiguration.init();</span>

<span class="nc bnc" id="L1540" title="All 4 branches missed.">        if (dbSqlSessionFactory != null &amp;&amp; taskServiceConfiguration.getTaskDataManager() instanceof AbstractDataManager) {</span>
<span class="nc" id="L1541">            dbSqlSessionFactory.addLogicalEntityClassMapping(&quot;task&quot;, ((AbstractDataManager) taskServiceConfiguration.getTaskDataManager()).getManagedEntityClass());</span>
        }

<span class="nc" id="L1544">        addServiceConfiguration(EngineConfigurationConstants.KEY_TASK_SERVICE_CONFIG, this.taskServiceConfiguration);</span>
<span class="nc" id="L1545">    }</span>

    protected TaskServiceConfiguration instantiateTaskServiceConfiguration() {
<span class="nc" id="L1548">        return new TaskServiceConfiguration(ScopeTypes.BPMN);</span>
    }
    
    public void configureJobServiceConfiguration() {
<span class="nc bnc" id="L1552" title="All 2 branches missed.">        if (jobServiceConfiguration == null) {</span>
<span class="nc" id="L1553">            this.jobServiceConfiguration = instantiateJobServiceConfiguration();</span>
<span class="nc" id="L1554">            this.jobServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1555">            this.jobServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1556">            this.jobServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1557">            this.jobServiceConfiguration.setCommandExecutor(this.commandExecutor);</span>
<span class="nc" id="L1558">            this.jobServiceConfiguration.setExpressionManager(this.expressionManager);</span>

<span class="nc" id="L1560">            List&lt;AsyncRunnableExecutionExceptionHandler&gt; exceptionHandlers = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L1561" title="All 2 branches missed.">            if (customAsyncRunnableExecutionExceptionHandlers != null) {</span>
<span class="nc" id="L1562">                exceptionHandlers.addAll(customAsyncRunnableExecutionExceptionHandlers);</span>
            }

<span class="nc bnc" id="L1565" title="All 2 branches missed.">            if (addDefaultExceptionHandler) {</span>
<span class="nc" id="L1566">                exceptionHandlers.add(new DefaultAsyncRunnableExecutionExceptionHandler());</span>
            }

<span class="nc bnc" id="L1569" title="All 2 branches missed.">            if (internalJobParentStateResolver != null) {</span>
<span class="nc" id="L1570">                this.jobServiceConfiguration.setJobParentStateResolver(internalJobParentStateResolver);</span>
            } else {
<span class="nc" id="L1572">                this.jobServiceConfiguration.setJobParentStateResolver(new DefaultProcessJobParentStateResolver(this));</span>
            }

<span class="nc" id="L1575">            this.jobServiceConfiguration.setAsyncRunnableExecutionExceptionHandlers(exceptionHandlers);</span>
<span class="nc" id="L1576">            this.jobServiceConfiguration.setAsyncExecutorNumberOfRetries(this.asyncExecutorNumberOfRetries);</span>
<span class="nc" id="L1577">            this.jobServiceConfiguration.setAsyncExecutorResetExpiredJobsMaxTimeout(this.asyncExecutorResetExpiredJobsMaxTimeout);</span>

<span class="nc bnc" id="L1579" title="All 2 branches missed.">            if (this.jobManager != null) {</span>
<span class="nc" id="L1580">                this.jobServiceConfiguration.setJobManager(this.jobManager);</span>
            }

<span class="nc bnc" id="L1583" title="All 2 branches missed.">            if (this.internalJobManager != null) {</span>
<span class="nc" id="L1584">                this.jobServiceConfiguration.setInternalJobManager(this.internalJobManager);</span>
            } else {
<span class="nc" id="L1586">                this.jobServiceConfiguration.setInternalJobManager(new DefaultInternalJobManager(this));</span>
            }

<span class="nc bnc" id="L1589" title="All 2 branches missed.">            if (this.internalJobCompatibilityManager != null) {</span>
<span class="nc" id="L1590">                this.jobServiceConfiguration.setInternalJobCompatibilityManager(internalJobCompatibilityManager);</span>
            } else {
<span class="nc" id="L1592">                this.jobServiceConfiguration.setInternalJobCompatibilityManager(new DefaultInternalJobCompatibilityManager(this));</span>
            }

            // set the job processors
<span class="nc" id="L1596">            this.jobServiceConfiguration.setJobProcessors(this.jobProcessors);</span>
<span class="nc" id="L1597">            this.jobServiceConfiguration.setHistoryJobProcessors(this.historyJobProcessors);</span>

<span class="nc" id="L1599">            this.jobServiceConfiguration.setJobExecutionScope(this.jobExecutionScope);</span>
<span class="nc" id="L1600">            this.jobServiceConfiguration.setHistoryJobExecutionScope(this.historyJobExecutionScope);</span>
            
<span class="nc bnc" id="L1602" title="All 2 branches missed.">            if (enabledJobCategories != null) {</span>
<span class="nc" id="L1603">                this.jobServiceConfiguration.setEnabledJobCategories(enabledJobCategories);</span>
            }

<span class="nc" id="L1606">            this.jobServiceConfiguration.setConfigurators(jobServiceConfigurators);</span>
        }
<span class="nc" id="L1608">    }</span>

    public void initJobServiceConfiguration() {
<span class="nc" id="L1611">        this.jobServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
<span class="nc" id="L1612">        this.jobServiceConfiguration.setBusinessCalendarManager(this.businessCalendarManager);</span>
<span class="nc" id="L1613">        this.jobServiceConfiguration.setFailedJobCommandFactory(this.failedJobCommandFactory);</span>
        
<span class="nc" id="L1615">        this.jobServiceConfiguration.init();</span>

<span class="nc bnc" id="L1617" title="All 2 branches missed.">        if (this.jobHandlers != null) {</span>
<span class="nc bnc" id="L1618" title="All 2 branches missed.">            for (String type : this.jobHandlers.keySet()) {</span>
<span class="nc" id="L1619">                this.jobServiceConfiguration.addJobHandler(type, this.jobHandlers.get(type));</span>
<span class="nc" id="L1620">            }</span>
        }

<span class="nc bnc" id="L1623" title="All 2 branches missed.">        if (this.historyJobHandlers != null) {</span>
<span class="nc bnc" id="L1624" title="All 2 branches missed.">            for (String type : this.historyJobHandlers.keySet()) {</span>
<span class="nc" id="L1625">                this.jobServiceConfiguration.addHistoryJobHandler(type, this.historyJobHandlers.get(type));</span>
<span class="nc" id="L1626">            }</span>
        }

<span class="nc" id="L1629">        addServiceConfiguration(EngineConfigurationConstants.KEY_JOB_SERVICE_CONFIG, this.jobServiceConfiguration);</span>
<span class="nc" id="L1630">    }</span>

    protected JobServiceConfiguration instantiateJobServiceConfiguration() {
<span class="nc" id="L1633">        return new JobServiceConfiguration(ScopeTypes.BPMN);</span>
    }

    public void addJobHandler(JobHandler jobHandler) {
<span class="nc" id="L1637">        this.jobHandlers.put(jobHandler.getType(), jobHandler);</span>
<span class="nc bnc" id="L1638" title="All 2 branches missed.">        if (this.jobServiceConfiguration != null) {</span>
<span class="nc" id="L1639">            this.jobServiceConfiguration.addJobHandler(jobHandler.getType(), jobHandler);</span>
        }
<span class="nc" id="L1641">    }</span>

    public void removeJobHandler(String jobHandlerType) {
<span class="nc" id="L1644">        this.jobHandlers.remove(jobHandlerType);</span>
<span class="nc bnc" id="L1645" title="All 2 branches missed.">        if (this.jobServiceConfiguration != null) {</span>
<span class="nc" id="L1646">            this.jobServiceConfiguration.getJobHandlers().remove(jobHandlerType);</span>
        }
<span class="nc" id="L1648">    }</span>

    public void addHistoryJobHandler(HistoryJobHandler historyJobHandler) {
<span class="nc" id="L1651">        this.historyJobHandlers.put(historyJobHandler.getType(), historyJobHandler);</span>
<span class="nc bnc" id="L1652" title="All 2 branches missed.">        if (this.jobServiceConfiguration != null) {</span>
<span class="nc" id="L1653">            this.jobServiceConfiguration.addHistoryJobHandler(historyJobHandler.getType(), historyJobHandler);</span>
        }
<span class="nc" id="L1655">    }</span>
    
    public void initBatchServiceConfiguration() {
<span class="nc bnc" id="L1658" title="All 2 branches missed.">        if (batchServiceConfiguration == null) {</span>
<span class="nc" id="L1659">            this.batchServiceConfiguration = instantiateBatchServiceConfiguration();</span>
<span class="nc" id="L1660">            this.batchServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1661">            this.batchServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1662">            this.batchServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1663">            this.batchServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>

<span class="nc" id="L1665">            this.batchServiceConfiguration.setConfigurators(this.batchServiceConfigurators);</span>
<span class="nc" id="L1666">            this.batchServiceConfiguration.init();</span>
        }

<span class="nc" id="L1669">        addServiceConfiguration(EngineConfigurationConstants.KEY_BATCH_SERVICE_CONFIG, this.batchServiceConfiguration);</span>
<span class="nc" id="L1670">    }</span>
    
    protected BatchServiceConfiguration instantiateBatchServiceConfiguration() {
<span class="nc" id="L1673">        return new BatchServiceConfiguration(ScopeTypes.BPMN);</span>
    }

    public void afterInitTaskServiceConfiguration() {
<span class="nc bnc" id="L1677" title="All 2 branches missed.">        if (engineConfigurations.containsKey(EngineConfigurationConstants.KEY_IDM_ENGINE_CONFIG)) {</span>
<span class="nc" id="L1678">            IdmEngineConfigurationApi idmEngineConfiguration = (IdmEngineConfigurationApi) engineConfigurations.get(EngineConfigurationConstants.KEY_IDM_ENGINE_CONFIG);</span>
<span class="nc" id="L1679">            this.taskServiceConfiguration.setIdmIdentityService(idmEngineConfiguration.getIdmIdentityService());</span>
        }
<span class="nc" id="L1681">    }</span>
    
    public void afterInitEventRegistryEventBusConsumer() {
<span class="nc" id="L1684">        EventRegistryEventConsumer bpmnEventRegistryEventConsumer = null;</span>
<span class="nc bnc" id="L1685" title="All 2 branches missed.">        if (eventRegistryEventConsumer != null) {</span>
<span class="nc" id="L1686">            bpmnEventRegistryEventConsumer = eventRegistryEventConsumer;</span>
        } else {
<span class="nc" id="L1688">            bpmnEventRegistryEventConsumer = new BpmnEventRegistryEventConsumer(this);</span>
        }
        
<span class="nc" id="L1691">        addEventRegistryEventConsumer(bpmnEventRegistryEventConsumer.getConsumerKey(), bpmnEventRegistryEventConsumer);</span>
<span class="nc" id="L1692">    }</span>
    
    public void initHistoryCleaningManager() {
<span class="nc bnc" id="L1695" title="All 2 branches missed.">        if (historyCleaningManager == null) {</span>
<span class="nc" id="L1696">            historyCleaningManager = new DefaultHistoryCleaningManager(this);</span>
        }
<span class="nc" id="L1698">    }</span>

    public void removeHistoryJobHandler(String historyJobHandlerType) {
<span class="nc" id="L1701">        this.historyJobHandlers.remove(historyJobHandlerType);</span>
<span class="nc bnc" id="L1702" title="All 2 branches missed.">        if (this.jobServiceConfiguration != null) {</span>
<span class="nc" id="L1703">            this.jobServiceConfiguration.getHistoryJobHandlers().remove(historyJobHandlerType);</span>
        }
<span class="nc" id="L1705">    }</span>

    // deployers
    // ////////////////////////////////////////////////////////////////

    public void initProcessDefinitionCache() {
<span class="nc bnc" id="L1711" title="All 2 branches missed.">        if (processDefinitionCache == null) {</span>
<span class="nc bnc" id="L1712" title="All 2 branches missed.">            if (processDefinitionCacheLimit &lt;= 0) {</span>
<span class="nc" id="L1713">                processDefinitionCache = new DefaultDeploymentCache&lt;&gt;();</span>
            } else {
<span class="nc" id="L1715">                processDefinitionCache = new DefaultDeploymentCache&lt;&gt;(processDefinitionCacheLimit);</span>
            }
        }
<span class="nc" id="L1718">    }</span>

    public void initProcessDefinitionInfoCache() {
<span class="nc bnc" id="L1721" title="All 2 branches missed.">        if (processDefinitionInfoCache == null) {</span>
<span class="nc bnc" id="L1722" title="All 2 branches missed.">            if (processDefinitionInfoCacheLimit &lt;= 0) {</span>
<span class="nc" id="L1723">                processDefinitionInfoCache = new ProcessDefinitionInfoCache(commandExecutor);</span>
            } else {
<span class="nc" id="L1725">                processDefinitionInfoCache = new ProcessDefinitionInfoCache(commandExecutor, processDefinitionInfoCacheLimit);</span>
            }
        }
<span class="nc" id="L1728">    }</span>

    public void initAppResourceCache() {
<span class="nc bnc" id="L1731" title="All 2 branches missed.">        if (appResourceCache == null) {</span>
<span class="nc bnc" id="L1732" title="All 2 branches missed.">            if (appResourceCacheLimit &lt;= 0) {</span>
<span class="nc" id="L1733">                appResourceCache = new DefaultDeploymentCache&lt;&gt;();</span>
            } else {
<span class="nc" id="L1735">                appResourceCache = new DefaultDeploymentCache&lt;&gt;(appResourceCacheLimit);</span>
            }
        }
<span class="nc" id="L1738">    }</span>

    public void initKnowledgeBaseCache() {
<span class="nc bnc" id="L1741" title="All 2 branches missed.">        if (knowledgeBaseCache == null) {</span>
<span class="nc bnc" id="L1742" title="All 2 branches missed.">            if (knowledgeBaseCacheLimit &lt;= 0) {</span>
<span class="nc" id="L1743">                knowledgeBaseCache = new DefaultDeploymentCache&lt;&gt;();</span>
            } else {
<span class="nc" id="L1745">                knowledgeBaseCache = new DefaultDeploymentCache&lt;&gt;(knowledgeBaseCacheLimit);</span>
            }
        }
<span class="nc" id="L1748">    }</span>

    public void initDeployers() {
<span class="nc bnc" id="L1751" title="All 2 branches missed.">        if (this.deployers == null) {</span>
<span class="nc" id="L1752">            this.deployers = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L1753" title="All 2 branches missed.">            if (customPreDeployers != null) {</span>
<span class="nc" id="L1754">                this.deployers.addAll(customPreDeployers);</span>
            }
<span class="nc" id="L1756">            this.deployers.addAll(getDefaultDeployers());</span>
<span class="nc bnc" id="L1757" title="All 2 branches missed.">            if (customPostDeployers != null) {</span>
<span class="nc" id="L1758">                this.deployers.addAll(customPostDeployers);</span>
            }
        }

<span class="nc bnc" id="L1762" title="All 2 branches missed.">        if (deploymentManager == null) {</span>
<span class="nc" id="L1763">            deploymentManager = new DeploymentManager();</span>
<span class="nc" id="L1764">            deploymentManager.setDeployers(deployers);</span>

<span class="nc" id="L1766">            deploymentManager.setProcessDefinitionCache(processDefinitionCache);</span>
<span class="nc" id="L1767">            deploymentManager.setProcessDefinitionInfoCache(processDefinitionInfoCache);</span>
<span class="nc" id="L1768">            deploymentManager.setAppResourceCache(appResourceCache);</span>
<span class="nc" id="L1769">            deploymentManager.setKnowledgeBaseCache(knowledgeBaseCache);</span>
<span class="nc" id="L1770">            deploymentManager.setProcessEngineConfiguration(this);</span>
<span class="nc" id="L1771">            deploymentManager.setProcessDefinitionEntityManager(processDefinitionEntityManager);</span>
<span class="nc" id="L1772">            deploymentManager.setDeploymentEntityManager(deploymentEntityManager);</span>
        }

<span class="nc bnc" id="L1775" title="All 2 branches missed.">        if (appResourceConverter == null) {</span>
<span class="nc" id="L1776">            appResourceConverter = new AppResourceConverterImpl(objectMapper);</span>
        }
<span class="nc" id="L1778">    }</span>

    public void initBpmnDeployerDependencies() {

<span class="nc bnc" id="L1782" title="All 2 branches missed.">        if (parsedDeploymentBuilderFactory == null) {</span>
<span class="nc" id="L1783">            parsedDeploymentBuilderFactory = new ParsedDeploymentBuilderFactory();</span>
        }
<span class="nc bnc" id="L1785" title="All 2 branches missed.">        if (parsedDeploymentBuilderFactory.getBpmnParser() == null) {</span>
<span class="nc" id="L1786">            parsedDeploymentBuilderFactory.setBpmnParser(bpmnParser);</span>
        }

<span class="nc bnc" id="L1789" title="All 2 branches missed.">        if (timerManager == null) {</span>
<span class="nc" id="L1790">            timerManager = new TimerManager();</span>
        }

<span class="nc bnc" id="L1793" title="All 2 branches missed.">        if (eventSubscriptionManager == null) {</span>
<span class="nc" id="L1794">            eventSubscriptionManager = new EventSubscriptionManager();</span>
        }

<span class="nc bnc" id="L1797" title="All 2 branches missed.">        if (bpmnDeploymentHelper == null) {</span>
<span class="nc" id="L1798">            bpmnDeploymentHelper = new BpmnDeploymentHelper();</span>
        }
<span class="nc bnc" id="L1800" title="All 2 branches missed.">        if (bpmnDeploymentHelper.getTimerManager() == null) {</span>
<span class="nc" id="L1801">            bpmnDeploymentHelper.setTimerManager(timerManager);</span>
        }
<span class="nc bnc" id="L1803" title="All 2 branches missed.">        if (bpmnDeploymentHelper.getEventSubscriptionManager() == null) {</span>
<span class="nc" id="L1804">            bpmnDeploymentHelper.setEventSubscriptionManager(eventSubscriptionManager);</span>
        }

<span class="nc bnc" id="L1807" title="All 2 branches missed.">        if (cachingAndArtifactsManager == null) {</span>
<span class="nc" id="L1808">            cachingAndArtifactsManager = new CachingAndArtifactsManager();</span>
        }

<span class="nc bnc" id="L1811" title="All 2 branches missed.">        if (processDefinitionDiagramHelper == null) {</span>
<span class="nc" id="L1812">            processDefinitionDiagramHelper = new ProcessDefinitionDiagramHelper();</span>
        }
<span class="nc" id="L1814">    }</span>

    public Collection&lt;? extends EngineDeployer&gt; getDefaultDeployers() {
<span class="nc" id="L1817">        List&lt;EngineDeployer&gt; defaultDeployers = new ArrayList&lt;&gt;();</span>

<span class="nc bnc" id="L1819" title="All 2 branches missed.">        if (bpmnDeployer == null) {</span>
<span class="nc" id="L1820">            bpmnDeployer = new BpmnDeployer();</span>
        }

<span class="nc" id="L1823">        initBpmnDeployerDependencies();</span>

<span class="nc" id="L1825">        bpmnDeployer.setIdGenerator(idGenerator);</span>
<span class="nc" id="L1826">        bpmnDeployer.setParsedDeploymentBuilderFactory(parsedDeploymentBuilderFactory);</span>
<span class="nc" id="L1827">        bpmnDeployer.setBpmnDeploymentHelper(bpmnDeploymentHelper);</span>
<span class="nc" id="L1828">        bpmnDeployer.setCachingAndArtifactsManager(cachingAndArtifactsManager);</span>
<span class="nc" id="L1829">        bpmnDeployer.setProcessDefinitionDiagramHelper(processDefinitionDiagramHelper);</span>
<span class="nc" id="L1830">        bpmnDeployer.setUsePrefixId(usePrefixId);</span>

<span class="nc" id="L1832">        defaultDeployers.add(bpmnDeployer);</span>

<span class="nc bnc" id="L1834" title="All 2 branches missed.">        if (appDeployer == null) {</span>
<span class="nc" id="L1835">            appDeployer = new AppDeployer();</span>
        }

<span class="nc" id="L1838">        defaultDeployers.add(appDeployer);</span>

<span class="nc" id="L1840">        return defaultDeployers;</span>
    }

    public void initListenerFactory() {
<span class="nc bnc" id="L1844" title="All 2 branches missed.">        if (listenerFactory == null) {</span>
<span class="nc" id="L1845">            DefaultListenerFactory defaultListenerFactory = new DefaultListenerFactory();</span>
<span class="nc" id="L1846">            defaultListenerFactory.setExpressionManager(expressionManager);</span>
<span class="nc" id="L1847">            listenerFactory = defaultListenerFactory;</span>
<span class="nc bnc" id="L1848" title="All 4 branches missed.">        } else if ((listenerFactory instanceof AbstractBehaviorFactory) &amp;&amp; ((AbstractBehaviorFactory) listenerFactory).getExpressionManager() == null) {</span>
<span class="nc" id="L1849">            ((AbstractBehaviorFactory) listenerFactory).setExpressionManager(expressionManager);</span>
        }
<span class="nc" id="L1851">    }</span>

    public void initWsdlImporterFactory() {
<span class="nc bnc" id="L1854" title="All 2 branches missed.">        if (wsWsdlImporterFactory == null) {</span>
<span class="nc" id="L1855">            DefaultXMLImporterFactory defaultListenerFactory = new DefaultXMLImporterFactory();</span>
<span class="nc" id="L1856">            wsWsdlImporterFactory = defaultListenerFactory;</span>
        }
<span class="nc" id="L1858">    }</span>

    public void initBehaviorFactory() {
<span class="nc bnc" id="L1861" title="All 2 branches missed.">        if (activityBehaviorFactory == null) {</span>
<span class="nc" id="L1862">            DefaultActivityBehaviorFactory defaultActivityBehaviorFactory = new DefaultActivityBehaviorFactory();</span>
<span class="nc" id="L1863">            defaultActivityBehaviorFactory.setExpressionManager(expressionManager);</span>
<span class="nc" id="L1864">            activityBehaviorFactory = defaultActivityBehaviorFactory;</span>
<span class="nc bnc" id="L1865" title="All 4 branches missed.">        } else if ((activityBehaviorFactory instanceof AbstractBehaviorFactory) &amp;&amp; ((AbstractBehaviorFactory) activityBehaviorFactory).getExpressionManager() == null) {</span>
<span class="nc" id="L1866">            ((AbstractBehaviorFactory) activityBehaviorFactory).setExpressionManager(expressionManager);</span>
        }
<span class="nc" id="L1868">    }</span>

    public void initBpmnParser() {
<span class="nc bnc" id="L1871" title="All 2 branches missed.">        if (bpmnParser == null) {</span>
<span class="nc" id="L1872">            bpmnParser = new BpmnParser();</span>
        }

<span class="nc bnc" id="L1875" title="All 2 branches missed.">        if (bpmnParseFactory == null) {</span>
<span class="nc" id="L1876">            bpmnParseFactory = new DefaultBpmnParseFactory();</span>
        }

<span class="nc" id="L1879">        bpmnParser.setBpmnParseFactory(bpmnParseFactory);</span>
<span class="nc" id="L1880">        bpmnParser.setActivityBehaviorFactory(activityBehaviorFactory);</span>
<span class="nc" id="L1881">        bpmnParser.setListenerFactory(listenerFactory);</span>

<span class="nc" id="L1883">        List&lt;BpmnParseHandler&gt; parseHandlers = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L1884" title="All 2 branches missed.">        if (getPreBpmnParseHandlers() != null) {</span>
<span class="nc" id="L1885">            parseHandlers.addAll(getPreBpmnParseHandlers());</span>
        }
<span class="nc" id="L1887">        parseHandlers.addAll(getDefaultBpmnParseHandlers());</span>
<span class="nc bnc" id="L1888" title="All 2 branches missed.">        if (getPostBpmnParseHandlers() != null) {</span>
<span class="nc" id="L1889">            parseHandlers.addAll(getPostBpmnParseHandlers());</span>
        }

<span class="nc" id="L1892">        BpmnParseHandlers bpmnParseHandlers = new BpmnParseHandlers();</span>
<span class="nc" id="L1893">        bpmnParseHandlers.addHandlers(parseHandlers);</span>
<span class="nc" id="L1894">        bpmnParser.setBpmnParserHandlers(bpmnParseHandlers);</span>
<span class="nc" id="L1895">    }</span>

    public List&lt;BpmnParseHandler&gt; getDefaultBpmnParseHandlers() {

        // Alphabetic list of default parse handler classes
<span class="nc" id="L1900">        List&lt;BpmnParseHandler&gt; bpmnParserHandlers = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L1901">        bpmnParserHandlers.add(new BoundaryEventParseHandler());</span>
<span class="nc" id="L1902">        bpmnParserHandlers.add(new BusinessRuleParseHandler());</span>
<span class="nc" id="L1903">        bpmnParserHandlers.add(new CallActivityParseHandler());</span>
<span class="nc" id="L1904">        bpmnParserHandlers.add(new CaseServiceTaskParseHandler());</span>
<span class="nc" id="L1905">        bpmnParserHandlers.add(new CancelEventDefinitionParseHandler());</span>
<span class="nc" id="L1906">        bpmnParserHandlers.add(new CompensateEventDefinitionParseHandler());</span>
<span class="nc" id="L1907">        bpmnParserHandlers.add(new ConditionalEventDefinitionParseHandler());</span>
<span class="nc" id="L1908">        bpmnParserHandlers.add(new EndEventParseHandler());</span>
<span class="nc" id="L1909">        bpmnParserHandlers.add(new ErrorEventDefinitionParseHandler());</span>
<span class="nc" id="L1910">        bpmnParserHandlers.add(new EscalationEventDefinitionParseHandler());</span>
<span class="nc" id="L1911">        bpmnParserHandlers.add(new EventBasedGatewayParseHandler());</span>
<span class="nc" id="L1912">        bpmnParserHandlers.add(new ExclusiveGatewayParseHandler());</span>
<span class="nc" id="L1913">        bpmnParserHandlers.add(new InclusiveGatewayParseHandler());</span>
<span class="nc" id="L1914">        bpmnParserHandlers.add(new IntermediateCatchEventParseHandler());</span>
<span class="nc" id="L1915">        bpmnParserHandlers.add(new IntermediateThrowEventParseHandler());</span>
<span class="nc" id="L1916">        bpmnParserHandlers.add(new ManualTaskParseHandler());</span>
<span class="nc" id="L1917">        bpmnParserHandlers.add(new MessageEventDefinitionParseHandler());</span>
<span class="nc" id="L1918">        bpmnParserHandlers.add(new ParallelGatewayParseHandler());</span>
<span class="nc" id="L1919">        bpmnParserHandlers.add(new ProcessParseHandler());</span>
<span class="nc" id="L1920">        bpmnParserHandlers.add(new ReceiveTaskParseHandler());</span>
<span class="nc" id="L1921">        bpmnParserHandlers.add(new ScriptTaskParseHandler());</span>
<span class="nc" id="L1922">        bpmnParserHandlers.add(new SendEventServiceTaskParseHandler());</span>
<span class="nc" id="L1923">        bpmnParserHandlers.add(new ExternalWorkerServiceTaskParseHandler());</span>
<span class="nc" id="L1924">        bpmnParserHandlers.add(new SendTaskParseHandler());</span>
<span class="nc" id="L1925">        bpmnParserHandlers.add(new SequenceFlowParseHandler());</span>
<span class="nc" id="L1926">        bpmnParserHandlers.add(new ServiceTaskParseHandler());</span>
<span class="nc" id="L1927">        bpmnParserHandlers.add(new HttpServiceTaskParseHandler());</span>
<span class="nc" id="L1928">        bpmnParserHandlers.add(new SignalEventDefinitionParseHandler());</span>
<span class="nc" id="L1929">        bpmnParserHandlers.add(new StartEventParseHandler());</span>
<span class="nc" id="L1930">        bpmnParserHandlers.add(new SubProcessParseHandler());</span>
<span class="nc" id="L1931">        bpmnParserHandlers.add(new EventSubProcessParseHandler());</span>
<span class="nc" id="L1932">        bpmnParserHandlers.add(new AdhocSubProcessParseHandler());</span>
<span class="nc" id="L1933">        bpmnParserHandlers.add(new TaskParseHandler());</span>
<span class="nc" id="L1934">        bpmnParserHandlers.add(new TimerEventDefinitionParseHandler());</span>
<span class="nc" id="L1935">        bpmnParserHandlers.add(new TransactionParseHandler());</span>
<span class="nc" id="L1936">        bpmnParserHandlers.add(new UserTaskParseHandler());</span>
<span class="nc" id="L1937">        bpmnParserHandlers.add(new VariableListenerEventDefinitionParseHandler());</span>

        // Replace any default handler if the user wants to replace them
<span class="nc bnc" id="L1940" title="All 2 branches missed.">        if (customDefaultBpmnParseHandlers != null) {</span>

<span class="nc" id="L1942">            Map&lt;Class&lt;?&gt;, BpmnParseHandler&gt; customParseHandlerMap = new HashMap&lt;&gt;();</span>
<span class="nc bnc" id="L1943" title="All 2 branches missed.">            for (BpmnParseHandler bpmnParseHandler : customDefaultBpmnParseHandlers) {</span>
<span class="nc bnc" id="L1944" title="All 2 branches missed.">                for (Class&lt;?&gt; handledType : bpmnParseHandler.getHandledTypes()) {</span>
<span class="nc" id="L1945">                    customParseHandlerMap.put(handledType, bpmnParseHandler);</span>
<span class="nc" id="L1946">                }</span>
<span class="nc" id="L1947">            }</span>

<span class="nc bnc" id="L1949" title="All 2 branches missed.">            for (int i = 0; i &lt; bpmnParserHandlers.size(); i++) {</span>
                // All the default handlers support only one type
<span class="nc" id="L1951">                BpmnParseHandler defaultBpmnParseHandler = bpmnParserHandlers.get(i);</span>
<span class="nc bnc" id="L1952" title="All 2 branches missed.">                if (defaultBpmnParseHandler.getHandledTypes().size() != 1) {</span>
<span class="nc" id="L1953">                    StringBuilder supportedTypes = new StringBuilder();</span>
<span class="nc bnc" id="L1954" title="All 2 branches missed.">                    for (Class&lt;?&gt; type : defaultBpmnParseHandler.getHandledTypes()) {</span>
<span class="nc" id="L1955">                        supportedTypes.append(&quot; &quot;).append(type.getCanonicalName()).append(&quot; &quot;);</span>
<span class="nc" id="L1956">                    }</span>
<span class="nc" id="L1957">                    throw new FlowableException(&quot;The default BPMN parse handlers should only support one type, but &quot; + defaultBpmnParseHandler.getClass() + &quot; supports &quot; + supportedTypes</span>
                        + &quot;. This is likely a programmatic error&quot;);
                } else {
<span class="nc" id="L1960">                    Class&lt;?&gt; handledType = defaultBpmnParseHandler.getHandledTypes().iterator().next();</span>
<span class="nc bnc" id="L1961" title="All 2 branches missed.">                    if (customParseHandlerMap.containsKey(handledType)) {</span>
<span class="nc" id="L1962">                        BpmnParseHandler newBpmnParseHandler = customParseHandlerMap.get(handledType);</span>
<span class="nc" id="L1963">                        logger.info(&quot;Replacing default BpmnParseHandler {} with {}&quot;, defaultBpmnParseHandler.getClass().getName(), newBpmnParseHandler.getClass().getName());</span>
<span class="nc" id="L1964">                        bpmnParserHandlers.set(i, newBpmnParseHandler);</span>
                    }
                }
            }
        }

<span class="nc" id="L1970">        return bpmnParserHandlers;</span>
    }

    public void initProcessDiagramGenerator() {
<span class="nc bnc" id="L1974" title="All 2 branches missed.">        if (processDiagramGenerator == null) {</span>
<span class="nc" id="L1975">            processDiagramGenerator = new DefaultProcessDiagramGenerator();</span>
        }
<span class="nc" id="L1977">    }</span>

    public void initJobHandlers() {
<span class="nc" id="L1980">        jobHandlers = new HashMap&lt;&gt;();</span>

<span class="nc" id="L1982">        AsyncContinuationJobHandler asyncContinuationJobHandler = new AsyncContinuationJobHandler();</span>
<span class="nc" id="L1983">        jobHandlers.put(asyncContinuationJobHandler.getType(), asyncContinuationJobHandler);</span>

<span class="nc" id="L1985">        AsyncLeaveJobHandler asyncLeaveJobHandler = new AsyncLeaveJobHandler();</span>
<span class="nc" id="L1986">        jobHandlers.put(asyncLeaveJobHandler.getType(), asyncLeaveJobHandler);</span>

<span class="nc" id="L1988">        AsyncTriggerJobHandler asyncTriggerJobHandler = new AsyncTriggerJobHandler();</span>
<span class="nc" id="L1989">        jobHandlers.put(asyncTriggerJobHandler.getType(), asyncTriggerJobHandler);</span>

<span class="nc" id="L1991">        TriggerTimerEventJobHandler triggerTimerEventJobHandler = new TriggerTimerEventJobHandler();</span>
<span class="nc" id="L1992">        jobHandlers.put(triggerTimerEventJobHandler.getType(), triggerTimerEventJobHandler);</span>

<span class="nc" id="L1994">        TimerStartEventJobHandler timerStartEvent = new TimerStartEventJobHandler();</span>
<span class="nc" id="L1995">        jobHandlers.put(timerStartEvent.getType(), timerStartEvent);</span>

<span class="nc" id="L1997">        TimerSuspendProcessDefinitionHandler suspendProcessDefinitionHandler = new TimerSuspendProcessDefinitionHandler();</span>
<span class="nc" id="L1998">        jobHandlers.put(suspendProcessDefinitionHandler.getType(), suspendProcessDefinitionHandler);</span>

<span class="nc" id="L2000">        TimerActivateProcessDefinitionHandler activateProcessDefinitionHandler = new TimerActivateProcessDefinitionHandler();</span>
<span class="nc" id="L2001">        jobHandlers.put(activateProcessDefinitionHandler.getType(), activateProcessDefinitionHandler);</span>

<span class="nc" id="L2003">        ProcessEventJobHandler processEventJobHandler = new ProcessEventJobHandler();</span>
<span class="nc" id="L2004">        jobHandlers.put(processEventJobHandler.getType(), processEventJobHandler);</span>

<span class="nc" id="L2006">        AsyncCompleteCallActivityJobHandler asyncCompleteCallActivityJobHandler = new AsyncCompleteCallActivityJobHandler();</span>
<span class="nc" id="L2007">        jobHandlers.put(asyncCompleteCallActivityJobHandler.getType(), asyncCompleteCallActivityJobHandler);</span>
        
<span class="nc" id="L2009">        AsyncSendEventJobHandler asyncSendEventJobHandler = new AsyncSendEventJobHandler();</span>
<span class="nc" id="L2010">        jobHandlers.put(asyncSendEventJobHandler.getType(), asyncSendEventJobHandler);</span>
        
<span class="nc" id="L2012">        BpmnHistoryCleanupJobHandler bpmnHistoryCleanupJobHandler = new BpmnHistoryCleanupJobHandler();</span>
<span class="nc" id="L2013">        jobHandlers.put(bpmnHistoryCleanupJobHandler.getType(), bpmnHistoryCleanupJobHandler);</span>

<span class="nc" id="L2015">        ProcessInstanceMigrationJobHandler processInstanceMigrationJobHandler = new ProcessInstanceMigrationJobHandler();</span>
<span class="nc" id="L2016">        jobHandlers.put(processInstanceMigrationJobHandler.getType(), processInstanceMigrationJobHandler);</span>
        
<span class="nc" id="L2018">        ProcessInstanceMigrationStatusJobHandler processInstanceMigrationStatusJobHandler = new ProcessInstanceMigrationStatusJobHandler();</span>
<span class="nc" id="L2019">        jobHandlers.put(processInstanceMigrationStatusJobHandler.getType(), processInstanceMigrationStatusJobHandler);</span>

<span class="nc" id="L2021">        ExternalWorkerTaskCompleteJobHandler externalWorkerTaskCompleteJobHandler = new ExternalWorkerTaskCompleteJobHandler();</span>
<span class="nc" id="L2022">        jobHandlers.put(externalWorkerTaskCompleteJobHandler.getType(), externalWorkerTaskCompleteJobHandler);</span>

<span class="nc" id="L2024">        ParallelMultiInstanceActivityCompletionJobHandler parallelMultiInstanceActivityCompletionJobHandler = new ParallelMultiInstanceActivityCompletionJobHandler();</span>
<span class="nc" id="L2025">        jobHandlers.put(parallelMultiInstanceActivityCompletionJobHandler.getType(), parallelMultiInstanceActivityCompletionJobHandler);</span>

<span class="nc" id="L2027">        ParallelMultiInstanceWithNoWaitStatesAsyncLeaveJobHandler parallelMultiInstanceWithNoWaitStateCompletionJobHandler = new ParallelMultiInstanceWithNoWaitStatesAsyncLeaveJobHandler();</span>
<span class="nc" id="L2028">        jobHandlers.put(parallelMultiInstanceWithNoWaitStateCompletionJobHandler.getType(), parallelMultiInstanceWithNoWaitStateCompletionJobHandler);</span>

<span class="nc" id="L2030">        ComputeDeleteHistoricProcessInstanceIdsJobHandler computeDeleteHistoricProcessInstanceIdsJobHandler = new ComputeDeleteHistoricProcessInstanceIdsJobHandler();</span>
<span class="nc" id="L2031">        jobHandlers.put(computeDeleteHistoricProcessInstanceIdsJobHandler.getType(), computeDeleteHistoricProcessInstanceIdsJobHandler);</span>

<span class="nc" id="L2033">        DeleteHistoricProcessInstanceIdsJobHandler deleteHistoricProcessInstanceBatchJobHandler = new DeleteHistoricProcessInstanceIdsJobHandler();</span>
<span class="nc" id="L2034">        jobHandlers.put(deleteHistoricProcessInstanceBatchJobHandler.getType(), deleteHistoricProcessInstanceBatchJobHandler);</span>

<span class="nc" id="L2036">        ComputeDeleteHistoricProcessInstanceStatusJobHandler computeDeleteHistoricProcessInstanceStatusJobHandler = new ComputeDeleteHistoricProcessInstanceStatusJobHandler();</span>
<span class="nc" id="L2037">        jobHandlers.put(computeDeleteHistoricProcessInstanceStatusJobHandler.getType(), computeDeleteHistoricProcessInstanceStatusJobHandler);</span>

<span class="nc" id="L2039">        DeleteHistoricProcessInstancesSequentialJobHandler deleteHistoricProcessInstancesSequentialJobHandler = new DeleteHistoricProcessInstancesSequentialJobHandler();</span>
<span class="nc" id="L2040">        jobHandlers.put(deleteHistoricProcessInstancesSequentialJobHandler.getType(), deleteHistoricProcessInstancesSequentialJobHandler);</span>

<span class="nc" id="L2042">        DeleteHistoricProcessInstanceIdsStatusJobHandler deleteHistoricProcessInstanceStatusJobHandler = new DeleteHistoricProcessInstanceIdsStatusJobHandler();</span>
<span class="nc" id="L2043">        jobHandlers.put(deleteHistoricProcessInstanceStatusJobHandler.getType(), deleteHistoricProcessInstanceStatusJobHandler);</span>

        // if we have custom job handlers, register them
<span class="nc bnc" id="L2046" title="All 2 branches missed.">        if (getCustomJobHandlers() != null) {</span>
<span class="nc bnc" id="L2047" title="All 2 branches missed.">            for (JobHandler customJobHandler : getCustomJobHandlers()) {</span>
<span class="nc" id="L2048">                jobHandlers.put(customJobHandler.getType(), customJobHandler);</span>
<span class="nc" id="L2049">            }</span>
        }
<span class="nc" id="L2051">    }</span>

    protected void initHistoryJobHandlers() {
<span class="nc bnc" id="L2054" title="All 2 branches missed.">        if (isAsyncHistoryEnabled) {</span>
<span class="nc" id="L2055">            historyJobHandlers = new HashMap&lt;&gt;();</span>

<span class="nc bnc" id="L2057" title="All 2 branches missed.">            if (getCustomHistoryJobHandlers() != null) {</span>
<span class="nc bnc" id="L2058" title="All 2 branches missed.">                for (HistoryJobHandler customJobHandler : getCustomHistoryJobHandlers()) {</span>
<span class="nc" id="L2059">                    historyJobHandlers.put(customJobHandler.getType(), customJobHandler);</span>
<span class="nc" id="L2060">                }</span>
            }
        }
<span class="nc" id="L2063">    }</span>

    // async executor
    // /////////////////////////////////////////////////////////////

    protected void initAsyncTaskExecutor() {
<span class="nc bnc" id="L2069" title="All 2 branches missed.">        if (this.asyncTaskExecutor == null) {</span>
<span class="nc" id="L2070">            DefaultAsyncTaskExecutor defaultAsyncTaskExecutor = new DefaultAsyncTaskExecutor(getOrCreateAsyncExecutorTaskExecutorConfiguration());</span>

            // Threadpool queue
<span class="nc bnc" id="L2073" title="All 2 branches missed.">            if (asyncExecutorThreadPoolQueue != null) {</span>
<span class="nc" id="L2074">                defaultAsyncTaskExecutor.setThreadPoolQueue(asyncExecutorThreadPoolQueue);</span>
            }

<span class="nc" id="L2077">            defaultAsyncTaskExecutor.setThreadFactory(asyncExecutorThreadFactory);</span>

<span class="nc" id="L2079">            defaultAsyncTaskExecutor.start();</span>
<span class="nc" id="L2080">            this.shutdownAsyncTaskExecutor = true;</span>

<span class="nc" id="L2082">            this.asyncTaskExecutor = defaultAsyncTaskExecutor;</span>
        }
<span class="nc" id="L2084">    }</span>

    protected void initAsyncTaskInvoker() {
<span class="nc bnc" id="L2087" title="All 2 branches missed.">        if (this.asyncTaskInvokerTaskExecutor == null) {</span>
<span class="nc" id="L2088">            DefaultAsyncTaskExecutor defaultAsyncTaskInvokerExecutor = new DefaultAsyncTaskExecutor(getOrCreateAsyncTaskInvokerTaskExecutorConfiguration());</span>
<span class="nc" id="L2089">            defaultAsyncTaskInvokerExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());</span>

<span class="nc" id="L2091">            defaultAsyncTaskInvokerExecutor.start();</span>
<span class="nc" id="L2092">            this.shutdownAsyncTaskInvokerTaskExecutor = true;</span>

<span class="nc" id="L2094">            this.asyncTaskInvokerTaskExecutor = defaultAsyncTaskInvokerExecutor;</span>
        }

<span class="nc bnc" id="L2097" title="All 2 branches missed.">        if (this.asyncTaskInvoker == null) {</span>
<span class="nc" id="L2098">            this.asyncTaskInvoker = new DefaultAsyncTaskInvoker(asyncTaskInvokerTaskExecutor);</span>
        }
<span class="nc" id="L2100">    }</span>

    public void initAsyncExecutor() {
<span class="nc" id="L2103">        initAsyncTaskExecutor();</span>
<span class="nc bnc" id="L2104" title="All 2 branches missed.">        if (asyncExecutor == null) {</span>
<span class="nc" id="L2105">            DefaultAsyncJobExecutor defaultAsyncExecutor = new DefaultAsyncJobExecutor(asyncExecutorConfiguration);</span>
<span class="nc bnc" id="L2106" title="All 2 branches missed.">            if (asyncExecutorExecuteAsyncRunnableFactory != null) {</span>
<span class="nc" id="L2107">                defaultAsyncExecutor.setExecuteAsyncRunnableFactory(asyncExecutorExecuteAsyncRunnableFactory);</span>
            }

<span class="nc" id="L2110">            asyncExecutor = defaultAsyncExecutor;</span>
        }

        // Task executor
<span class="nc bnc" id="L2114" title="All 2 branches missed.">        if (asyncExecutor.getTaskExecutor() == null) {</span>
<span class="nc" id="L2115">            asyncExecutor.setTaskExecutor(asyncTaskExecutor);</span>
        }

<span class="nc" id="L2118">        asyncExecutor.setJobServiceConfiguration(jobServiceConfiguration);</span>
<span class="nc" id="L2119">        asyncExecutor.setAutoActivate(asyncExecutorActivate);</span>
<span class="nc" id="L2120">        jobServiceConfiguration.setAsyncExecutor(asyncExecutor);</span>
<span class="nc" id="L2121">    }</span>

    protected void initAsyncHistoryTaskExecutor() {
<span class="nc bnc" id="L2124" title="All 2 branches missed.">        if (this.asyncHistoryTaskExecutor == null) {</span>
<span class="nc" id="L2125">            DefaultAsyncTaskExecutor defaultAsyncTaskExecutor = new DefaultAsyncTaskExecutor(getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration());</span>

            // Threadpool queue
<span class="nc bnc" id="L2128" title="All 2 branches missed.">            if (asyncHistoryExecutorThreadPoolQueue != null) {</span>
<span class="nc" id="L2129">                defaultAsyncTaskExecutor.setThreadPoolQueue(asyncHistoryExecutorThreadPoolQueue);</span>
            }

<span class="nc" id="L2132">            defaultAsyncTaskExecutor.start();</span>
<span class="nc" id="L2133">            shutdownAsyncHistoryTaskExecutor = true;</span>

<span class="nc" id="L2135">            this.asyncHistoryTaskExecutor = defaultAsyncTaskExecutor;</span>
        }
<span class="nc" id="L2137">    }</span>

    public void initAsyncHistoryExecutor() {
<span class="nc bnc" id="L2140" title="All 2 branches missed.">        if (isAsyncHistoryEnabled) {</span>
<span class="nc" id="L2141">            initAsyncHistoryTaskExecutor();</span>

<span class="nc bnc" id="L2143" title="All 2 branches missed.">            if (asyncHistoryExecutor == null) {</span>
<span class="nc" id="L2144">                DefaultAsyncHistoryJobExecutor defaultAsyncHistoryExecutor = new DefaultAsyncHistoryJobExecutor(getOrCreateAsyncHistoryExecutorConfiguration());</span>

<span class="nc" id="L2146">                asyncHistoryExecutor = defaultAsyncHistoryExecutor;</span>

<span class="nc bnc" id="L2148" title="All 2 branches missed.">                if (asyncHistoryExecutor.getJobServiceConfiguration() == null) {</span>
<span class="nc" id="L2149">                    asyncHistoryExecutor.setJobServiceConfiguration(jobServiceConfiguration);</span>
                }

<span class="nc" id="L2152">            } else {</span>
                // In case an async history executor was injected, only the job handlers are set. 
                // In the normal case, these are set on the jobServiceConfiguration, but these are not shared between instances
<span class="nc bnc" id="L2155" title="All 2 branches missed.">                if (historyJobHandlers != null) {</span>
<span class="nc bnc" id="L2156" title="All 2 branches missed.">                    if (asyncHistoryExecutor.getJobServiceConfiguration() == null) {</span>
<span class="nc" id="L2157">                        asyncHistoryExecutor.setJobServiceConfiguration(jobServiceConfiguration);</span>
                    }
<span class="nc" id="L2159">                    historyJobHandlers.forEach((type, handler) -&gt; asyncHistoryExecutor.getJobServiceConfiguration().addHistoryJobHandler(type, handler));</span>
                }

            }

        }

<span class="nc bnc" id="L2166" title="All 2 branches missed.">        if (asyncHistoryExecutor != null) {</span>

            // Task executor
<span class="nc bnc" id="L2169" title="All 2 branches missed.">            if (asyncHistoryExecutor.getTaskExecutor() == null) {</span>
<span class="nc" id="L2170">                asyncHistoryExecutor.setTaskExecutor(asyncHistoryTaskExecutor);</span>
            }

<span class="nc" id="L2173">            jobServiceConfiguration.setAsyncHistoryExecutor(asyncHistoryExecutor);</span>
<span class="nc" id="L2174">            jobServiceConfiguration.setAsyncHistoryExecutorNumberOfRetries(asyncHistoryExecutorNumberOfRetries);</span>

<span class="nc" id="L2176">            asyncHistoryExecutor.setAutoActivate(asyncHistoryExecutorActivate);</span>
        }
<span class="nc" id="L2178">    }</span>

    protected AsyncJobExecutorConfiguration getOrCreateAsyncHistoryExecutorConfiguration() {
<span class="nc bnc" id="L2181" title="All 2 branches missed.">        if (asyncHistoryExecutorConfiguration == null) {</span>
<span class="nc" id="L2182">            asyncHistoryExecutorConfiguration = new AsyncJobExecutorConfiguration();</span>
        }

<span class="nc" id="L2185">        return asyncHistoryExecutorConfiguration;</span>
    }

    // history
    // //////////////////////////////////////////////////////////////////

    public void initHistoryLevel() {
<span class="nc bnc" id="L2192" title="All 2 branches missed.">        if (historyLevel == null) {</span>
<span class="nc" id="L2193">            historyLevel = HistoryLevel.getHistoryLevelForKey(getHistory());</span>
        }
<span class="nc" id="L2195">    }</span>

    // id generator
    // /////////////////////////////////////////////////////////////

    @Override
    public void initIdGenerator() {
<span class="nc bnc" id="L2202" title="All 2 branches missed.">        if (idGenerator == null) {</span>
<span class="nc" id="L2203">            DbIdGenerator dbIdGenerator = new DbIdGenerator();</span>
<span class="nc" id="L2204">            dbIdGenerator.setIdBlockSize(idBlockSize);</span>
<span class="nc" id="L2205">            idGenerator = dbIdGenerator;</span>
        }

<span class="nc bnc" id="L2208" title="All 2 branches missed.">        if (idGenerator instanceof DbIdGenerator) {</span>
<span class="nc" id="L2209">            DbIdGenerator dbIdGenerator = (DbIdGenerator) idGenerator;</span>
<span class="nc bnc" id="L2210" title="All 2 branches missed.">            if (dbIdGenerator.getIdBlockSize() == 0) {</span>
<span class="nc" id="L2211">                dbIdGenerator.setIdBlockSize(idBlockSize);</span>
            }
<span class="nc bnc" id="L2213" title="All 2 branches missed.">            if (dbIdGenerator.getCommandExecutor() == null) {</span>
<span class="nc" id="L2214">                dbIdGenerator.setCommandExecutor(getCommandExecutor());</span>
            }
<span class="nc bnc" id="L2216" title="All 2 branches missed.">            if (dbIdGenerator.getCommandConfig() == null) {</span>
<span class="nc" id="L2217">                dbIdGenerator.setCommandConfig(getDefaultCommandConfig().transactionRequiresNew());</span>
            }
        }
<span class="nc" id="L2220">    }</span>

    // OTHER
    // ////////////////////////////////////////////////////////////////////

    @Override
    public void initTransactionFactory() {
<span class="nc bnc" id="L2227" title="All 2 branches missed.">        if (transactionFactory == null) {</span>
<span class="nc bnc" id="L2228" title="All 2 branches missed.">            if (transactionsExternallyManaged) {</span>
<span class="nc" id="L2229">                transactionFactory = new ManagedTransactionFactory();</span>
            } else {
<span class="nc" id="L2231">                transactionFactory = new JdbcTransactionFactory();</span>
            }
        }
<span class="nc" id="L2234">    }</span>

    public void initHelpers() {
<span class="nc bnc" id="L2237" title="All 2 branches missed.">        if (processInstanceHelper == null) {</span>
<span class="nc" id="L2238">            processInstanceHelper = new ProcessInstanceHelper();</span>
        }
<span class="nc bnc" id="L2240" title="All 2 branches missed.">        if (listenerNotificationHelper == null) {</span>
<span class="nc" id="L2241">            listenerNotificationHelper = new ListenerNotificationHelper();</span>
        }
<span class="nc bnc" id="L2243" title="All 2 branches missed.">        if (formHandlerHelper == null) {</span>
<span class="nc" id="L2244">            formHandlerHelper = new FormHandlerHelper();</span>
        }
<span class="nc" id="L2246">    }</span>

    public void initVariableTypes() {
<span class="nc bnc" id="L2249" title="All 2 branches missed.">        if (variableTypes == null) {</span>
<span class="nc" id="L2250">            variableTypes = new DefaultVariableTypes();</span>
<span class="nc bnc" id="L2251" title="All 2 branches missed.">            if (customPreVariableTypes != null) {</span>
<span class="nc bnc" id="L2252" title="All 2 branches missed.">                for (VariableType customVariableType : customPreVariableTypes) {</span>
<span class="nc" id="L2253">                    variableTypes.addType(customVariableType);</span>
<span class="nc" id="L2254">                }</span>
            }
<span class="nc" id="L2256">            variableTypes.addType(new NullType());</span>
<span class="nc" id="L2257">            variableTypes.addType(new StringType(getMaxLengthString()));</span>
<span class="nc" id="L2258">            variableTypes.addType(new LongStringType(getMaxLengthString() + 1));</span>
<span class="nc" id="L2259">            variableTypes.addType(new BooleanType());</span>
<span class="nc" id="L2260">            variableTypes.addType(new ShortType());</span>
<span class="nc" id="L2261">            variableTypes.addType(new IntegerType());</span>
<span class="nc" id="L2262">            variableTypes.addType(new LongType());</span>
<span class="nc" id="L2263">            variableTypes.addType(new DateType());</span>
<span class="nc" id="L2264">            variableTypes.addType(new InstantType());</span>
<span class="nc" id="L2265">            variableTypes.addType(new LocalDateType());</span>
<span class="nc" id="L2266">            variableTypes.addType(new LocalDateTimeType());</span>
<span class="nc" id="L2267">            variableTypes.addType(new JodaDateType());</span>
<span class="nc" id="L2268">            variableTypes.addType(new JodaDateTimeType());</span>
<span class="nc" id="L2269">            variableTypes.addType(new DoubleType());</span>
<span class="nc" id="L2270">            variableTypes.addType(new UUIDType());</span>
<span class="nc" id="L2271">            variableTypes.addType(new JsonType(getMaxLengthString(), objectMapper, jsonVariableTypeTrackObjects));</span>
            // longJsonType only needed for reading purposes
<span class="nc" id="L2273">            variableTypes.addType(JsonType.longJsonType(getMaxLengthString(), objectMapper, jsonVariableTypeTrackObjects));</span>
<span class="nc" id="L2274">            variableTypes.addType(new ParallelMultiInstanceLoopVariableType(this));</span>
<span class="nc" id="L2275">            variableTypes.addType(new BpmnAggregatedVariableType(this));</span>
<span class="nc" id="L2276">            variableTypes.addType(new ByteArrayType());</span>
<span class="nc" id="L2277">            variableTypes.addType(new EmptyCollectionType());</span>
<span class="nc" id="L2278">            variableTypes.addType(new SerializableType(serializableVariableTypeTrackDeserializedObjects));</span>

        } else {
<span class="nc bnc" id="L2281" title="All 2 branches missed.">            if (customPreVariableTypes != null) {</span>
<span class="nc bnc" id="L2282" title="All 2 branches missed.">                for (int i = customPreVariableTypes.size() - 1; i &gt;= 0; i--) {</span>
<span class="nc" id="L2283">                    VariableType customVariableType = customPreVariableTypes.get(i);</span>
<span class="nc bnc" id="L2284" title="All 2 branches missed.">                    if (variableTypes.getVariableType(customVariableType.getTypeName()) == null) {</span>
<span class="nc" id="L2285">                        variableTypes.addType(customVariableType, 0);</span>
                    }
                }
            }

<span class="nc bnc" id="L2290" title="All 2 branches missed.">            if (variableTypes.getVariableType(BpmnAggregatedVariableType.TYPE_NAME) == null) {</span>
<span class="nc" id="L2291">                variableTypes.addTypeBefore(new BpmnAggregatedVariableType(this), SerializableType.TYPE_NAME);</span>
            }

<span class="nc bnc" id="L2294" title="All 2 branches missed.">            if (variableTypes.getVariableType(ParallelMultiInstanceLoopVariableType.TYPE_NAME) == null) {</span>
<span class="nc" id="L2295">                variableTypes.addTypeBefore(new ParallelMultiInstanceLoopVariableType(this), SerializableType.TYPE_NAME);</span>
            }

<span class="nc bnc" id="L2298" title="All 2 branches missed.">            if (variableTypes.getVariableType(EmptyCollectionType.TYPE_NAME) == null) {</span>
<span class="nc" id="L2299">                variableTypes.addTypeBefore(new EmptyCollectionType(), SerializableType.TYPE_NAME);</span>
            }
        }

<span class="nc bnc" id="L2303" title="All 2 branches missed.">        if (customPostVariableTypes != null) {</span>
<span class="nc bnc" id="L2304" title="All 2 branches missed.">            for (VariableType customVariableType : customPostVariableTypes) {</span>
<span class="nc bnc" id="L2305" title="All 2 branches missed.">                if (variableTypes.getVariableType(customVariableType.getTypeName()) == null) {</span>
<span class="nc" id="L2306">                    variableTypes.addType(customVariableType);</span>
                }
<span class="nc" id="L2308">            }</span>
        }
<span class="nc" id="L2310">    }</span>

    public void initFormEngines() {
<span class="nc bnc" id="L2313" title="All 2 branches missed.">        if (formEngines == null) {</span>
<span class="nc" id="L2314">            formEngines = new HashMap&lt;&gt;();</span>
<span class="nc" id="L2315">            FormEngine defaultFormEngine = new JuelFormEngine();</span>
<span class="nc" id="L2316">            formEngines.put(null, defaultFormEngine); // default form engine is</span>
            // looked up with null
<span class="nc" id="L2318">            formEngines.put(defaultFormEngine.getName(), defaultFormEngine);</span>
        }
<span class="nc bnc" id="L2320" title="All 2 branches missed.">        if (customFormEngines != null) {</span>
<span class="nc bnc" id="L2321" title="All 2 branches missed.">            for (FormEngine formEngine : customFormEngines) {</span>
<span class="nc" id="L2322">                formEngines.put(formEngine.getName(), formEngine);</span>
<span class="nc" id="L2323">            }</span>
        }
<span class="nc" id="L2325">    }</span>

    public void initFormTypes() {
<span class="nc bnc" id="L2328" title="All 2 branches missed.">        if (formTypes == null) {</span>
<span class="nc" id="L2329">            formTypes = new FormTypes();</span>
<span class="nc" id="L2330">            formTypes.addFormType(new StringFormType());</span>
<span class="nc" id="L2331">            formTypes.addFormType(new LongFormType());</span>
<span class="nc" id="L2332">            formTypes.addFormType(new DateFormType(&quot;dd/MM/yyyy&quot;));</span>
<span class="nc" id="L2333">            formTypes.addFormType(new BooleanFormType());</span>
<span class="nc" id="L2334">            formTypes.addFormType(new DoubleFormType());</span>
        }
<span class="nc bnc" id="L2336" title="All 2 branches missed.">        if (customFormTypes != null) {</span>
<span class="nc bnc" id="L2337" title="All 2 branches missed.">            for (AbstractFormType customFormType : customFormTypes) {</span>
<span class="nc" id="L2338">                formTypes.addFormType(customFormType);</span>
<span class="nc" id="L2339">            }</span>
        }
<span class="nc" id="L2341">    }</span>

    public void initScriptBindingsFactory() {
<span class="nc bnc" id="L2344" title="All 2 branches missed.">        if (resolverFactories == null) {</span>
<span class="nc" id="L2345">            resolverFactories = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L2346" title="All 2 branches missed.">            if (preDefaultResolverFactories != null) {</span>
<span class="nc" id="L2347">                resolverFactories.addAll(preDefaultResolverFactories);</span>
            }
<span class="nc" id="L2349">            resolverFactories.add(new VariableScopeResolverFactory());</span>
<span class="nc" id="L2350">            resolverFactories.add(new BeansResolverFactory());</span>
<span class="nc bnc" id="L2351" title="All 2 branches missed.">            if (postDefaultResolverFactories != null) {</span>
<span class="nc" id="L2352">                resolverFactories.addAll(postDefaultResolverFactories);</span>
            }
        }
<span class="nc bnc" id="L2355" title="All 2 branches missed.">        if (scriptBindingsFactory == null) {</span>
<span class="nc" id="L2356">            scriptBindingsFactory = new ScriptBindingsFactory(this, resolverFactories);</span>
        }
<span class="nc" id="L2358">    }</span>

    public void initScriptingEngines() {
<span class="nc bnc" id="L2361" title="All 2 branches missed.">        if (scriptingEngines == null) {</span>
<span class="nc" id="L2362">            scriptingEngines = new ScriptingEngines(scriptBindingsFactory);</span>
<span class="nc" id="L2363">            scriptingEngines.setDefaultTraceEnhancer(new ProcessEngineScriptTraceEnhancer());</span>
        }
<span class="nc" id="L2365">    }</span>

    public void initExpressionManager() {
<span class="nc bnc" id="L2368" title="All 2 branches missed.">        if (expressionManager == null) {</span>
<span class="nc" id="L2369">            ProcessExpressionManager processExpressionManager = new ProcessExpressionManager(delegateInterceptor, beans);</span>

<span class="nc bnc" id="L2371" title="All 2 branches missed.">            if (isExpressionCacheEnabled) {</span>
<span class="nc" id="L2372">                processExpressionManager.setExpressionCache(new DefaultDeploymentCache&lt;&gt;(expressionCacheSize));</span>
<span class="nc" id="L2373">                processExpressionManager.setExpressionTextLengthCacheLimit(expressionTextLengthCacheLimit);</span>
            }

<span class="nc bnc" id="L2376" title="All 2 branches missed.">            if (preDefaultELResolvers != null) {</span>
<span class="nc" id="L2377">                preDefaultELResolvers.forEach(processExpressionManager::addPreDefaultResolver);</span>
            }

<span class="nc bnc" id="L2380" title="All 2 branches missed.">            if (preBeanELResolvers != null) {</span>
<span class="nc" id="L2381">                preBeanELResolvers.forEach(processExpressionManager::addPreBeanResolver);</span>
            }

<span class="nc bnc" id="L2384" title="All 2 branches missed.">            if (postDefaultELResolvers != null) {</span>
<span class="nc" id="L2385">                postDefaultELResolvers.forEach(processExpressionManager::addPostDefaultResolver);</span>
            }

<span class="nc bnc" id="L2388" title="All 2 branches missed.">            if (expressionManagerConfigurers != null) {</span>
<span class="nc" id="L2389">                expressionManagerConfigurers.forEach(configurer -&gt; configurer.accept(processExpressionManager));</span>
            }

<span class="nc" id="L2392">            expressionManager = processExpressionManager;</span>
        }
<span class="nc" id="L2394">        expressionManager.setFunctionDelegates(flowableFunctionDelegates);</span>
<span class="nc" id="L2395">        expressionManager.setAstFunctionCreators(astFunctionCreators);</span>
<span class="nc" id="L2396">    }</span>

    public void initMailClients() {
<span class="nc bnc" id="L2399" title="All 2 branches missed.">        if (defaultMailClient == null) {</span>
<span class="nc" id="L2400">            String sessionJndi = getMailSessionJndi();</span>
<span class="nc bnc" id="L2401" title="All 2 branches missed.">            if (sessionJndi != null) {</span>
<span class="nc" id="L2402">                defaultMailClient = FlowableMailClientCreator.createSessionClient(sessionJndi, getDefaultMailServer());</span>
            } else {
<span class="nc" id="L2404">                MailServerInfo mailServer = getDefaultMailServer();</span>
<span class="nc" id="L2405">                String host = mailServer.getMailServerHost();</span>
<span class="nc bnc" id="L2406" title="All 2 branches missed.">                if (host == null) {</span>
<span class="nc" id="L2407">                    throw new FlowableException(&quot;no SMTP host is configured for the default mail server&quot;);</span>
                }
<span class="nc" id="L2409">                defaultMailClient = FlowableMailClientCreator.createHostClient(host, mailServer);</span>
            }
        }

<span class="nc" id="L2413">        Collection&lt;String&gt; tenantIds = new HashSet&lt;&gt;(mailSessionsJndi.keySet());</span>
<span class="nc" id="L2414">        tenantIds.addAll(mailServers.keySet());</span>

<span class="nc bnc" id="L2416" title="All 2 branches missed.">        if (!tenantIds.isEmpty()) {</span>
<span class="nc" id="L2417">            MailServerInfo defaultMailServer = getDefaultMailServer();</span>
<span class="nc bnc" id="L2418" title="All 2 branches missed.">            for (String tenantId : tenantIds) {</span>
<span class="nc bnc" id="L2419" title="All 2 branches missed.">                if (mailClients.containsKey(tenantId)) {</span>
<span class="nc" id="L2420">                    continue;</span>
                }
<span class="nc" id="L2422">                String sessionJndi = mailSessionsJndi.get(tenantId);</span>
<span class="nc" id="L2423">                MailServerInfo tenantMailServer = mailServers.get(tenantId);</span>
<span class="nc bnc" id="L2424" title="All 2 branches missed.">                if (sessionJndi != null) {</span>
<span class="nc" id="L2425">                    mailClients.put(tenantId, FlowableMailClientCreator.createSessionClient(sessionJndi, tenantMailServer, defaultMailServer));</span>
<span class="nc bnc" id="L2426" title="All 2 branches missed.">                } else if (tenantMailServer != null) {</span>
<span class="nc" id="L2427">                    String host = tenantMailServer.getMailServerHost();</span>
<span class="nc bnc" id="L2428" title="All 2 branches missed.">                    if (host == null) {</span>
<span class="nc" id="L2429">                        throw new FlowableException(&quot;no SMTP host is configured for the mail server for tenant &quot; + tenantId);</span>
                    }
<span class="nc" id="L2431">                    mailClients.put(tenantId, FlowableMailClientCreator.createHostClient(host, tenantMailServer, defaultMailServer));</span>
                }
<span class="nc" id="L2433">            }</span>
        }
<span class="nc" id="L2435">    }</span>

    public void initBusinessCalendarManager() {
<span class="nc bnc" id="L2438" title="All 2 branches missed.">        if (businessCalendarManager == null) {</span>
<span class="nc" id="L2439">            MapBusinessCalendarManager mapBusinessCalendarManager = new MapBusinessCalendarManager();</span>
<span class="nc" id="L2440">            mapBusinessCalendarManager.addBusinessCalendar(DurationBusinessCalendar.NAME, new DurationBusinessCalendar(this.clock));</span>
<span class="nc" id="L2441">            mapBusinessCalendarManager.addBusinessCalendar(DueDateBusinessCalendar.NAME, new DueDateBusinessCalendar(this.clock));</span>
<span class="nc" id="L2442">            mapBusinessCalendarManager.addBusinessCalendar(CycleBusinessCalendar.NAME, new CycleBusinessCalendar(this.clock));</span>

<span class="nc" id="L2444">            businessCalendarManager = mapBusinessCalendarManager;</span>
        }
<span class="nc" id="L2446">    }</span>

    public void initAgendaFactory() {
<span class="nc bnc" id="L2449" title="All 2 branches missed.">        if (this.agendaFactory == null) {</span>
<span class="nc" id="L2450">            this.agendaFactory = new DefaultFlowableEngineAgendaFactory();</span>
        }
<span class="nc" id="L2452">    }</span>

    public void initDelegateInterceptor() {
<span class="nc bnc" id="L2455" title="All 2 branches missed.">        if (delegateInterceptor == null) {</span>
<span class="nc" id="L2456">            delegateInterceptor = new DefaultDelegateInterceptor();</span>
        }
<span class="nc" id="L2458">    }</span>

    public void initEventHandlers() {
<span class="nc bnc" id="L2461" title="All 2 branches missed.">        if (eventHandlers == null) {</span>
<span class="nc" id="L2462">            eventHandlers = new HashMap&lt;&gt;();</span>

<span class="nc" id="L2464">            SignalEventHandler signalEventHandler = new SignalEventHandler();</span>
<span class="nc" id="L2465">            eventHandlers.put(signalEventHandler.getEventHandlerType(), signalEventHandler);</span>

<span class="nc" id="L2467">            CompensationEventHandler compensationEventHandler = new CompensationEventHandler();</span>
<span class="nc" id="L2468">            eventHandlers.put(compensationEventHandler.getEventHandlerType(), compensationEventHandler);</span>

<span class="nc" id="L2470">            MessageEventHandler messageEventHandler = new MessageEventHandler();</span>
<span class="nc" id="L2471">            eventHandlers.put(messageEventHandler.getEventHandlerType(), messageEventHandler);</span>

        }
<span class="nc bnc" id="L2474" title="All 2 branches missed.">        if (customEventHandlers != null) {</span>
<span class="nc bnc" id="L2475" title="All 2 branches missed.">            for (EventHandler eventHandler : customEventHandlers) {</span>
<span class="nc" id="L2476">                eventHandlers.put(eventHandler.getEventHandlerType(), eventHandler);</span>
<span class="nc" id="L2477">            }</span>
        }
<span class="nc" id="L2479">    }</span>

    // JPA
    // //////////////////////////////////////////////////////////////////////

    public void initJpa() {
<span class="nc bnc" id="L2485" title="All 2 branches missed.">        if (jpaPersistenceUnitName != null) {</span>
<span class="nc" id="L2486">            jpaEntityManagerFactory = JpaHelper.createEntityManagerFactory(jpaPersistenceUnitName);</span>
        }
<span class="nc bnc" id="L2488" title="All 2 branches missed.">        if (jpaEntityManagerFactory != null) {</span>
<span class="nc" id="L2489">            sessionFactories.put(EntityManagerSession.class, new EntityManagerSessionFactory(jpaEntityManagerFactory, jpaHandleTransaction, jpaCloseEntityManager));</span>
<span class="nc" id="L2490">            VariableType jpaType = variableTypes.getVariableType(JPAEntityVariableType.TYPE_NAME);</span>
            // Add JPA-type
<span class="nc bnc" id="L2492" title="All 2 branches missed.">            if (jpaType == null) {</span>
                // We try adding the variable right before SerializableType, if
                // available
<span class="nc" id="L2495">                int serializableIndex = variableTypes.getTypeIndex(SerializableType.TYPE_NAME);</span>
<span class="nc bnc" id="L2496" title="All 2 branches missed.">                if (serializableIndex &gt; -1) {</span>
<span class="nc" id="L2497">                    variableTypes.addType(new JPAEntityVariableType(), serializableIndex);</span>
                } else {
<span class="nc" id="L2499">                    variableTypes.addType(new JPAEntityVariableType());</span>
                }
            }

<span class="nc" id="L2503">            jpaType = variableTypes.getVariableType(JPAEntityListVariableType.TYPE_NAME);</span>

            // Add JPA-list type after regular JPA type if not already present
<span class="nc bnc" id="L2506" title="All 2 branches missed.">            if (jpaType == null) {</span>
<span class="nc" id="L2507">                variableTypes.addType(new JPAEntityListVariableType(), variableTypes.getTypeIndex(JPAEntityVariableType.TYPE_NAME));</span>
            }
        }
<span class="nc" id="L2510">    }</span>

    public void initProcessValidator() {
<span class="nc bnc" id="L2513" title="All 2 branches missed.">        if (this.processValidator == null) {</span>
<span class="nc bnc" id="L2514" title="All 2 branches missed.">            if (customServiceTaskValidator == null) {</span>
<span class="nc" id="L2515">                this.processValidator = new ProcessValidatorFactory().createDefaultProcessValidator();</span>
            } else {
<span class="nc" id="L2517">                ProcessValidatorFactory processValidatorFactory = new ProcessValidatorFactory();</span>
<span class="nc" id="L2518">                processValidatorFactory.setCustomServiceTaskValidator(customServiceTaskValidator);</span>
<span class="nc" id="L2519">                this.processValidator = processValidatorFactory.createDefaultProcessValidator();</span>
            }
        }
<span class="nc" id="L2522">    }</span>

    @Override
    protected void initAdditionalEventDispatchActions() {
<span class="nc bnc" id="L2526" title="All 2 branches missed.">        if (this.additionalEventDispatchActions == null) {</span>
<span class="nc" id="L2527">            this.additionalEventDispatchActions = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L2528">            this.additionalEventDispatchActions.add(new BpmnModelEventDispatchAction());</span>
        }
<span class="nc" id="L2530">    }</span>

    public void initFormFieldHandler() {
<span class="nc bnc" id="L2533" title="All 2 branches missed.">        if (this.formFieldHandler == null) {</span>
<span class="nc" id="L2534">            this.formFieldHandler = new DefaultFormFieldHandler();</span>
        }
<span class="nc" id="L2536">    }</span>

    public void initFunctionDelegates() {
<span class="nc bnc" id="L2539" title="All 2 branches missed.">        if (this.flowableFunctionDelegates == null) {</span>
<span class="nc" id="L2540">            this.flowableFunctionDelegates = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L2541">            this.flowableFunctionDelegates.add(new FlowableDateFunctionDelegate());</span>

<span class="nc" id="L2543">            flowableFunctionDelegates.add(new VariableGetExpressionFunction());</span>
<span class="nc" id="L2544">            flowableFunctionDelegates.add(new VariableGetOrDefaultExpressionFunction());</span>

<span class="nc" id="L2546">            flowableFunctionDelegates.add(new VariableContainsAnyExpressionFunction());</span>
<span class="nc" id="L2547">            flowableFunctionDelegates.add(new VariableContainsExpressionFunction());</span>

<span class="nc" id="L2549">            flowableFunctionDelegates.add(new VariableEqualsExpressionFunction());</span>
<span class="nc" id="L2550">            flowableFunctionDelegates.add(new VariableNotEqualsExpressionFunction());</span>

<span class="nc" id="L2552">            flowableFunctionDelegates.add(new VariableExistsExpressionFunction());</span>
<span class="nc" id="L2553">            flowableFunctionDelegates.add(new VariableIsEmptyExpressionFunction());</span>
<span class="nc" id="L2554">            flowableFunctionDelegates.add(new VariableIsNotEmptyExpressionFunction());</span>

<span class="nc" id="L2556">            flowableFunctionDelegates.add(new VariableLowerThanExpressionFunction());</span>
<span class="nc" id="L2557">            flowableFunctionDelegates.add(new VariableLowerThanOrEqualsExpressionFunction());</span>
<span class="nc" id="L2558">            flowableFunctionDelegates.add(new VariableGreaterThanExpressionFunction());</span>
<span class="nc" id="L2559">            flowableFunctionDelegates.add(new VariableGreaterThanOrEqualsExpressionFunction());</span>

<span class="nc" id="L2561">            flowableFunctionDelegates.add(new VariableBase64ExpressionFunction());</span>

<span class="nc" id="L2563">            flowableFunctionDelegates.add(new TaskGetFunctionDelegate());</span>
        }

<span class="nc bnc" id="L2566" title="All 2 branches missed.">        if (this.customFlowableFunctionDelegates != null) {</span>
<span class="nc" id="L2567">            this.flowableFunctionDelegates.addAll(this.customFlowableFunctionDelegates);</span>
        }
<span class="nc" id="L2569">    }</span>

    public void initAstFunctionCreators() {
<span class="nc" id="L2572">        List&lt;FlowableAstFunctionCreator&gt; astFunctionCreators = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L2573" title="All 2 branches missed.">        for (FlowableFunctionDelegate flowableFunctionDelegate : flowableFunctionDelegates) {</span>
<span class="nc bnc" id="L2574" title="All 2 branches missed.">            if (flowableFunctionDelegate instanceof FlowableAstFunctionCreator) {</span>
<span class="nc" id="L2575">                astFunctionCreators.add((FlowableAstFunctionCreator) flowableFunctionDelegate);</span>
            }
<span class="nc" id="L2577">        }</span>

<span class="nc bnc" id="L2579" title="All 2 branches missed.">        if (this.astFunctionCreators != null) {</span>
<span class="nc" id="L2580">            astFunctionCreators.addAll(this.astFunctionCreators);</span>
        }

<span class="nc" id="L2583">        this.astFunctionCreators = astFunctionCreators;</span>
<span class="nc" id="L2584">    }</span>

    public void initDatabaseEventLogging() {
<span class="nc bnc" id="L2587" title="All 2 branches missed.">        if (enableDatabaseEventLogging) {</span>
            // Database event logging uses the default logging mechanism and adds
            // a specific event listener to the list of event listeners
<span class="nc" id="L2590">            getEventDispatcher().addEventListener(new EventLogger(clock, objectMapper));</span>
        }
<span class="nc" id="L2592">    }</span>

    public void initFlowable5CompatibilityHandler() {

        // If Flowable 5 compatibility is disabled, no need to do anything
        // If handler is injected, no need to do anything
<span class="nc bnc" id="L2598" title="All 4 branches missed.">        if (flowable5CompatibilityEnabled &amp;&amp; flowable5CompatibilityHandler == null) {</span>

            // Create default factory if nothing set
<span class="nc bnc" id="L2601" title="All 2 branches missed.">            if (flowable5CompatibilityHandlerFactory == null) {</span>
<span class="nc" id="L2602">                flowable5CompatibilityHandlerFactory = new DefaultFlowable5CompatibilityHandlerFactory();</span>
            }

            // Create handler instance
<span class="nc" id="L2606">            flowable5CompatibilityHandler = flowable5CompatibilityHandlerFactory.createFlowable5CompatibilityHandler();</span>

<span class="nc bnc" id="L2608" title="All 2 branches missed.">            if (flowable5CompatibilityHandler != null) {</span>
<span class="nc" id="L2609">                logger.info(&quot;Found compatibility handler instance : {}&quot;, flowable5CompatibilityHandler.getClass());</span>

<span class="nc" id="L2611">                flowable5CompatibilityHandler.setFlowable6ProcessEngineConfiguration(this);</span>
            }
        }

<span class="nc" id="L2615">    }</span>

    /**
     * Called when the {@link ProcessEngine} is initialized, but before it is returned
     */
    protected void postProcessEngineInitialisation() {
<span class="nc bnc" id="L2621" title="All 2 branches missed.">        if (validateFlowable5EntitiesEnabled) {</span>
<span class="nc" id="L2622">            commandExecutor.execute(new ValidateV5EntitiesCmd());</span>
        }

<span class="nc bnc" id="L2625" title="All 2 branches missed.">        if (redeployFlowable5ProcessDefinitions) {</span>
<span class="nc" id="L2626">            commandExecutor.execute(new RedeployV5ProcessDefinitionsCmd());</span>
        }

<span class="nc bnc" id="L2629" title="All 2 branches missed.">        if (performanceSettings.isValidateExecutionRelationshipCountConfigOnBoot()) {</span>
<span class="nc" id="L2630">            commandExecutor.execute(new ValidateExecutionRelatedEntityCountCfgCmd());</span>
        }

<span class="nc bnc" id="L2633" title="All 2 branches missed.">        if (performanceSettings.isValidateTaskRelationshipCountConfigOnBoot()) {</span>
<span class="nc" id="L2634">            commandExecutor.execute(new ValidateTaskRelatedEntityCountCfgCmd());</span>
        }

        // if Flowable 5 support is needed configure the Flowable 5 job processors via the compatibility handler
<span class="nc bnc" id="L2638" title="All 2 branches missed.">        if (flowable5CompatibilityEnabled) {</span>
<span class="nc" id="L2639">            flowable5CompatibilityHandler.setJobProcessor(this.flowable5JobProcessors);</span>
        }
<span class="nc" id="L2641">    }</span>

    @Override
    public void close() {
<span class="nc" id="L2645">        super.close();</span>

<span class="nc bnc" id="L2647" title="All 4 branches missed.">        if (asyncTaskExecutor != null &amp;&amp; shutdownAsyncTaskExecutor) {</span>
            // Only shutdown if it was created by this configuration
<span class="nc" id="L2649">            asyncTaskExecutor.shutdown();</span>
        }

<span class="nc bnc" id="L2652" title="All 4 branches missed.">        if (asyncHistoryTaskExecutor != null &amp;&amp; shutdownAsyncHistoryTaskExecutor) {</span>
            // Only shutdown if it was created by this configuration
<span class="nc" id="L2654">            asyncHistoryTaskExecutor.shutdown();</span>
        }

<span class="nc bnc" id="L2657" title="All 4 branches missed.">        if (asyncTaskInvokerTaskExecutor != null &amp;&amp; shutdownAsyncTaskInvokerTaskExecutor) {</span>
            // Only shutdown if it was created by this configuration
<span class="nc" id="L2659">            asyncTaskInvokerTaskExecutor.shutdown();</span>
        }

<span class="nc" id="L2662">        httpClientConfig.close();</span>
<span class="nc" id="L2663">    }</span>


    public Runnable getProcessEngineCloseRunnable() {
<span class="nc" id="L2667">        return () -&gt; {</span>

            // Async executor will have cleared the jobs lock owner/times, but not yet the process instance lock time/owner
<span class="nc bnc" id="L2670" title="All 2 branches missed.">            if (asyncExecutor != null) {</span>
<span class="nc" id="L2671">                commandExecutor.execute(new ClearProcessInstanceLockTimesCmd(asyncExecutor.getLockOwner()));</span>
            }

<span class="nc" id="L2674">            commandExecutor.execute(getSchemaCommandConfig(), new SchemaOperationProcessEngineClose());</span>
<span class="nc" id="L2675">        };</span>
    }

    @Override
    protected List&lt;EngineConfigurator&gt; getEngineSpecificEngineConfigurators() {
<span class="nc bnc" id="L2680" title="All 4 branches missed.">        if (!disableIdmEngine || !disableEventRegistry) {</span>
<span class="nc" id="L2681">            List&lt;EngineConfigurator&gt; specificConfigurators = new ArrayList&lt;&gt;();</span>
            
<span class="nc bnc" id="L2683" title="All 2 branches missed.">            if (!disableIdmEngine) {</span>
<span class="nc bnc" id="L2684" title="All 2 branches missed.">                if (idmEngineConfigurator != null) {</span>
<span class="nc" id="L2685">                    specificConfigurators.add(idmEngineConfigurator);</span>
                } else {
<span class="nc" id="L2687">                    specificConfigurators.add(new IdmEngineConfigurator());</span>
                }
            }
            
<span class="nc bnc" id="L2691" title="All 2 branches missed.">            if (!disableEventRegistry) {</span>
<span class="nc bnc" id="L2692" title="All 2 branches missed.">                if (eventRegistryConfigurator != null) {</span>
<span class="nc" id="L2693">                    specificConfigurators.add(eventRegistryConfigurator);</span>
                } else {
<span class="nc" id="L2695">                    specificConfigurators.add(createDefaultEventRegistryEngineConfigurator());</span>
                }
            }
            
<span class="nc" id="L2699">            return specificConfigurators;</span>
        }
<span class="nc" id="L2701">        return Collections.emptyList();</span>
    }

    protected EngineConfigurator createDefaultEventRegistryEngineConfigurator() {
<span class="nc" id="L2705">        return new EventRegistryEngineConfigurator();</span>
    }

    @Override
    public ProcessEngineConfigurationImpl addConfigurator(EngineConfigurator configurator) {
<span class="nc" id="L2710">        super.addConfigurator(configurator);</span>
<span class="nc" id="L2711">        return this;</span>
    }

    public void initLocalizationManagers() {
<span class="nc bnc" id="L2715" title="All 2 branches missed.">        if (this.internalProcessLocalizationManager == null) {</span>
<span class="nc" id="L2716">            this.setInternalProcessLocalizationManager(new DefaultProcessLocalizationManager(this));</span>
        }

<span class="nc bnc" id="L2719" title="All 2 branches missed.">        if (this.internalProcessDefinitionLocalizationManager == null) {</span>
<span class="nc" id="L2720">            this.setInternalProcessDefinitionLocalizationManager(new DefaultProcessDefinitionLocalizationManager(this));</span>
        }

<span class="nc" id="L2723">    }</span>

    // getters and setters
    // //////////////////////////////////////////////////////

    @Override
    public ProcessEngineConfigurationImpl setEngineName(String processEngineName) {
<span class="nc" id="L2730">        this.processEngineName = processEngineName;</span>
<span class="nc" id="L2731">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setDatabaseSchemaUpdate(String databaseSchemaUpdate) {
<span class="nc" id="L2736">        this.databaseSchemaUpdate = databaseSchemaUpdate;</span>
<span class="nc" id="L2737">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setJdbcUrl(String jdbcUrl) {
<span class="nc" id="L2742">        this.jdbcUrl = jdbcUrl;</span>
<span class="nc" id="L2743">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setDefaultCommandConfig(CommandConfig defaultCommandConfig) {
<span class="nc" id="L2748">        this.defaultCommandConfig = defaultCommandConfig;</span>
<span class="nc" id="L2749">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setSchemaCommandConfig(CommandConfig schemaCommandConfig) {
<span class="nc" id="L2754">        this.schemaCommandConfig = schemaCommandConfig;</span>
<span class="nc" id="L2755">        return this;</span>
    }

    @Override
    public List&lt;CommandInterceptor&gt; getCustomPreCommandInterceptors() {
<span class="nc" id="L2760">        return customPreCommandInterceptors;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setCustomPreCommandInterceptors(List&lt;CommandInterceptor&gt; customPreCommandInterceptors) {
<span class="nc" id="L2765">        this.customPreCommandInterceptors = customPreCommandInterceptors;</span>
<span class="nc" id="L2766">        return this;</span>
    }

    @Override
    public List&lt;CommandInterceptor&gt; getCustomPostCommandInterceptors() {
<span class="nc" id="L2771">        return customPostCommandInterceptors;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setCustomPostCommandInterceptors(List&lt;CommandInterceptor&gt; customPostCommandInterceptors) {
<span class="nc" id="L2776">        this.customPostCommandInterceptors = customPostCommandInterceptors;</span>
<span class="nc" id="L2777">        return this;</span>
    }

    @Override
    public List&lt;CommandInterceptor&gt; getCommandInterceptors() {
<span class="nc" id="L2782">        return commandInterceptors;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setCommandInterceptors(List&lt;CommandInterceptor&gt; commandInterceptors) {
<span class="nc" id="L2787">        this.commandInterceptors = commandInterceptors;</span>
<span class="nc" id="L2788">        return this;</span>
    }

    @Override
    public RepositoryService getRepositoryService() {
<span class="nc" id="L2793">        return repositoryService;</span>
    }

    public ProcessEngineConfigurationImpl setRepositoryService(RepositoryService repositoryService) {
<span class="nc" id="L2797">        this.repositoryService = repositoryService;</span>
<span class="nc" id="L2798">        return this;</span>
    }

    @Override
    public RuntimeService getRuntimeService() {
<span class="nc" id="L2803">        return runtimeService;</span>
    }

    public ProcessEngineConfigurationImpl setRuntimeService(RuntimeService runtimeService) {
<span class="nc" id="L2807">        this.runtimeService = runtimeService;</span>
<span class="nc" id="L2808">        return this;</span>
    }

    @Override
    public HistoryService getHistoryService() {
<span class="nc" id="L2813">        return historyService;</span>
    }

    public ProcessEngineConfigurationImpl setHistoryService(HistoryService historyService) {
<span class="nc" id="L2817">        this.historyService = historyService;</span>
<span class="nc" id="L2818">        return this;</span>
    }

    @Override
    public IdentityService getIdentityService() {
<span class="nc" id="L2823">        return identityService;</span>
    }

    public ProcessEngineConfigurationImpl setIdentityService(IdentityService identityService) {
<span class="nc" id="L2827">        this.identityService = identityService;</span>
<span class="nc" id="L2828">        return this;</span>
    }

    @Override
    public TaskService getTaskService() {
<span class="nc" id="L2833">        return taskService;</span>
    }

    public ProcessEngineConfigurationImpl setTaskService(TaskService taskService) {
<span class="nc" id="L2837">        this.taskService = taskService;</span>
<span class="nc" id="L2838">        return this;</span>
    }

    @Override
    public FormService getFormService() {
<span class="nc" id="L2843">        return formService;</span>
    }

    public ProcessEngineConfigurationImpl setFormService(FormService formService) {
<span class="nc" id="L2847">        this.formService = formService;</span>
<span class="nc" id="L2848">        return this;</span>
    }

    @Override
    public ManagementService getManagementService() {
<span class="nc" id="L2853">        return managementService;</span>
    }

    public ProcessEngineConfigurationImpl setManagementService(ManagementService managementService) {
<span class="nc" id="L2857">        this.managementService = managementService;</span>
<span class="nc" id="L2858">        return this;</span>
    }

    public DynamicBpmnService getDynamicBpmnService() {
<span class="nc" id="L2862">        return dynamicBpmnService;</span>
    }

    public ProcessEngineConfigurationImpl setDynamicBpmnService(DynamicBpmnService dynamicBpmnService) {
<span class="nc" id="L2866">        this.dynamicBpmnService = dynamicBpmnService;</span>
<span class="nc" id="L2867">        return this;</span>
    }

    public ProcessMigrationService getProcessMigrationService() {
<span class="nc" id="L2871">        return processInstanceMigrationService;</span>
    }

    public void setProcessInstanceMigrationService(ProcessMigrationService processInstanceMigrationService) {
<span class="nc" id="L2875">        this.processInstanceMigrationService = processInstanceMigrationService;</span>
<span class="nc" id="L2876">    }</span>

    @Override
    public ProcessEngineConfigurationImpl getProcessEngineConfiguration() {
<span class="nc" id="L2880">        return this;</span>
    }

    public boolean isDisableIdmEngine() {
<span class="nc" id="L2884">        return disableIdmEngine;</span>
    }

    public ProcessEngineConfigurationImpl setDisableIdmEngine(boolean disableIdmEngine) {
<span class="nc" id="L2888">        this.disableIdmEngine = disableIdmEngine;</span>
<span class="nc" id="L2889">        return this;</span>
    }
    
    public boolean isDisableEventRegistry() {
<span class="nc" id="L2893">        return disableEventRegistry;</span>
    }

    public ProcessEngineConfigurationImpl setDisableEventRegistry(boolean disableEventRegistry) {
<span class="nc" id="L2897">        this.disableEventRegistry = disableEventRegistry;</span>
<span class="nc" id="L2898">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setSessionFactories(Map&lt;Class&lt;?&gt;, SessionFactory&gt; sessionFactories) {
<span class="nc" id="L2903">        this.sessionFactories = sessionFactories;</span>
<span class="nc" id="L2904">        return this;</span>
    }

    public BpmnDeployer getBpmnDeployer() {
<span class="nc" id="L2908">        return bpmnDeployer;</span>
    }

    public ProcessEngineConfigurationImpl setBpmnDeployer(BpmnDeployer bpmnDeployer) {
<span class="nc" id="L2912">        this.bpmnDeployer = bpmnDeployer;</span>
<span class="nc" id="L2913">        return this;</span>
    }

    public BpmnParser getBpmnParser() {
<span class="nc" id="L2917">        return bpmnParser;</span>
    }

    public ProcessEngineConfigurationImpl setBpmnParser(BpmnParser bpmnParser) {
<span class="nc" id="L2921">        this.bpmnParser = bpmnParser;</span>
<span class="nc" id="L2922">        return this;</span>
    }

    public ParsedDeploymentBuilderFactory getParsedDeploymentBuilderFactory() {
<span class="nc" id="L2926">        return parsedDeploymentBuilderFactory;</span>
    }

    public ProcessEngineConfigurationImpl setParsedDeploymentBuilderFactory(ParsedDeploymentBuilderFactory parsedDeploymentBuilderFactory) {
<span class="nc" id="L2930">        this.parsedDeploymentBuilderFactory = parsedDeploymentBuilderFactory;</span>
<span class="nc" id="L2931">        return this;</span>
    }

    public TimerManager getTimerManager() {
<span class="nc" id="L2935">        return timerManager;</span>
    }

    public void setTimerManager(TimerManager timerManager) {
<span class="nc" id="L2939">        this.timerManager = timerManager;</span>
<span class="nc" id="L2940">    }</span>

    public EventSubscriptionManager getEventSubscriptionManager() {
<span class="nc" id="L2943">        return eventSubscriptionManager;</span>
    }

    public void setEventSubscriptionManager(EventSubscriptionManager eventSubscriptionManager) {
<span class="nc" id="L2947">        this.eventSubscriptionManager = eventSubscriptionManager;</span>
<span class="nc" id="L2948">    }</span>

    public BpmnDeploymentHelper getBpmnDeploymentHelper() {
<span class="nc" id="L2951">        return bpmnDeploymentHelper;</span>
    }

    public ProcessEngineConfigurationImpl setBpmnDeploymentHelper(BpmnDeploymentHelper bpmnDeploymentHelper) {
<span class="nc" id="L2955">        this.bpmnDeploymentHelper = bpmnDeploymentHelper;</span>
<span class="nc" id="L2956">        return this;</span>
    }

    public CachingAndArtifactsManager getCachingAndArtifactsManager() {
<span class="nc" id="L2960">        return cachingAndArtifactsManager;</span>
    }

    public void setCachingAndArtifactsManager(CachingAndArtifactsManager cachingAndArtifactsManager) {
<span class="nc" id="L2964">        this.cachingAndArtifactsManager = cachingAndArtifactsManager;</span>
<span class="nc" id="L2965">    }</span>

    public ProcessDefinitionDiagramHelper getProcessDefinitionDiagramHelper() {
<span class="nc" id="L2968">        return processDefinitionDiagramHelper;</span>
    }

    public ProcessEngineConfigurationImpl setProcessDefinitionDiagramHelper(ProcessDefinitionDiagramHelper processDefinitionDiagramHelper) {
<span class="nc" id="L2972">        this.processDefinitionDiagramHelper = processDefinitionDiagramHelper;</span>
<span class="nc" id="L2973">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setIdGenerator(IdGenerator idGenerator) {
<span class="nc" id="L2978">        this.idGenerator = idGenerator;</span>
<span class="nc" id="L2979">        return this;</span>
    }

    public String getWsSyncFactoryClassName() {
<span class="nc" id="L2983">        return wsSyncFactoryClassName;</span>
    }

    public ProcessEngineConfigurationImpl setWsSyncFactoryClassName(String wsSyncFactoryClassName) {
<span class="nc" id="L2987">        this.wsSyncFactoryClassName = wsSyncFactoryClassName;</span>
<span class="nc" id="L2988">        return this;</span>
    }

    public XMLImporterFactory getWsdlImporterFactory() {
<span class="nc" id="L2992">        return wsWsdlImporterFactory;</span>
    }

    public ProcessEngineConfigurationImpl setWsdlImporterFactory(XMLImporterFactory wsWsdlImporterFactory) {
<span class="nc" id="L2996">        this.wsWsdlImporterFactory = wsWsdlImporterFactory;</span>
<span class="nc" id="L2997">        return this;</span>
    }

    /**
     * Add or replace the address of the given web-service endpoint with the given value
     *
     * @param endpointName
     *     The endpoint name for which a new address must be set
     * @param address
     *     The new address of the endpoint
     */
    public ProcessEngineConfiguration addWsEndpointAddress(QName endpointName, URL address) {
<span class="nc" id="L3009">        this.wsOverridenEndpointAddresses.put(endpointName, address);</span>
<span class="nc" id="L3010">        return this;</span>
    }

    /**
     * Remove the address definition of the given web-service endpoint
     *
     * @param endpointName
     *     The endpoint name for which the address definition must be removed
     */
    public ProcessEngineConfiguration removeWsEndpointAddress(QName endpointName) {
<span class="nc" id="L3020">        this.wsOverridenEndpointAddresses.remove(endpointName);</span>
<span class="nc" id="L3021">        return this;</span>
    }

    public ConcurrentMap&lt;QName, URL&gt; getWsOverridenEndpointAddresses() {
<span class="nc" id="L3025">        return this.wsOverridenEndpointAddresses;</span>
    }

    public ProcessEngineConfiguration setWsOverridenEndpointAddresses(final ConcurrentMap&lt;QName, URL&gt; wsOverridenEndpointAddress) {
<span class="nc" id="L3029">        this.wsOverridenEndpointAddresses.putAll(wsOverridenEndpointAddress);</span>
<span class="nc" id="L3030">        return this;</span>
    }

    public Map&lt;String, FormEngine&gt; getFormEngines() {
<span class="nc" id="L3034">        return formEngines;</span>
    }

    public ProcessEngineConfigurationImpl setFormEngines(Map&lt;String, FormEngine&gt; formEngines) {
<span class="nc" id="L3038">        this.formEngines = formEngines;</span>
<span class="nc" id="L3039">        return this;</span>
    }

    public FormTypes getFormTypes() {
<span class="nc" id="L3043">        return formTypes;</span>
    }

    public ProcessEngineConfigurationImpl setFormTypes(FormTypes formTypes) {
<span class="nc" id="L3047">        this.formTypes = formTypes;</span>
<span class="nc" id="L3048">        return this;</span>
    }

    @Override
    public ScriptingEngines getScriptingEngines() {
<span class="nc" id="L3053">        return scriptingEngines;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setScriptingEngines(ScriptingEngines scriptingEngines) {
<span class="nc" id="L3058">        this.scriptingEngines = scriptingEngines;</span>
<span class="nc" id="L3059">        return this;</span>
    }

    @Override
    public VariableTypes getVariableTypes() {
<span class="nc" id="L3064">        return variableTypes;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setVariableTypes(VariableTypes variableTypes) {
<span class="nc" id="L3069">        this.variableTypes = variableTypes;</span>
<span class="nc" id="L3070">        return this;</span>
    }

    public IdentityLinkServiceConfiguration getIdentityLinkServiceConfiguration() {
<span class="nc" id="L3074">        return identityLinkServiceConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setIdentityLinkServiceConfiguration(IdentityLinkServiceConfiguration identityLinkServiceConfiguration) {
<span class="nc" id="L3078">        this.identityLinkServiceConfiguration = identityLinkServiceConfiguration;</span>
<span class="nc" id="L3079">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;IdentityLinkServiceConfiguration&gt;&gt; getIdentityLinkServiceConfigurators() {
<span class="nc" id="L3083">        return identityLinkServiceConfigurators;</span>
    }

    public ProcessEngineConfigurationImpl setIdentityLinkServiceConfigurators(
                    Collection&lt;ServiceConfigurator&lt;IdentityLinkServiceConfiguration&gt;&gt; identityLinkServiceConfigurators) {
<span class="nc" id="L3088">        this.identityLinkServiceConfigurators = identityLinkServiceConfigurators;</span>
<span class="nc" id="L3089">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addIdentityLinkServiceConfigurator(ServiceConfigurator&lt;IdentityLinkServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L3093" title="All 2 branches missed.">        if (this.identityLinkServiceConfigurators == null) {</span>
<span class="nc" id="L3094">            this.identityLinkServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }
<span class="nc" id="L3096">        this.identityLinkServiceConfigurators.add(configurator);</span>
<span class="nc" id="L3097">        return this;</span>
    }

    public EntityLinkServiceConfiguration getEntityLinkServiceConfiguration() {
<span class="nc" id="L3101">        return entityLinkServiceConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setEntityLinkServiceConfiguration(EntityLinkServiceConfiguration entityLinkServiceConfiguration) {
<span class="nc" id="L3105">        this.entityLinkServiceConfiguration = entityLinkServiceConfiguration;</span>
<span class="nc" id="L3106">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;EntityLinkServiceConfiguration&gt;&gt; getEntityLinkServiceConfigurators() {
<span class="nc" id="L3110">        return entityLinkServiceConfigurators;</span>
    }

    public ProcessEngineConfigurationImpl setEntityLinkServiceConfigurators(
                    Collection&lt;ServiceConfigurator&lt;EntityLinkServiceConfiguration&gt;&gt; entityLinkServiceConfigurators) {
<span class="nc" id="L3115">        this.entityLinkServiceConfigurators = entityLinkServiceConfigurators;</span>
<span class="nc" id="L3116">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addEntityLinkServiceConfigurator(ServiceConfigurator&lt;EntityLinkServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L3120" title="All 2 branches missed.">        if (this.entityLinkServiceConfigurators == null) {</span>
<span class="nc" id="L3121">            this.entityLinkServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }
<span class="nc" id="L3123">        this.entityLinkServiceConfigurators.add(configurator);</span>
<span class="nc" id="L3124">        return this;</span>
    }

    public TaskServiceConfiguration getTaskServiceConfiguration() {
<span class="nc" id="L3128">        return taskServiceConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setTaskServiceConfiguration(TaskServiceConfiguration taskServiceConfiguration) {
<span class="nc" id="L3132">        this.taskServiceConfiguration = taskServiceConfiguration;</span>
<span class="nc" id="L3133">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;TaskServiceConfiguration&gt;&gt; getTaskServiceConfigurators() {
<span class="nc" id="L3137">        return taskServiceConfigurators;</span>
    }

    public ProcessEngineConfigurationImpl setTaskServiceConfigurators(Collection&lt;ServiceConfigurator&lt;TaskServiceConfiguration&gt;&gt; taskServiceConfigurators) {
<span class="nc" id="L3141">        this.taskServiceConfigurators = taskServiceConfigurators;</span>
<span class="nc" id="L3142">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addTaskServiceConfigurator(ServiceConfigurator&lt;TaskServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L3146" title="All 2 branches missed.">        if (this.taskServiceConfigurators == null) {</span>
<span class="nc" id="L3147">            this.taskServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L3150">        this.taskServiceConfigurators.add(configurator);</span>
<span class="nc" id="L3151">        return this;</span>
    }

    public ProcessEngineConfigurationImpl setVariableServiceConfiguration(VariableServiceConfiguration variableServiceConfiguration) {
<span class="nc" id="L3155">        this.variableServiceConfiguration = variableServiceConfiguration;</span>
<span class="nc" id="L3156">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;VariableServiceConfiguration&gt;&gt; getVariableServiceConfigurators() {
<span class="nc" id="L3160">        return variableServiceConfigurators;</span>
    }

    public ProcessEngineConfigurationImpl setVariableServiceConfigurators(Collection&lt;ServiceConfigurator&lt;VariableServiceConfiguration&gt;&gt; variableServiceConfigurators) {
<span class="nc" id="L3164">        this.variableServiceConfigurators = variableServiceConfigurators;</span>
<span class="nc" id="L3165">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addVariableServiceConfigurator(ServiceConfigurator&lt;VariableServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L3169" title="All 2 branches missed.">        if (this.variableServiceConfigurators == null) {</span>
<span class="nc" id="L3170">            this.variableServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L3173">        this.variableServiceConfigurators.add(configurator);</span>
<span class="nc" id="L3174">        return this;</span>
    }

    public InternalHistoryVariableManager getInternalHistoryVariableManager() {
<span class="nc" id="L3178">        return internalHistoryVariableManager;</span>
    }

    public ProcessEngineConfigurationImpl setInternalHistoryVariableManager(InternalHistoryVariableManager internalHistoryVariableManager) {
<span class="nc" id="L3182">        this.internalHistoryVariableManager = internalHistoryVariableManager;</span>
<span class="nc" id="L3183">        return this;</span>
    }

    public InternalTaskVariableScopeResolver getInternalTaskVariableScopeResolver() {
<span class="nc" id="L3187">        return internalTaskVariableScopeResolver;</span>
    }

    public ProcessEngineConfigurationImpl setInternalTaskVariableScopeResolver(InternalTaskVariableScopeResolver internalTaskVariableScopeResolver) {
<span class="nc" id="L3191">        this.internalTaskVariableScopeResolver = internalTaskVariableScopeResolver;</span>
<span class="nc" id="L3192">        return this;</span>
    }

    public InternalHistoryTaskManager getInternalHistoryTaskManager() {
<span class="nc" id="L3196">        return internalHistoryTaskManager;</span>
    }

    public ProcessEngineConfigurationImpl setInternalHistoryTaskManager(InternalHistoryTaskManager internalHistoryTaskManager) {
<span class="nc" id="L3200">        this.internalHistoryTaskManager = internalHistoryTaskManager;</span>
<span class="nc" id="L3201">        return this;</span>
    }

    public InternalTaskAssignmentManager getInternalTaskAssignmentManager() {
<span class="nc" id="L3205">        return internalTaskAssignmentManager;</span>
    }

    public ProcessEngineConfigurationImpl setInternalTaskAssignmentManager(InternalTaskAssignmentManager internalTaskAssignmentManager) {
<span class="nc" id="L3209">        this.internalTaskAssignmentManager = internalTaskAssignmentManager;</span>
<span class="nc" id="L3210">        return this;</span>
    }

    public IdentityLinkEventHandler getIdentityLinkEventHandler() {
<span class="nc" id="L3214">        return identityLinkEventHandler;</span>
    }

    public ProcessEngineConfigurationImpl setIdentityLinkEventHandler(IdentityLinkEventHandler identityLinkEventHandler) {
<span class="nc" id="L3218">        this.identityLinkEventHandler = identityLinkEventHandler;</span>
<span class="nc" id="L3219">        return this;</span>
    }

    public InternalTaskLocalizationManager getInternalTaskLocalizationManager() {
<span class="nc" id="L3223">        return internalTaskLocalizationManager;</span>
    }

    public ProcessEngineConfigurationImpl setInternalTaskLocalizationManager(InternalTaskLocalizationManager internalTaskLocalizationManager) {
<span class="nc" id="L3227">        this.internalTaskLocalizationManager = internalTaskLocalizationManager;</span>
<span class="nc" id="L3228">        return this;</span>
    }

    public InternalProcessLocalizationManager getInternalProcessLocalizationManager() {
<span class="nc" id="L3232">        return internalProcessLocalizationManager;</span>
    }

    public ProcessEngineConfigurationImpl setInternalProcessLocalizationManager(InternalProcessLocalizationManager internalProcessLocalizationManager) {
<span class="nc" id="L3236">        this.internalProcessLocalizationManager = internalProcessLocalizationManager;</span>
<span class="nc" id="L3237">        return this;</span>
    }

    public InternalProcessDefinitionLocalizationManager getInternalProcessDefinitionLocalizationManager() {
<span class="nc" id="L3241">        return internalProcessDefinitionLocalizationManager;</span>
    }

    public ProcessEngineConfigurationImpl setInternalProcessDefinitionLocalizationManager(InternalProcessDefinitionLocalizationManager internalProcessDefinitionLocalizationManager) {
<span class="nc" id="L3245">        this.internalProcessDefinitionLocalizationManager = internalProcessDefinitionLocalizationManager;</span>
<span class="nc" id="L3246">        return this;</span>
    }

    public InternalJobManager getInternalJobManager() {
<span class="nc" id="L3250">        return internalJobManager;</span>
    }

    public ProcessEngineConfigurationImpl setInternalJobManager(InternalJobManager internalJobManager) {
<span class="nc" id="L3254">        this.internalJobManager = internalJobManager;</span>
<span class="nc" id="L3255">        return this;</span>
    }

    public InternalJobCompatibilityManager getInternalJobCompatibilityManager() {
<span class="nc" id="L3259">        return internalJobCompatibilityManager;</span>
    }

    public ProcessEngineConfigurationImpl setInternalJobCompatibilityManager(InternalJobCompatibilityManager internalJobCompatibilityManager) {
<span class="nc" id="L3263">        this.internalJobCompatibilityManager = internalJobCompatibilityManager;</span>
<span class="nc" id="L3264">        return this;</span>
    }

    public boolean isSerializableVariableTypeTrackDeserializedObjects() {
<span class="nc" id="L3268">        return serializableVariableTypeTrackDeserializedObjects;</span>
    }

    public void setSerializableVariableTypeTrackDeserializedObjects(boolean serializableVariableTypeTrackDeserializedObjects) {
<span class="nc" id="L3272">        this.serializableVariableTypeTrackDeserializedObjects = serializableVariableTypeTrackDeserializedObjects;</span>
<span class="nc" id="L3273">    }</span>

    public boolean isJsonVariableTypeTrackObjects() {
<span class="nc" id="L3276">        return jsonVariableTypeTrackObjects;</span>
    }

    public ProcessEngineConfigurationImpl setJsonVariableTypeTrackObjects(boolean jsonVariableTypeTrackObjects) {
<span class="nc" id="L3280">        this.jsonVariableTypeTrackObjects = jsonVariableTypeTrackObjects;</span>
<span class="nc" id="L3281">        return this;</span>
    }

    public boolean isParallelMultiInstanceAsyncLeave() {
<span class="nc" id="L3285">        return parallelMultiInstanceAsyncLeave;</span>
    }

    public ProcessEngineConfigurationImpl setParallelMultiInstanceAsyncLeave(boolean parallelMultiInstanceAsyncLeave) {
<span class="nc" id="L3289">        this.parallelMultiInstanceAsyncLeave = parallelMultiInstanceAsyncLeave;</span>
<span class="nc" id="L3290">        return this;</span>
    }

    public Collection&lt;ELResolver&gt; getPreDefaultELResolvers() {
<span class="nc" id="L3294">        return preDefaultELResolvers;</span>
    }

    public ProcessEngineConfigurationImpl setPreDefaultELResolvers(Collection&lt;ELResolver&gt; preDefaultELResolvers) {
<span class="nc" id="L3298">        this.preDefaultELResolvers = preDefaultELResolvers;</span>
<span class="nc" id="L3299">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addPreDefaultELResolver(ELResolver elResolver) {
<span class="nc bnc" id="L3303" title="All 2 branches missed.">        if (preDefaultELResolvers == null) {</span>
<span class="nc" id="L3304">            preDefaultELResolvers = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L3307">        preDefaultELResolvers.add(elResolver);</span>
<span class="nc" id="L3308">        return this;</span>
    }

    public Collection&lt;ELResolver&gt; getPreBeanELResolvers() {
<span class="nc" id="L3312">        return preBeanELResolvers;</span>
    }

    public ProcessEngineConfigurationImpl setPreBeanELResolvers(Collection&lt;ELResolver&gt; preBeanELResolvers) {
<span class="nc" id="L3316">        this.preBeanELResolvers = preBeanELResolvers;</span>
<span class="nc" id="L3317">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addPreBeanELResolver(ELResolver elResolver) {
<span class="nc bnc" id="L3321" title="All 2 branches missed.">        if (this.preBeanELResolvers == null) {</span>
<span class="nc" id="L3322">            this.preBeanELResolvers = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L3325">        this.preBeanELResolvers.add(elResolver);</span>
<span class="nc" id="L3326">        return this;</span>
    }

    public Collection&lt;ELResolver&gt; getPostDefaultELResolvers() {
<span class="nc" id="L3330">        return postDefaultELResolvers;</span>
    }

    public ProcessEngineConfigurationImpl setPostDefaultELResolvers(Collection&lt;ELResolver&gt; postDefaultELResolvers) {
<span class="nc" id="L3334">        this.postDefaultELResolvers = postDefaultELResolvers;</span>
<span class="nc" id="L3335">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addPostDefaultELResolver(ELResolver elResolver) {
<span class="nc bnc" id="L3339" title="All 2 branches missed.">        if (this.postDefaultELResolvers == null) {</span>
<span class="nc" id="L3340">            this.postDefaultELResolvers = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L3343">        this.postDefaultELResolvers.add(elResolver);</span>
<span class="nc" id="L3344">        return this;</span>
    }

    @Override
    public ExpressionManager getExpressionManager() {
<span class="nc" id="L3349">        return expressionManager;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setExpressionManager(ExpressionManager expressionManager) {
<span class="nc" id="L3354">        this.expressionManager = expressionManager;</span>
<span class="nc" id="L3355">        return this;</span>
    }

    public Collection&lt;Consumer&lt;ExpressionManager&gt;&gt; getExpressionManagerConfigurers() {
<span class="nc" id="L3359">        return expressionManagerConfigurers;</span>
    }

    @Override
    public AbstractEngineConfiguration addExpressionManagerConfigurer(Consumer&lt;ExpressionManager&gt; configurer) {
<span class="nc bnc" id="L3364" title="All 2 branches missed.">        if (this.expressionManagerConfigurers == null) {</span>
<span class="nc" id="L3365">            this.expressionManagerConfigurers = new ArrayList&lt;&gt;();</span>
        }
<span class="nc" id="L3367">        this.expressionManagerConfigurers.add(configurer);</span>
<span class="nc" id="L3368">        return this;</span>
    }

    public boolean isExpressionCacheEnabled() {
<span class="nc" id="L3372">        return isExpressionCacheEnabled;</span>
    }

    public ProcessEngineConfigurationImpl setExpressionCacheEnabled(boolean isExpressionCacheEnabled) {
<span class="nc" id="L3376">        this.isExpressionCacheEnabled = isExpressionCacheEnabled;</span>
<span class="nc" id="L3377">        return this;</span>
    }

    public int getExpressionCacheSize() {
<span class="nc" id="L3381">        return expressionCacheSize;</span>
    }

    public ProcessEngineConfigurationImpl setExpressionCacheSize(int expressionCacheSize) {
<span class="nc" id="L3385">        this.expressionCacheSize = expressionCacheSize;</span>
<span class="nc" id="L3386">        return this;</span>
    }

    public int getExpressionTextLengthCacheLimit() {
<span class="nc" id="L3390">        return expressionTextLengthCacheLimit;</span>
    }

    public ProcessEngineConfigurationImpl setExpressionTextLengthCacheLimit(int expressionTextLengthCacheLimit) {
<span class="nc" id="L3394">        this.expressionTextLengthCacheLimit = expressionTextLengthCacheLimit;</span>
<span class="nc" id="L3395">        return this;</span>
    }

    public BusinessCalendarManager getBusinessCalendarManager() {
<span class="nc" id="L3399">        return businessCalendarManager;</span>
    }

    public ProcessEngineConfigurationImpl setBusinessCalendarManager(BusinessCalendarManager businessCalendarManager) {
<span class="nc" id="L3403">        this.businessCalendarManager = businessCalendarManager;</span>
<span class="nc" id="L3404">        return this;</span>
    }

    public StartProcessInstanceInterceptor getStartProcessInstanceInterceptor() {
<span class="nc" id="L3408">        return startProcessInstanceInterceptor;</span>
    }

    public ProcessEngineConfigurationImpl setStartProcessInstanceInterceptor(StartProcessInstanceInterceptor startProcessInstanceInterceptor) {
<span class="nc" id="L3412">        this.startProcessInstanceInterceptor = startProcessInstanceInterceptor;</span>
<span class="nc" id="L3413">        return this;</span>
    }
    
    public CreateUserTaskInterceptor getCreateUserTaskInterceptor() {
<span class="nc" id="L3417">        return createUserTaskInterceptor;</span>
    }

    public ProcessEngineConfigurationImpl setCreateUserTaskInterceptor(CreateUserTaskInterceptor createUserTaskInterceptor) {
<span class="nc" id="L3421">        this.createUserTaskInterceptor = createUserTaskInterceptor;</span>
<span class="nc" id="L3422">        return this;</span>
    }

    public UserTaskStateInterceptor getUserTaskStateInterceptor() {
<span class="nc" id="L3426">        return userTaskStateInterceptor;</span>
    }

    public ProcessEngineConfigurationImpl setUserTaskStateInterceptor(UserTaskStateInterceptor userTaskStateInterceptor) {
<span class="nc" id="L3430">        this.userTaskStateInterceptor = userTaskStateInterceptor;</span>
<span class="nc" id="L3431">        return this;</span>
    }

    public CreateExternalWorkerJobInterceptor getCreateExternalWorkerJobInterceptor() {
<span class="nc" id="L3435">        return createExternalWorkerJobInterceptor;</span>
    }

    public ProcessEngineConfigurationImpl setCreateExternalWorkerJobInterceptor(CreateExternalWorkerJobInterceptor createExternalWorkerJobInterceptor) {
<span class="nc" id="L3439">        this.createExternalWorkerJobInterceptor = createExternalWorkerJobInterceptor;</span>
<span class="nc" id="L3440">        return this;</span>
    }

    public ProcessInstanceQueryInterceptor getProcessInstanceQueryInterceptor() {
<span class="nc" id="L3444">        return processInstanceQueryInterceptor;</span>
    }

    public ProcessEngineConfigurationImpl setProcessInstanceQueryInterceptor(ProcessInstanceQueryInterceptor processInstanceQueryInterceptor) {
<span class="nc" id="L3448">        this.processInstanceQueryInterceptor = processInstanceQueryInterceptor;</span>
<span class="nc" id="L3449">        return this;</span>
    }

    public ExecutionQueryInterceptor getExecutionQueryInterceptor() {
<span class="nc" id="L3453">        return executionQueryInterceptor;</span>
    }

    public ProcessEngineConfigurationImpl setExecutionQueryInterceptor(ExecutionQueryInterceptor executionQueryInterceptor) {
<span class="nc" id="L3457">        this.executionQueryInterceptor = executionQueryInterceptor;</span>
<span class="nc" id="L3458">        return this;</span>
    }

    public HistoricProcessInstanceQueryInterceptor getHistoricProcessInstanceQueryInterceptor() {
<span class="nc" id="L3462">        return historicProcessInstanceQueryInterceptor;</span>
    }

    public ProcessEngineConfigurationImpl setHistoricProcessInstanceQueryInterceptor(HistoricProcessInstanceQueryInterceptor historicProcessInstanceQueryInterceptor) {
<span class="nc" id="L3466">        this.historicProcessInstanceQueryInterceptor = historicProcessInstanceQueryInterceptor;</span>
<span class="nc" id="L3467">        return this;</span>
    }

    public TaskQueryInterceptor getTaskQueryInterceptor() {
<span class="nc" id="L3471">        return taskQueryInterceptor;</span>
    }

    public ProcessEngineConfigurationImpl setTaskQueryInterceptor(TaskQueryInterceptor taskQueryInterceptor) {
<span class="nc" id="L3475">        this.taskQueryInterceptor = taskQueryInterceptor;</span>
<span class="nc" id="L3476">        return this;</span>
    }

    public HistoricTaskQueryInterceptor getHistoricTaskQueryInterceptor() {
<span class="nc" id="L3480">        return historicTaskQueryInterceptor;</span>
    }

    public ProcessEngineConfigurationImpl setHistoricTaskQueryInterceptor(HistoricTaskQueryInterceptor historicTaskQueryInterceptor) {
<span class="nc" id="L3484">        this.historicTaskQueryInterceptor = historicTaskQueryInterceptor;</span>
<span class="nc" id="L3485">        return this;</span>
    }

    public FlowableEngineAgendaFactory getAgendaFactory() {
<span class="nc" id="L3489">        return agendaFactory;</span>
    }

    public ProcessEngineConfigurationImpl setAgendaFactory(FlowableEngineAgendaFactory agendaFactory) {
<span class="nc" id="L3493">        this.agendaFactory = agendaFactory;</span>
<span class="nc" id="L3494">        return this;</span>
    }

    public AgendaFutureMaxWaitTimeoutProvider getAgendaFutureMaxWaitTimeoutProvider() {
<span class="nc" id="L3498">        return agendaFutureMaxWaitTimeoutProvider;</span>
    }

    public ProcessEngineConfigurationImpl setAgendaFutureMaxWaitTimeoutProvider(AgendaFutureMaxWaitTimeoutProvider agendaFutureMaxWaitTimeoutProvider) {
<span class="nc" id="L3502">        this.agendaFutureMaxWaitTimeoutProvider = agendaFutureMaxWaitTimeoutProvider;</span>
<span class="nc" id="L3503">        return this;</span>
    }

    public Map&lt;String, JobHandler&gt; getJobHandlers() {
<span class="nc" id="L3507">        return jobHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setJobHandlers(Map&lt;String, JobHandler&gt; jobHandlers) {
<span class="nc" id="L3511">        this.jobHandlers = jobHandlers;</span>
<span class="nc" id="L3512">        return this;</span>
    }

    public Map&lt;String, HistoryJobHandler&gt; getHistoryJobHandlers() {
<span class="nc" id="L3516">        return historyJobHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setHistoryJobHandlers(Map&lt;String, HistoryJobHandler&gt; historyJobHandlers) {
<span class="nc" id="L3520">        this.historyJobHandlers = historyJobHandlers;</span>
<span class="nc" id="L3521">        return this;</span>
    }

    public ProcessInstanceHelper getProcessInstanceHelper() {
<span class="nc" id="L3525">        return processInstanceHelper;</span>
    }

    public ProcessEngineConfigurationImpl setProcessInstanceHelper(ProcessInstanceHelper processInstanceHelper) {
<span class="nc" id="L3529">        this.processInstanceHelper = processInstanceHelper;</span>
<span class="nc" id="L3530">        return this;</span>
    }

    public ListenerNotificationHelper getListenerNotificationHelper() {
<span class="nc" id="L3534">        return listenerNotificationHelper;</span>
    }

    public ProcessEngineConfigurationImpl setListenerNotificationHelper(ListenerNotificationHelper listenerNotificationHelper) {
<span class="nc" id="L3538">        this.listenerNotificationHelper = listenerNotificationHelper;</span>
<span class="nc" id="L3539">        return this;</span>
    }

    public FormHandlerHelper getFormHandlerHelper() {
<span class="nc" id="L3543">        return formHandlerHelper;</span>
    }

    public ProcessEngineConfigurationImpl setFormHandlerHelper(FormHandlerHelper formHandlerHelper) {
<span class="nc" id="L3547">        this.formHandlerHelper = formHandlerHelper;</span>
<span class="nc" id="L3548">        return this;</span>
    }

    public CaseInstanceService getCaseInstanceService() {
<span class="nc" id="L3552">        return caseInstanceService;</span>
    }

    public ProcessEngineConfigurationImpl setCaseInstanceService(CaseInstanceService caseInstanceService) {
<span class="nc" id="L3556">        this.caseInstanceService = caseInstanceService;</span>
<span class="nc" id="L3557">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setSqlSessionFactory(SqlSessionFactory sqlSessionFactory) {
<span class="nc" id="L3562">        this.sqlSessionFactory = sqlSessionFactory;</span>
<span class="nc" id="L3563">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setTransactionFactory(TransactionFactory transactionFactory) {
<span class="nc" id="L3568">        this.transactionFactory = transactionFactory;</span>
<span class="nc" id="L3569">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl addCustomSessionFactory(SessionFactory sessionFactory) {
<span class="nc" id="L3574">        super.addCustomSessionFactory(sessionFactory);</span>
<span class="nc" id="L3575">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setCustomSessionFactories(List&lt;SessionFactory&gt; customSessionFactories) {
<span class="nc" id="L3580">        this.customSessionFactories = customSessionFactories;</span>
<span class="nc" id="L3581">        return this;</span>
    }

    public List&lt;JobHandler&gt; getCustomJobHandlers() {
<span class="nc" id="L3585">        return customJobHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setCustomJobHandlers(List&lt;JobHandler&gt; customJobHandlers) {
<span class="nc" id="L3589">        this.customJobHandlers = customJobHandlers;</span>
<span class="nc" id="L3590">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addCustomJobHandler(JobHandler customJobHandler) {
<span class="nc bnc" id="L3594" title="All 2 branches missed.">        if (this.customJobHandlers == null) {</span>
<span class="nc" id="L3595">            this.customJobHandlers = new ArrayList&lt;&gt;();</span>
        }
<span class="nc" id="L3597">        this.customJobHandlers.add(customJobHandler);</span>
<span class="nc" id="L3598">        return this;</span>
    }

    public List&lt;HistoryJobHandler&gt; getCustomHistoryJobHandlers() {
<span class="nc" id="L3602">        return customHistoryJobHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setCustomHistoryJobHandlers(List&lt;HistoryJobHandler&gt; customHistoryJobHandlers) {
<span class="nc" id="L3606">        this.customHistoryJobHandlers = customHistoryJobHandlers;</span>
<span class="nc" id="L3607">        return this;</span>
    }

    public List&lt;FormEngine&gt; getCustomFormEngines() {
<span class="nc" id="L3611">        return customFormEngines;</span>
    }

    public ProcessEngineConfigurationImpl setCustomFormEngines(List&lt;FormEngine&gt; customFormEngines) {
<span class="nc" id="L3615">        this.customFormEngines = customFormEngines;</span>
<span class="nc" id="L3616">        return this;</span>
    }

    public List&lt;AbstractFormType&gt; getCustomFormTypes() {
<span class="nc" id="L3620">        return customFormTypes;</span>
    }

    public ProcessEngineConfigurationImpl setCustomFormTypes(List&lt;AbstractFormType&gt; customFormTypes) {
<span class="nc" id="L3624">        this.customFormTypes = customFormTypes;</span>
<span class="nc" id="L3625">        return this;</span>
    }

    public List&lt;String&gt; getCustomScriptingEngineClasses() {
<span class="nc" id="L3629">        return customScriptingEngineClasses;</span>
    }

    public ProcessEngineConfigurationImpl setCustomScriptingEngineClasses(List&lt;String&gt; customScriptingEngineClasses) {
<span class="nc" id="L3633">        this.customScriptingEngineClasses = customScriptingEngineClasses;</span>
<span class="nc" id="L3634">        return this;</span>
    }

    public List&lt;VariableType&gt; getCustomPreVariableTypes() {
<span class="nc" id="L3638">        return customPreVariableTypes;</span>
    }

    public ProcessEngineConfigurationImpl setCustomPreVariableTypes(List&lt;VariableType&gt; customPreVariableTypes) {
<span class="nc" id="L3642">        this.customPreVariableTypes = customPreVariableTypes;</span>
<span class="nc" id="L3643">        return this;</span>
    }

    public List&lt;VariableType&gt; getCustomPostVariableTypes() {
<span class="nc" id="L3647">        return customPostVariableTypes;</span>
    }

    public ProcessEngineConfigurationImpl setCustomPostVariableTypes(List&lt;VariableType&gt; customPostVariableTypes) {
<span class="nc" id="L3651">        this.customPostVariableTypes = customPostVariableTypes;</span>
<span class="nc" id="L3652">        return this;</span>
    }

    public List&lt;BpmnParseHandler&gt; getPreBpmnParseHandlers() {
<span class="nc" id="L3656">        return preBpmnParseHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setPreBpmnParseHandlers(List&lt;BpmnParseHandler&gt; preBpmnParseHandlers) {
<span class="nc" id="L3660">        this.preBpmnParseHandlers = preBpmnParseHandlers;</span>
<span class="nc" id="L3661">        return this;</span>
    }

    public List&lt;BpmnParseHandler&gt; getCustomDefaultBpmnParseHandlers() {
<span class="nc" id="L3665">        return customDefaultBpmnParseHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setCustomDefaultBpmnParseHandlers(List&lt;BpmnParseHandler&gt; customDefaultBpmnParseHandlers) {
<span class="nc" id="L3669">        this.customDefaultBpmnParseHandlers = customDefaultBpmnParseHandlers;</span>
<span class="nc" id="L3670">        return this;</span>
    }

    public List&lt;BpmnParseHandler&gt; getPostBpmnParseHandlers() {
<span class="nc" id="L3674">        return postBpmnParseHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setPostBpmnParseHandlers(List&lt;BpmnParseHandler&gt; postBpmnParseHandlers) {
<span class="nc" id="L3678">        this.postBpmnParseHandlers = postBpmnParseHandlers;</span>
<span class="nc" id="L3679">        return this;</span>
    }

    public ActivityBehaviorFactory getActivityBehaviorFactory() {
<span class="nc" id="L3683">        return activityBehaviorFactory;</span>
    }

    public ProcessEngineConfigurationImpl setActivityBehaviorFactory(ActivityBehaviorFactory activityBehaviorFactory) {
<span class="nc" id="L3687">        this.activityBehaviorFactory = activityBehaviorFactory;</span>
<span class="nc" id="L3688">        return this;</span>
    }

    public ListenerFactory getListenerFactory() {
<span class="nc" id="L3692">        return listenerFactory;</span>
    }

    public ProcessEngineConfigurationImpl setListenerFactory(ListenerFactory listenerFactory) {
<span class="nc" id="L3696">        this.listenerFactory = listenerFactory;</span>
<span class="nc" id="L3697">        return this;</span>
    }


    public BpmnParseFactory getBpmnParseFactory() {
<span class="nc" id="L3702">        return bpmnParseFactory;</span>
    }

    public ProcessEngineConfigurationImpl setBpmnParseFactory(BpmnParseFactory bpmnParseFactory) {
<span class="nc" id="L3706">        this.bpmnParseFactory = bpmnParseFactory;</span>
<span class="nc" id="L3707">        return this;</span>
    }

    public List&lt;ResolverFactory&gt; getResolverFactories() {
<span class="nc" id="L3711">        return resolverFactories;</span>
    }

    public ProcessEngineConfigurationImpl setResolverFactories(List&lt;ResolverFactory&gt; resolverFactories) {
<span class="nc" id="L3715">        this.resolverFactories = resolverFactories;</span>
<span class="nc" id="L3716">        return this;</span>
    }

    public Collection&lt;ResolverFactory&gt; getPreDefaultResolverFactories() {
<span class="nc" id="L3720">        return preDefaultResolverFactories;</span>
    }

    public ProcessEngineConfigurationImpl setPreDefaultResolverFactories(Collection&lt;ResolverFactory&gt; preDefaultResolverFactories) {
<span class="nc" id="L3724">        this.preDefaultResolverFactories = preDefaultResolverFactories;</span>
<span class="nc" id="L3725">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addPreDefaultResolverFactory(ResolverFactory resolverFactory) {
<span class="nc bnc" id="L3729" title="All 2 branches missed.">        if (this.preDefaultResolverFactories == null) {</span>
<span class="nc" id="L3730">            this.preDefaultResolverFactories = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L3733">        this.preDefaultResolverFactories.add(resolverFactory);</span>
<span class="nc" id="L3734">        return this;</span>
    }

    public Collection&lt;ResolverFactory&gt; getPostDefaultResolverFactories() {
<span class="nc" id="L3738">        return postDefaultResolverFactories;</span>
    }

    public ProcessEngineConfigurationImpl setPostDefaultResolverFactories(Collection&lt;ResolverFactory&gt; postDefaultResolverFactories) {
<span class="nc" id="L3742">        this.postDefaultResolverFactories = postDefaultResolverFactories;</span>
<span class="nc" id="L3743">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addPostDefaultResolverFactory(ResolverFactory resolverFactory) {
<span class="nc bnc" id="L3747" title="All 2 branches missed.">        if (this.postDefaultResolverFactories == null) {</span>
<span class="nc" id="L3748">            this.postDefaultResolverFactories = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L3751">        this.postDefaultResolverFactories.add(resolverFactory);</span>
<span class="nc" id="L3752">        return this;</span>
    }

    public DeploymentManager getDeploymentManager() {
<span class="nc" id="L3756">        return deploymentManager;</span>
    }

    public ProcessEngineConfigurationImpl setDeploymentManager(DeploymentManager deploymentManager) {
<span class="nc" id="L3760">        this.deploymentManager = deploymentManager;</span>
<span class="nc" id="L3761">        return this;</span>
    }

    public ProcessEngineConfigurationImpl setDelegateInterceptor(DelegateInterceptor delegateInterceptor) {
<span class="nc" id="L3765">        this.delegateInterceptor = delegateInterceptor;</span>
<span class="nc" id="L3766">        return this;</span>
    }

    public DelegateInterceptor getDelegateInterceptor() {
<span class="nc" id="L3770">        return delegateInterceptor;</span>
    }

    public EventHandler getEventHandler(String eventType) {
<span class="nc" id="L3774">        return eventHandlers.get(eventType);</span>
    }

    public ProcessEngineConfigurationImpl setEventHandlers(Map&lt;String, EventHandler&gt; eventHandlers) {
<span class="nc" id="L3778">        this.eventHandlers = eventHandlers;</span>
<span class="nc" id="L3779">        return this;</span>
    }

    public Map&lt;String, EventHandler&gt; getEventHandlers() {
<span class="nc" id="L3783">        return eventHandlers;</span>
    }

    public List&lt;EventHandler&gt; getCustomEventHandlers() {
<span class="nc" id="L3787">        return customEventHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setCustomEventHandlers(List&lt;EventHandler&gt; customEventHandlers) {
<span class="nc" id="L3791">        this.customEventHandlers = customEventHandlers;</span>
<span class="nc" id="L3792">        return this;</span>
    }

    public FailedJobCommandFactory getFailedJobCommandFactory() {
<span class="nc" id="L3796">        return failedJobCommandFactory;</span>
    }

    public ProcessEngineConfigurationImpl setFailedJobCommandFactory(FailedJobCommandFactory failedJobCommandFactory) {
<span class="nc" id="L3800">        this.failedJobCommandFactory = failedJobCommandFactory;</span>
<span class="nc" id="L3801">        return this;</span>
    }

    public int getBatchSizeProcessInstances() {
<span class="nc" id="L3805">        return batchSizeProcessInstances;</span>
    }

    public ProcessEngineConfigurationImpl setBatchSizeProcessInstances(int batchSizeProcessInstances) {
<span class="nc" id="L3809">        this.batchSizeProcessInstances = batchSizeProcessInstances;</span>
<span class="nc" id="L3810">        return this;</span>
    }

    public int getBatchSizeTasks() {
<span class="nc" id="L3814">        return batchSizeTasks;</span>
    }

    public ProcessEngineConfigurationImpl setBatchSizeTasks(int batchSizeTasks) {
<span class="nc" id="L3818">        this.batchSizeTasks = batchSizeTasks;</span>
<span class="nc" id="L3819">        return this;</span>
    }

    public int getProcessDefinitionCacheLimit() {
<span class="nc" id="L3823">        return processDefinitionCacheLimit;</span>
    }

    public ProcessEngineConfigurationImpl setProcessDefinitionCacheLimit(int processDefinitionCacheLimit) {
<span class="nc" id="L3827">        this.processDefinitionCacheLimit = processDefinitionCacheLimit;</span>
<span class="nc" id="L3828">        return this;</span>
    }

    public DeploymentCache&lt;ProcessDefinitionCacheEntry&gt; getProcessDefinitionCache() {
<span class="nc" id="L3832">        return processDefinitionCache;</span>
    }

    public ProcessEngineConfigurationImpl setProcessDefinitionCache(DeploymentCache&lt;ProcessDefinitionCacheEntry&gt; processDefinitionCache) {
<span class="nc" id="L3836">        this.processDefinitionCache = processDefinitionCache;</span>
<span class="nc" id="L3837">        return this;</span>
    }

    public ProcessEngineConfigurationImpl setProcessDefinitionInfoCache(DeploymentCache&lt;ProcessDefinitionInfoCacheObject&gt; processDefinitionInfoCache){
<span class="nc" id="L3841">        this.processDefinitionInfoCache = processDefinitionInfoCache;</span>
<span class="nc" id="L3842">        return this;</span>
    }

    public DeploymentCache&lt;ProcessDefinitionInfoCacheObject&gt; getProcessDefinitionInfoCache() {
<span class="nc" id="L3846">        return processDefinitionInfoCache;</span>
    }

    public int getKnowledgeBaseCacheLimit() {
<span class="nc" id="L3850">        return knowledgeBaseCacheLimit;</span>
    }

    public ProcessEngineConfigurationImpl setKnowledgeBaseCacheLimit(int knowledgeBaseCacheLimit) {
<span class="nc" id="L3854">        this.knowledgeBaseCacheLimit = knowledgeBaseCacheLimit;</span>
<span class="nc" id="L3855">        return this;</span>
    }

    public DeploymentCache&lt;Object&gt; getKnowledgeBaseCache() {
<span class="nc" id="L3859">        return knowledgeBaseCache;</span>
    }

    public ProcessEngineConfigurationImpl setKnowledgeBaseCache(DeploymentCache&lt;Object&gt; knowledgeBaseCache) {
<span class="nc" id="L3863">        this.knowledgeBaseCache = knowledgeBaseCache;</span>
<span class="nc" id="L3864">        return this;</span>
    }

    public DeploymentCache&lt;Object&gt; getAppResourceCache() {
<span class="nc" id="L3868">        return appResourceCache;</span>
    }

    public ProcessEngineConfigurationImpl setAppResourceCache(DeploymentCache&lt;Object&gt; appResourceCache) {
<span class="nc" id="L3872">        this.appResourceCache = appResourceCache;</span>
<span class="nc" id="L3873">        return this;</span>
    }

    public int getAppResourceCacheLimit() {
<span class="nc" id="L3877">        return appResourceCacheLimit;</span>
    }

    public ProcessEngineConfigurationImpl setAppResourceCacheLimit(int appResourceCacheLimit) {
<span class="nc" id="L3881">        this.appResourceCacheLimit = appResourceCacheLimit;</span>
<span class="nc" id="L3882">        return this;</span>
    }

    public AppResourceConverter getAppResourceConverter() {
<span class="nc" id="L3886">        return appResourceConverter;</span>
    }

    public ProcessEngineConfigurationImpl setAppResourceConverter(AppResourceConverter appResourceConverter) {
<span class="nc" id="L3890">        this.appResourceConverter = appResourceConverter;</span>
<span class="nc" id="L3891">        return this;</span>
    }

    public boolean isEnableSafeBpmnXml() {
<span class="nc" id="L3895">        return enableSafeBpmnXml;</span>
    }

    public ProcessEngineConfigurationImpl setEnableSafeBpmnXml(boolean enableSafeBpmnXml) {
<span class="nc" id="L3899">        this.enableSafeBpmnXml = enableSafeBpmnXml;</span>
<span class="nc" id="L3900">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setEventDispatcher(FlowableEventDispatcher eventDispatcher) {
<span class="nc" id="L3905">        this.eventDispatcher = eventDispatcher;</span>
<span class="nc" id="L3906">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setEnableEventDispatcher(boolean enableEventDispatcher) {
<span class="nc" id="L3911">        this.enableEventDispatcher = enableEventDispatcher;</span>
<span class="nc" id="L3912">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setTypedEventListeners(Map&lt;String, List&lt;FlowableEventListener&gt;&gt; typedListeners) {
<span class="nc" id="L3917">        this.typedEventListeners = typedListeners;</span>
<span class="nc" id="L3918">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setEventListeners(List&lt;FlowableEventListener&gt; eventListeners) {
<span class="nc" id="L3923">        this.eventListeners = eventListeners;</span>
<span class="nc" id="L3924">        return this;</span>
    }

    public ProcessValidator getProcessValidator() {
<span class="nc" id="L3928">        return processValidator;</span>
    }

    public ProcessEngineConfigurationImpl setProcessValidator(ProcessValidator processValidator) {
<span class="nc" id="L3932">        this.processValidator = processValidator;</span>
<span class="nc" id="L3933">        return this;</span>
    }

    public ServiceTaskValidator getCustomServiceTaskValidator() {
<span class="nc" id="L3937">        return customServiceTaskValidator;</span>
    }

    public ProcessEngineConfigurationImpl setCustomServiceTaskValidator(ServiceTaskValidator customServiceTaskValidator) {
<span class="nc" id="L3941">        this.customServiceTaskValidator = customServiceTaskValidator;</span>
<span class="nc" id="L3942">        return this;</span>
    }

    public FormFieldHandler getFormFieldHandler() {
<span class="nc" id="L3946">        return formFieldHandler;</span>
    }

    public ProcessEngineConfigurationImpl setFormFieldHandler(FormFieldHandler formFieldHandler) {
<span class="nc" id="L3950">        this.formFieldHandler = formFieldHandler;</span>
<span class="nc" id="L3951">        return this;</span>
    }

    public boolean isFormFieldValidationEnabled() {
<span class="nc" id="L3955">        return this.isFormFieldValidationEnabled;</span>
    }

    public ProcessEngineConfigurationImpl setFormFieldValidationEnabled(boolean flag) {
<span class="nc" id="L3959">        this.isFormFieldValidationEnabled = flag;</span>
<span class="nc" id="L3960">        return this;</span>
    }

    public EventRegistryEventConsumer getEventRegistryEventConsumer() {
<span class="nc" id="L3964">        return eventRegistryEventConsumer;</span>
    }

    public ProcessEngineConfigurationImpl setEventRegistryEventConsumer(EventRegistryEventConsumer eventRegistryEventConsumer) {
<span class="nc" id="L3968">        this.eventRegistryEventConsumer = eventRegistryEventConsumer;</span>
<span class="nc" id="L3969">        return this;</span>
    }

    public boolean isEventRegistryStartProcessInstanceAsync() {
<span class="nc" id="L3973">        return eventRegistryStartProcessInstanceAsync;</span>
    }

    public ProcessEngineConfigurationImpl setEventRegistryStartProcessInstanceAsync(boolean eventRegistryStartProcessInstanceAsync) {
<span class="nc" id="L3977">        this.eventRegistryStartProcessInstanceAsync = eventRegistryStartProcessInstanceAsync;</span>
<span class="nc" id="L3978">        return this;</span>
    }

    public boolean isEventRegistryUniqueProcessInstanceCheckWithLock() {
<span class="nc" id="L3982">        return eventRegistryUniqueProcessInstanceCheckWithLock;</span>
    }

    public ProcessEngineConfigurationImpl setEventRegistryUniqueProcessInstanceCheckWithLock(boolean eventRegistryUniqueProcessInstanceCheckWithLock) {
<span class="nc" id="L3986">        this.eventRegistryUniqueProcessInstanceCheckWithLock = eventRegistryUniqueProcessInstanceCheckWithLock;</span>
<span class="nc" id="L3987">        return this;</span>
    }

    public Duration getEventRegistryUniqueProcessInstanceStartLockTime() {
<span class="nc" id="L3991">        return eventRegistryUniqueProcessInstanceStartLockTime;</span>
    }

    public ProcessEngineConfigurationImpl setEventRegistryUniqueProcessInstanceStartLockTime(Duration eventRegistryUniqueProcessInstanceStartLockTime) {
<span class="nc" id="L3995">        this.eventRegistryUniqueProcessInstanceStartLockTime = eventRegistryUniqueProcessInstanceStartLockTime;</span>
<span class="nc" id="L3996">        return this;</span>
    }

    public List&lt;FlowableFunctionDelegate&gt; getFlowableFunctionDelegates() {
<span class="nc" id="L4000">        return flowableFunctionDelegates;</span>
    }

    public ProcessEngineConfigurationImpl setFlowableFunctionDelegates(List&lt;FlowableFunctionDelegate&gt; flowableFunctionDelegates) {
<span class="nc" id="L4004">        this.flowableFunctionDelegates = flowableFunctionDelegates;</span>
<span class="nc" id="L4005">        return this;</span>
    }

    public List&lt;FlowableFunctionDelegate&gt; getCustomFlowableFunctionDelegates() {
<span class="nc" id="L4009">        return customFlowableFunctionDelegates;</span>
    }

    public ProcessEngineConfigurationImpl setCustomFlowableFunctionDelegates(List&lt;FlowableFunctionDelegate&gt; customFlowableFunctionDelegates) {
<span class="nc" id="L4013">        this.customFlowableFunctionDelegates = customFlowableFunctionDelegates;</span>
<span class="nc" id="L4014">        return this;</span>
    }

    public List&lt;FlowableAstFunctionCreator&gt; getAstFunctionCreators() {
<span class="nc" id="L4018">        return astFunctionCreators;</span>
    }

    public void setAstFunctionCreators(List&lt;FlowableAstFunctionCreator&gt; astFunctionCreators) {
<span class="nc" id="L4022">        this.astFunctionCreators = astFunctionCreators;</span>
<span class="nc" id="L4023">    }</span>

    public boolean isEnableDatabaseEventLogging() {
<span class="nc" id="L4026">        return enableDatabaseEventLogging;</span>
    }

    public ProcessEngineConfigurationImpl setEnableDatabaseEventLogging(boolean enableDatabaseEventLogging) {
<span class="nc" id="L4030">        this.enableDatabaseEventLogging = enableDatabaseEventLogging;</span>
<span class="nc" id="L4031">        return this;</span>
    }

    public boolean isEnableHistoricTaskLogging() {
<span class="nc" id="L4035">        return enableHistoricTaskLogging;</span>
    }

    public ProcessEngineConfigurationImpl setEnableHistoricTaskLogging(boolean enableHistoricTaskLogging) {
<span class="nc" id="L4039">        this.enableHistoricTaskLogging = enableHistoricTaskLogging;</span>
<span class="nc" id="L4040">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setUsingRelationalDatabase(boolean usingRelationalDatabase) {
<span class="nc" id="L4045">        this.usingRelationalDatabase = usingRelationalDatabase;</span>
<span class="nc" id="L4046">        return this;</span>
    }

    public boolean isEnableVerboseExecutionTreeLogging() {
<span class="nc" id="L4050">        return enableVerboseExecutionTreeLogging;</span>
    }

    public ProcessEngineConfigurationImpl setEnableVerboseExecutionTreeLogging(boolean enableVerboseExecutionTreeLogging) {
<span class="nc" id="L4054">        this.enableVerboseExecutionTreeLogging = enableVerboseExecutionTreeLogging;</span>
<span class="nc" id="L4055">        return this;</span>
    }

    public ProcessEngineConfigurationImpl setEnableEagerExecutionTreeFetching(boolean enableEagerExecutionTreeFetching) {
<span class="nc" id="L4059">        this.performanceSettings.setEnableEagerExecutionTreeFetching(enableEagerExecutionTreeFetching);</span>
<span class="nc" id="L4060">        return this;</span>
    }

    public ProcessEngineConfigurationImpl setEnableExecutionRelationshipCounts(boolean enableExecutionRelationshipCounts) {
<span class="nc" id="L4064">        this.performanceSettings.setEnableExecutionRelationshipCounts(enableExecutionRelationshipCounts);</span>
<span class="nc" id="L4065">        return this;</span>
    }

    public ProcessEngineConfigurationImpl setEnableTaskRelationshipCounts(boolean enableTaskRelationshipCounts) {
<span class="nc" id="L4069">        this.performanceSettings.setEnableTaskRelationshipCounts(enableTaskRelationshipCounts);</span>
<span class="nc" id="L4070">        return this;</span>
    }

    public PerformanceSettings getPerformanceSettings() {
<span class="nc" id="L4074">        return performanceSettings;</span>
    }

    public void setPerformanceSettings(PerformanceSettings performanceSettings) {
<span class="nc" id="L4078">        this.performanceSettings = performanceSettings;</span>
<span class="nc" id="L4079">    }</span>

    public ProcessEngineConfigurationImpl setEnableLocalization(boolean enableLocalization) {
<span class="nc" id="L4082">        this.performanceSettings.setEnableLocalization(enableLocalization);</span>
<span class="nc" id="L4083">        return this;</span>
    }

    public AttachmentDataManager getAttachmentDataManager() {
<span class="nc" id="L4087">        return attachmentDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setAttachmentDataManager(AttachmentDataManager attachmentDataManager) {
<span class="nc" id="L4091">        this.attachmentDataManager = attachmentDataManager;</span>
<span class="nc" id="L4092">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setByteArrayDataManager(ByteArrayDataManager byteArrayDataManager) {
<span class="nc" id="L4097">        this.byteArrayDataManager = byteArrayDataManager;</span>
<span class="nc" id="L4098">        return this;</span>
    }

    public CommentDataManager getCommentDataManager() {
<span class="nc" id="L4102">        return commentDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setCommentDataManager(CommentDataManager commentDataManager) {
<span class="nc" id="L4106">        this.commentDataManager = commentDataManager;</span>
<span class="nc" id="L4107">        return this;</span>
    }

    public DeploymentDataManager getDeploymentDataManager() {
<span class="nc" id="L4111">        return deploymentDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setDeploymentDataManager(DeploymentDataManager deploymentDataManager) {
<span class="nc" id="L4115">        this.deploymentDataManager = deploymentDataManager;</span>
<span class="nc" id="L4116">        return this;</span>
    }

    public EventLogEntryDataManager getEventLogEntryDataManager() {
<span class="nc" id="L4120">        return eventLogEntryDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setEventLogEntryDataManager(EventLogEntryDataManager eventLogEntryDataManager) {
<span class="nc" id="L4124">        this.eventLogEntryDataManager = eventLogEntryDataManager;</span>
<span class="nc" id="L4125">        return this;</span>
    }

    public ExecutionDataManager getExecutionDataManager() {
<span class="nc" id="L4129">        return executionDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setExecutionDataManager(ExecutionDataManager executionDataManager) {
<span class="nc" id="L4133">        this.executionDataManager = executionDataManager;</span>
<span class="nc" id="L4134">        return this;</span>
    }

    public ActivityInstanceDataManager getActivityInstanceDataManager() {
<span class="nc" id="L4138">        return activityInstanceDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setActivityInstanceDataManager(ActivityInstanceDataManager activityInstanceDataManager) {
<span class="nc" id="L4142">        this.activityInstanceDataManager = activityInstanceDataManager;</span>
<span class="nc" id="L4143">        return this;</span>
    }

    public HistoricActivityInstanceDataManager getHistoricActivityInstanceDataManager() {
<span class="nc" id="L4147">        return historicActivityInstanceDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setHistoricActivityInstanceDataManager(HistoricActivityInstanceDataManager historicActivityInstanceDataManager) {
<span class="nc" id="L4151">        this.historicActivityInstanceDataManager = historicActivityInstanceDataManager;</span>
<span class="nc" id="L4152">        return this;</span>
    }

    public HistoricDetailDataManager getHistoricDetailDataManager() {
<span class="nc" id="L4156">        return historicDetailDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setHistoricDetailDataManager(HistoricDetailDataManager historicDetailDataManager) {
<span class="nc" id="L4160">        this.historicDetailDataManager = historicDetailDataManager;</span>
<span class="nc" id="L4161">        return this;</span>
    }

    public HistoricProcessInstanceDataManager getHistoricProcessInstanceDataManager() {
<span class="nc" id="L4165">        return historicProcessInstanceDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setHistoricProcessInstanceDataManager(HistoricProcessInstanceDataManager historicProcessInstanceDataManager) {
<span class="nc" id="L4169">        this.historicProcessInstanceDataManager = historicProcessInstanceDataManager;</span>
<span class="nc" id="L4170">        return this;</span>
    }

    public ModelDataManager getModelDataManager() {
<span class="nc" id="L4174">        return modelDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setModelDataManager(ModelDataManager modelDataManager) {
<span class="nc" id="L4178">        this.modelDataManager = modelDataManager;</span>
<span class="nc" id="L4179">        return this;</span>
    }

    public ProcessDefinitionDataManager getProcessDefinitionDataManager() {
<span class="nc" id="L4183">        return processDefinitionDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setProcessDefinitionDataManager(ProcessDefinitionDataManager processDefinitionDataManager) {
<span class="nc" id="L4187">        this.processDefinitionDataManager = processDefinitionDataManager;</span>
<span class="nc" id="L4188">        return this;</span>
    }

    public ProcessDefinitionInfoDataManager getProcessDefinitionInfoDataManager() {
<span class="nc" id="L4192">        return processDefinitionInfoDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setProcessDefinitionInfoDataManager(ProcessDefinitionInfoDataManager processDefinitionInfoDataManager) {
<span class="nc" id="L4196">        this.processDefinitionInfoDataManager = processDefinitionInfoDataManager;</span>
<span class="nc" id="L4197">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setPropertyDataManager(PropertyDataManager propertyDataManager) {
<span class="nc" id="L4202">        this.propertyDataManager = propertyDataManager;</span>
<span class="nc" id="L4203">        return this;</span>
    }

    public ResourceDataManager getResourceDataManager() {
<span class="nc" id="L4207">        return resourceDataManager;</span>
    }

    public ProcessEngineConfigurationImpl setResourceDataManager(ResourceDataManager resourceDataManager) {
<span class="nc" id="L4211">        this.resourceDataManager = resourceDataManager;</span>
<span class="nc" id="L4212">        return this;</span>
    }

    public AttachmentEntityManager getAttachmentEntityManager() {
<span class="nc" id="L4216">        return attachmentEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setAttachmentEntityManager(AttachmentEntityManager attachmentEntityManager) {
<span class="nc" id="L4220">        this.attachmentEntityManager = attachmentEntityManager;</span>
<span class="nc" id="L4221">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setByteArrayEntityManager(ByteArrayEntityManager byteArrayEntityManager) {
<span class="nc" id="L4226">        this.byteArrayEntityManager = byteArrayEntityManager;</span>
<span class="nc" id="L4227">        return this;</span>
    }

    public CommentEntityManager getCommentEntityManager() {
<span class="nc" id="L4231">        return commentEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setCommentEntityManager(CommentEntityManager commentEntityManager) {
<span class="nc" id="L4235">        this.commentEntityManager = commentEntityManager;</span>
<span class="nc" id="L4236">        return this;</span>
    }

    public DeploymentEntityManager getDeploymentEntityManager() {
<span class="nc" id="L4240">        return deploymentEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setDeploymentEntityManager(DeploymentEntityManager deploymentEntityManager) {
<span class="nc" id="L4244">        this.deploymentEntityManager = deploymentEntityManager;</span>
<span class="nc" id="L4245">        return this;</span>
    }

    public EventLogEntryEntityManager getEventLogEntryEntityManager() {
<span class="nc" id="L4249">        return eventLogEntryEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setEventLogEntryEntityManager(EventLogEntryEntityManager eventLogEntryEntityManager) {
<span class="nc" id="L4253">        this.eventLogEntryEntityManager = eventLogEntryEntityManager;</span>
<span class="nc" id="L4254">        return this;</span>
    }

    public ExecutionEntityManager getExecutionEntityManager() {
<span class="nc" id="L4258">        return executionEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setExecutionEntityManager(ExecutionEntityManager executionEntityManager) {
<span class="nc" id="L4262">        this.executionEntityManager = executionEntityManager;</span>
<span class="nc" id="L4263">        return this;</span>
    }

    public ActivityInstanceEntityManager getActivityInstanceEntityManager() {
<span class="nc" id="L4267">        return activityInstanceEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setActivityInstanceEntityManager(ActivityInstanceEntityManager activityInstanceEntityManager) {
<span class="nc" id="L4271">        this.activityInstanceEntityManager = activityInstanceEntityManager;</span>
<span class="nc" id="L4272">        return this;</span>
    }

    public HistoricActivityInstanceEntityManager getHistoricActivityInstanceEntityManager() {
<span class="nc" id="L4276">        return historicActivityInstanceEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setHistoricActivityInstanceEntityManager(HistoricActivityInstanceEntityManager historicActivityInstanceEntityManager) {
<span class="nc" id="L4280">        this.historicActivityInstanceEntityManager = historicActivityInstanceEntityManager;</span>
<span class="nc" id="L4281">        return this;</span>
    }

    public HistoricDetailEntityManager getHistoricDetailEntityManager() {
<span class="nc" id="L4285">        return historicDetailEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setHistoricDetailEntityManager(HistoricDetailEntityManager historicDetailEntityManager) {
<span class="nc" id="L4289">        this.historicDetailEntityManager = historicDetailEntityManager;</span>
<span class="nc" id="L4290">        return this;</span>
    }

    public HistoricProcessInstanceEntityManager getHistoricProcessInstanceEntityManager() {
<span class="nc" id="L4294">        return historicProcessInstanceEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setHistoricProcessInstanceEntityManager(HistoricProcessInstanceEntityManager historicProcessInstanceEntityManager) {
<span class="nc" id="L4298">        this.historicProcessInstanceEntityManager = historicProcessInstanceEntityManager;</span>
<span class="nc" id="L4299">        return this;</span>
    }

    public ModelEntityManager getModelEntityManager() {
<span class="nc" id="L4303">        return modelEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setModelEntityManager(ModelEntityManager modelEntityManager) {
<span class="nc" id="L4307">        this.modelEntityManager = modelEntityManager;</span>
<span class="nc" id="L4308">        return this;</span>
    }

    public ProcessDefinitionEntityManager getProcessDefinitionEntityManager() {
<span class="nc" id="L4312">        return processDefinitionEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setProcessDefinitionEntityManager(ProcessDefinitionEntityManager processDefinitionEntityManager) {
<span class="nc" id="L4316">        this.processDefinitionEntityManager = processDefinitionEntityManager;</span>
<span class="nc" id="L4317">        return this;</span>
    }

    public ProcessDefinitionInfoEntityManager getProcessDefinitionInfoEntityManager() {
<span class="nc" id="L4321">        return processDefinitionInfoEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setProcessDefinitionInfoEntityManager(ProcessDefinitionInfoEntityManager processDefinitionInfoEntityManager) {
<span class="nc" id="L4325">        this.processDefinitionInfoEntityManager = processDefinitionInfoEntityManager;</span>
<span class="nc" id="L4326">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setPropertyEntityManager(PropertyEntityManager propertyEntityManager) {
<span class="nc" id="L4331">        this.propertyEntityManager = propertyEntityManager;</span>
<span class="nc" id="L4332">        return this;</span>
    }

    public ResourceEntityManager getResourceEntityManager() {
<span class="nc" id="L4336">        return resourceEntityManager;</span>
    }

    public ProcessEngineConfigurationImpl setResourceEntityManager(ResourceEntityManager resourceEntityManager) {
<span class="nc" id="L4340">        this.resourceEntityManager = resourceEntityManager;</span>
<span class="nc" id="L4341">        return this;</span>
    }

    public DeploymentProcessDefinitionDeletionManager getProcessDefinitionDeploymentDeletionManager() {
<span class="nc" id="L4345">        return processDefinitionDeploymentDeletionManager;</span>
    }

    public ProcessEngineConfigurationImpl setProcessDefinitionDeploymentDeletionManager(
            DeploymentProcessDefinitionDeletionManager processDefinitionDeploymentDeletionManager) {
<span class="nc" id="L4350">        this.processDefinitionDeploymentDeletionManager = processDefinitionDeploymentDeletionManager;</span>
<span class="nc" id="L4351">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setTableDataManager(TableDataManager tableDataManager) {
<span class="nc" id="L4356">        this.tableDataManager = tableDataManager;</span>
<span class="nc" id="L4357">        return this;</span>
    }

    public CandidateManager getCandidateManager() {
<span class="nc" id="L4361">        return candidateManager;</span>
    }

    public void setCandidateManager(CandidateManager candidateManager) {
<span class="nc" id="L4365">        this.candidateManager = candidateManager;</span>
<span class="nc" id="L4366">    }</span>

    public List&lt;AsyncRunnableExecutionExceptionHandler&gt; getCustomAsyncRunnableExecutionExceptionHandlers() {
<span class="nc" id="L4369">        return customAsyncRunnableExecutionExceptionHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setCustomAsyncRunnableExecutionExceptionHandlers(
        List&lt;AsyncRunnableExecutionExceptionHandler&gt; customAsyncRunnableExecutionExceptionHandlers) {

<span class="nc" id="L4375">        this.customAsyncRunnableExecutionExceptionHandlers = customAsyncRunnableExecutionExceptionHandlers;</span>
<span class="nc" id="L4376">        return this;</span>
    }

    public boolean isAddDefaultExceptionHandler() {
<span class="nc" id="L4380">        return addDefaultExceptionHandler;</span>
    }

    public ProcessEngineConfigurationImpl setAddDefaultExceptionHandler(boolean addDefaultExceptionHandler) {
<span class="nc" id="L4384">        this.addDefaultExceptionHandler = addDefaultExceptionHandler;</span>
<span class="nc" id="L4385">        return this;</span>
    }

    public HistoryManager getHistoryManager() {
<span class="nc" id="L4389">        return historyManager;</span>
    }

    public ProcessEngineConfigurationImpl setHistoryManager(HistoryManager historyManager) {
<span class="nc" id="L4393">        this.historyManager = historyManager;</span>
<span class="nc" id="L4394">        return this;</span>
    }

    public HistoryConfigurationSettings getHistoryConfigurationSettings() {
<span class="nc" id="L4398">        return historyConfigurationSettings;</span>
    }

    public ProcessEngineConfigurationImpl setHistoryConfigurationSettings(HistoryConfigurationSettings historyConfigurationSettings) {
<span class="nc" id="L4402">        this.historyConfigurationSettings = historyConfigurationSettings;</span>
<span class="nc" id="L4403">        return this;</span>
    }

    public boolean isAsyncHistoryEnabled() {
<span class="nc" id="L4407">        return isAsyncHistoryEnabled;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncHistoryEnabled(boolean isAsyncHistoryEnabled) {
<span class="nc" id="L4411">        this.isAsyncHistoryEnabled = isAsyncHistoryEnabled;</span>
<span class="nc" id="L4412">        return this;</span>
    }

    public JobManager getJobManager() {
<span class="nc" id="L4416">        return jobManager;</span>
    }

    public ProcessEngineConfigurationImpl setJobManager(JobManager jobManager) {
<span class="nc" id="L4420">        this.jobManager = jobManager;</span>
<span class="nc" id="L4421">        return this;</span>
    }

    public ChangeTenantIdManager getChangeTenantIdManager() {
<span class="nc" id="L4425">        return changeTenantIdManager;</span>
    }

    public ProcessEngineConfigurationImpl setChangeTenantIdManager(ChangeTenantIdManager changeTenantIdManager) {
<span class="nc" id="L4429">        this.changeTenantIdManager = changeTenantIdManager;</span>
<span class="nc" id="L4430">        return this;</span>
    }

    public Set&lt;String&gt; getChangeTenantEntityTypes() {
<span class="nc" id="L4434">        return changeTenantEntityTypes;</span>
    }

    public ProcessEngineConfigurationImpl setChangeTenantEntityTypes(Set&lt;String&gt; changeTenantEntityTypes) {
<span class="nc" id="L4438">        this.changeTenantEntityTypes = changeTenantEntityTypes;</span>
<span class="nc" id="L4439">        return this;</span>
    }

    public DynamicStateManager getDynamicStateManager() {
<span class="nc" id="L4443">        return dynamicStateManager;</span>
    }

    public ProcessEngineConfigurationImpl setDynamicStateManager(DynamicStateManager dynamicStateManager) {
<span class="nc" id="L4447">        this.dynamicStateManager = dynamicStateManager;</span>
<span class="nc" id="L4448">        return this;</span>
    }

    public ProcessInstanceMigrationManager getProcessInstanceMigrationManager() {
<span class="nc" id="L4452">        return processInstanceMigrationManager;</span>
    }

    public ProcessEngineConfigurationImpl setProcessInstanceMigrationManager(ProcessInstanceMigrationManager processInstanceMigrationValidationMananger) {
<span class="nc" id="L4456">        this.processInstanceMigrationManager = processInstanceMigrationValidationMananger;</span>
<span class="nc" id="L4457">        return this;</span>
    }
    
    public DecisionTableVariableManager getDecisionTableVariableManager() {
<span class="nc" id="L4461">        return decisionTableVariableManager;</span>
    }

    public ProcessEngineConfigurationImpl setDecisionTableVariableManager(DecisionTableVariableManager decisionTableVariableManager) {
<span class="nc" id="L4465">        this.decisionTableVariableManager = decisionTableVariableManager;</span>
<span class="nc" id="L4466">        return this;</span>
    }

    public IdentityLinkInterceptor getIdentityLinkInterceptor() {
<span class="nc" id="L4470">        return identityLinkInterceptor;</span>
    }

    public ProcessEngineConfigurationImpl setIdentityLinkInterceptor(IdentityLinkInterceptor identityLinkInterceptor) {
<span class="nc" id="L4474">        this.identityLinkInterceptor = identityLinkInterceptor;</span>
<span class="nc" id="L4475">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setClock(Clock clock) {
<span class="nc bnc" id="L4480" title="All 2 branches missed.">        if (this.clock == null) {</span>
<span class="nc" id="L4481">            this.clock = clock;</span>
        } else {
<span class="nc" id="L4483">            this.clock.setCurrentCalendar(clock.getCurrentCalendar());</span>
        }

<span class="nc bnc" id="L4486" title="All 4 branches missed.">        if (flowable5CompatibilityEnabled &amp;&amp; flowable5CompatibilityHandler != null) {</span>
<span class="nc" id="L4487">            getFlowable5CompatibilityHandler().setClock(clock);</span>
        }
<span class="nc" id="L4489">        return this;</span>
    }

    public void resetClock() {
<span class="nc bnc" id="L4493" title="All 2 branches missed.">        if (this.clock != null) {</span>
<span class="nc" id="L4494">            clock.reset();</span>
<span class="nc bnc" id="L4495" title="All 4 branches missed.">            if (flowable5CompatibilityEnabled &amp;&amp; flowable5CompatibilityHandler != null) {</span>
<span class="nc" id="L4496">                getFlowable5CompatibilityHandler().resetClock();</span>
            }
        }
<span class="nc" id="L4499">    }</span>

    public DelegateExpressionFieldInjectionMode getDelegateExpressionFieldInjectionMode() {
<span class="nc" id="L4502">        return delegateExpressionFieldInjectionMode;</span>
    }

    public ProcessEngineConfigurationImpl setDelegateExpressionFieldInjectionMode(DelegateExpressionFieldInjectionMode delegateExpressionFieldInjectionMode) {
<span class="nc" id="L4506">        this.delegateExpressionFieldInjectionMode = delegateExpressionFieldInjectionMode;</span>
<span class="nc" id="L4507">        return this;</span>
    }

    public List&lt;Object&gt; getFlowable5JobProcessors() {
<span class="nc" id="L4511">        return flowable5JobProcessors;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5JobProcessors(List&lt;Object&gt; jobProcessors) {
<span class="nc" id="L4515">        this.flowable5JobProcessors = jobProcessors;</span>
<span class="nc" id="L4516">        return this;</span>
    }

    public List&lt;JobProcessor&gt; getJobProcessors() {
<span class="nc" id="L4520">        return jobProcessors;</span>
    }

    public ProcessEngineConfigurationImpl setJobProcessors(List&lt;JobProcessor&gt; jobProcessors) {
<span class="nc" id="L4524">        this.jobProcessors = jobProcessors;</span>
<span class="nc" id="L4525">        return this;</span>
    }

    public List&lt;HistoryJobProcessor&gt; getHistoryJobProcessors() {
<span class="nc" id="L4529">        return historyJobProcessors;</span>
    }

    public ProcessEngineConfigurationImpl setHistoryJobProcessors(List&lt;HistoryJobProcessor&gt; historyJobProcessors) {
<span class="nc" id="L4533">        this.historyJobProcessors = historyJobProcessors;</span>
<span class="nc" id="L4534">        return this;</span>
    }

    public Map&lt;String, List&lt;RuntimeInstanceStateChangeCallback&gt;&gt; getProcessInstanceStateChangedCallbacks() {
<span class="nc" id="L4538">        return processInstanceStateChangedCallbacks;</span>
    }

    public ProcessEngineConfigurationImpl setProcessInstanceStateChangedCallbacks(Map&lt;String, List&lt;RuntimeInstanceStateChangeCallback&gt;&gt; processInstanceStateChangedCallbacks) {
<span class="nc" id="L4542">        this.processInstanceStateChangedCallbacks = processInstanceStateChangedCallbacks;</span>
<span class="nc" id="L4543">        return this;</span>
    }
    
    public List&lt;ProcessInstanceMigrationCallback&gt; getProcessInstanceMigrationCallbacks() {
<span class="nc" id="L4547">        return processInstanceMigrationCallbacks;</span>
    }

    public ProcessEngineConfigurationImpl setProcessInstanceMigrationCallbacks(List&lt;ProcessInstanceMigrationCallback&gt; processInstanceMigrationCallbacks) {
<span class="nc" id="L4551">        this.processInstanceMigrationCallbacks = processInstanceMigrationCallbacks;</span>
<span class="nc" id="L4552">        return this;</span>
    }

    public SchemaManager getVariableSchemaManager() {
<span class="nc" id="L4556">        return variableSchemaManager;</span>
    }

    public ProcessEngineConfigurationImpl setVariableSchemaManager(SchemaManager variableSchemaManager) {
<span class="nc" id="L4560">        this.variableSchemaManager = variableSchemaManager;</span>
<span class="nc" id="L4561">        return this;</span>
    }

    public SchemaManager getTaskSchemaManager() {
<span class="nc" id="L4565">        return taskSchemaManager;</span>
    }

    public ProcessEngineConfigurationImpl setTaskSchemaManager(SchemaManager taskSchemaManager) {
<span class="nc" id="L4569">        this.taskSchemaManager = taskSchemaManager;</span>
<span class="nc" id="L4570">        return this;</span>
    }

    public SchemaManager getIdentityLinkSchemaManager() {
<span class="nc" id="L4574">        return identityLinkSchemaManager;</span>
    }

    public ProcessEngineConfigurationImpl setIdentityLinkSchemaManager(SchemaManager identityLinkSchemaManager) {
<span class="nc" id="L4578">        this.identityLinkSchemaManager = identityLinkSchemaManager;</span>
<span class="nc" id="L4579">        return this;</span>
    }

    public SchemaManager getEntityLinkSchemaManager() {
<span class="nc" id="L4583">        return entityLinkSchemaManager;</span>
    }

    public ProcessEngineConfigurationImpl setEntityLinkSchemaManager(SchemaManager entityLinkSchemaManager) {
<span class="nc" id="L4587">        this.entityLinkSchemaManager = entityLinkSchemaManager;</span>
<span class="nc" id="L4588">        return this;</span>
    }

    public SchemaManager getEventSubscriptionSchemaManager() {
<span class="nc" id="L4592">        return eventSubscriptionSchemaManager;</span>
    }

    public ProcessEngineConfigurationImpl setEventSubscriptionSchemaManager(SchemaManager eventSubscriptionSchemaManager) {
<span class="nc" id="L4596">        this.eventSubscriptionSchemaManager = eventSubscriptionSchemaManager;</span>
<span class="nc" id="L4597">        return this;</span>
    }

    public SchemaManager getJobSchemaManager() {
<span class="nc" id="L4601">        return jobSchemaManager;</span>
    }

    public ProcessEngineConfigurationImpl setJobSchemaManager(SchemaManager jobSchemaManager) {
<span class="nc" id="L4605">        this.jobSchemaManager = jobSchemaManager;</span>
<span class="nc" id="L4606">        return this;</span>
    }
    
    public SchemaManager getBatchSchemaManager() {
<span class="nc" id="L4610">        return batchSchemaManager;</span>
    }

    public ProcessEngineConfigurationImpl setBatchSchemaManager(SchemaManager batchSchemaManager) {
<span class="nc" id="L4614">        this.batchSchemaManager = batchSchemaManager;</span>
<span class="nc" id="L4615">        return this;</span>
    }

    public boolean isEnableEntityLinks() {
<span class="nc" id="L4619">        return enableEntityLinks;</span>
    }

    public ProcessEngineConfigurationImpl setEnableEntityLinks(boolean enableEntityLinks) {
<span class="nc" id="L4623">        this.enableEntityLinks = enableEntityLinks;</span>
<span class="nc" id="L4624">        return this;</span>
    }

    public VariableAggregator getVariableAggregator() {
<span class="nc" id="L4628">        return variableAggregator;</span>
    }

    public ProcessEngineConfigurationImpl setVariableAggregator(VariableAggregator variableAggregator) {
<span class="nc" id="L4632">        this.variableAggregator = variableAggregator;</span>
<span class="nc" id="L4633">        return this;</span>
    }

    public Collection&lt;String&gt; getDependentScopeTypes() {
<span class="nc" id="L4637">        return dependentScopeTypes;</span>
    }

    public ProcessEngineConfigurationImpl setDependentScopeTypes(Collection&lt;String&gt; dependentScopeTypes) {
<span class="nc" id="L4641">        this.dependentScopeTypes = dependentScopeTypes;</span>
<span class="nc" id="L4642">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addDependentScopeType(String scopeType) {
<span class="nc" id="L4646">        this.dependentScopeTypes.add(scopeType);</span>
<span class="nc" id="L4647">        return this;</span>
    }

    public boolean isHandleProcessEngineExecutorsAfterEngineCreate() {
<span class="nc" id="L4651">        return handleProcessEngineExecutorsAfterEngineCreate;</span>
    }

    public void setHandleProcessEngineExecutorsAfterEngineCreate(boolean handleProcessEngineExecutorsAfterEngineCreate) {
<span class="nc" id="L4655">        this.handleProcessEngineExecutorsAfterEngineCreate = handleProcessEngineExecutorsAfterEngineCreate;</span>
<span class="nc" id="L4656">    }</span>

    // Flowable 5

    public boolean isFlowable5CompatibilityEnabled() {
<span class="nc" id="L4661">        return flowable5CompatibilityEnabled;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5CompatibilityEnabled(boolean flowable5CompatibilityEnabled) {
<span class="nc" id="L4665">        this.flowable5CompatibilityEnabled = flowable5CompatibilityEnabled;</span>
<span class="nc" id="L4666">        return this;</span>
    }

    public boolean isValidateFlowable5EntitiesEnabled() {
<span class="nc" id="L4670">        return validateFlowable5EntitiesEnabled;</span>
    }

    public ProcessEngineConfigurationImpl setValidateFlowable5EntitiesEnabled(boolean validateFlowable5EntitiesEnabled) {
<span class="nc" id="L4674">        this.validateFlowable5EntitiesEnabled = validateFlowable5EntitiesEnabled;</span>
<span class="nc" id="L4675">        return this;</span>
    }

    public boolean isRedeployFlowable5ProcessDefinitions() {
<span class="nc" id="L4679">        return redeployFlowable5ProcessDefinitions;</span>
    }

    public ProcessEngineConfigurationImpl setRedeployFlowable5ProcessDefinitions(boolean redeployFlowable5ProcessDefinitions) {
<span class="nc" id="L4683">        this.redeployFlowable5ProcessDefinitions = redeployFlowable5ProcessDefinitions;</span>
<span class="nc" id="L4684">        return this;</span>
    }

    public Flowable5CompatibilityHandlerFactory getFlowable5CompatibilityHandlerFactory() {
<span class="nc" id="L4688">        return flowable5CompatibilityHandlerFactory;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5CompatibilityHandlerFactory(Flowable5CompatibilityHandlerFactory flowable5CompatibilityHandlerFactory) {
<span class="nc" id="L4692">        this.flowable5CompatibilityHandlerFactory = flowable5CompatibilityHandlerFactory;</span>
<span class="nc" id="L4693">        return this;</span>
    }

    public Flowable5CompatibilityHandler getFlowable5CompatibilityHandler() {
<span class="nc" id="L4697">        return flowable5CompatibilityHandler;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5CompatibilityHandler(Flowable5CompatibilityHandler flowable5CompatibilityHandler) {
<span class="nc" id="L4701">        this.flowable5CompatibilityHandler = flowable5CompatibilityHandler;</span>
<span class="nc" id="L4702">        return this;</span>
    }

    public Object getFlowable5ActivityBehaviorFactory() {
<span class="nc" id="L4706">        return flowable5ActivityBehaviorFactory;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5ActivityBehaviorFactory(Object flowable5ActivityBehaviorFactory) {
<span class="nc" id="L4710">        this.flowable5ActivityBehaviorFactory = flowable5ActivityBehaviorFactory;</span>
<span class="nc" id="L4711">        return this;</span>
    }

    public Object getFlowable5ExpressionManager() {
<span class="nc" id="L4715">        return flowable5ExpressionManager;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5ExpressionManager(Object flowable5ExpressionManager) {
<span class="nc" id="L4719">        this.flowable5ExpressionManager = flowable5ExpressionManager;</span>
<span class="nc" id="L4720">        return this;</span>
    }

    public Object getFlowable5ListenerFactory() {
<span class="nc" id="L4724">        return flowable5ListenerFactory;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5ListenerFactory(Object flowable5ListenerFactory) {
<span class="nc" id="L4728">        this.flowable5ListenerFactory = flowable5ListenerFactory;</span>
<span class="nc" id="L4729">        return this;</span>
    }

    public List&lt;Object&gt; getFlowable5PreBpmnParseHandlers() {
<span class="nc" id="L4733">        return flowable5PreBpmnParseHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5PreBpmnParseHandlers(List&lt;Object&gt; flowable5PreBpmnParseHandlers) {
<span class="nc" id="L4737">        this.flowable5PreBpmnParseHandlers = flowable5PreBpmnParseHandlers;</span>
<span class="nc" id="L4738">        return this;</span>
    }

    public List&lt;Object&gt; getFlowable5PostBpmnParseHandlers() {
<span class="nc" id="L4742">        return flowable5PostBpmnParseHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5PostBpmnParseHandlers(List&lt;Object&gt; flowable5PostBpmnParseHandlers) {
<span class="nc" id="L4746">        this.flowable5PostBpmnParseHandlers = flowable5PostBpmnParseHandlers;</span>
<span class="nc" id="L4747">        return this;</span>
    }

    public List&lt;Object&gt; getFlowable5CustomDefaultBpmnParseHandlers() {
<span class="nc" id="L4751">        return flowable5CustomDefaultBpmnParseHandlers;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5CustomDefaultBpmnParseHandlers(List&lt;Object&gt; flowable5CustomDefaultBpmnParseHandlers) {
<span class="nc" id="L4755">        this.flowable5CustomDefaultBpmnParseHandlers = flowable5CustomDefaultBpmnParseHandlers;</span>
<span class="nc" id="L4756">        return this;</span>
    }

    public Set&lt;Class&lt;?&gt;&gt; getFlowable5CustomMybatisMappers() {
<span class="nc" id="L4760">        return flowable5CustomMybatisMappers;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5CustomMybatisMappers(Set&lt;Class&lt;?&gt;&gt; flowable5CustomMybatisMappers) {
<span class="nc" id="L4764">        this.flowable5CustomMybatisMappers = flowable5CustomMybatisMappers;</span>
<span class="nc" id="L4765">        return this;</span>
    }

    public Set&lt;String&gt; getFlowable5CustomMybatisXMLMappers() {
<span class="nc" id="L4769">        return flowable5CustomMybatisXMLMappers;</span>
    }

    public ProcessEngineConfigurationImpl setFlowable5CustomMybatisXMLMappers(Set&lt;String&gt; flowable5CustomMybatisXMLMappers) {
<span class="nc" id="L4773">        this.flowable5CustomMybatisXMLMappers = flowable5CustomMybatisXMLMappers;</span>
<span class="nc" id="L4774">        return this;</span>
    }

    @Override
    public ProcessEngineConfigurationImpl setAsyncExecutorActivate(boolean asyncExecutorActivate) {
<span class="nc" id="L4779">        this.asyncExecutorActivate = asyncExecutorActivate;</span>
<span class="nc" id="L4780">        return this;</span>
    }

    protected AsyncTaskExecutorConfiguration getOrCreateAsyncTaskInvokerTaskExecutorConfiguration() {
<span class="nc bnc" id="L4784" title="All 2 branches missed.">        if (asyncTaskInvokerTaskExecutorConfiguration == null) {</span>
<span class="nc" id="L4785">            asyncTaskInvokerTaskExecutorConfiguration = new AsyncTaskExecutorConfiguration();</span>
<span class="nc" id="L4786">            asyncTaskInvokerTaskExecutorConfiguration.setQueueSize(100);</span>
<span class="nc" id="L4787">            asyncTaskInvokerTaskExecutorConfiguration.setThreadPoolNamingPattern(&quot;flowable-async-task-invoker-thread-%d&quot;);</span>
        }
<span class="nc" id="L4789">        return asyncTaskInvokerTaskExecutorConfiguration;</span>
    }

    public AsyncTaskExecutorConfiguration getAsyncTaskInvokerTaskExecutorConfiguration() {
<span class="nc" id="L4793">        return asyncTaskInvokerTaskExecutorConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncTaskInvokerTaskExecutorConfiguration(AsyncTaskExecutorConfiguration asyncTaskInvokerTaskExecutorConfiguration) {
<span class="nc" id="L4797">        this.asyncTaskInvokerTaskExecutorConfiguration = asyncTaskInvokerTaskExecutorConfiguration;</span>
<span class="nc" id="L4798">        return this;</span>
    }

    protected AsyncTaskExecutorConfiguration getOrCreateAsyncExecutorTaskExecutorConfiguration() {
<span class="nc bnc" id="L4802" title="All 2 branches missed.">        if (asyncExecutorTaskExecutorConfiguration == null) {</span>
<span class="nc" id="L4803">            asyncExecutorTaskExecutorConfiguration = new AsyncTaskExecutorConfiguration();</span>
<span class="nc" id="L4804">            asyncExecutorTaskExecutorConfiguration.setThreadPoolNamingPattern(&quot;flowable-async-job-executor-thread-%d&quot;);</span>
        }
<span class="nc" id="L4806">        return asyncExecutorTaskExecutorConfiguration;</span>
    }

    public AsyncTaskExecutorConfiguration getAsyncExecutorTaskExecutorConfiguration() {
<span class="nc" id="L4810">        return asyncExecutorTaskExecutorConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorTaskExecutorConfiguration(AsyncTaskExecutorConfiguration asyncExecutorTaskExecutorConfiguration) {
<span class="nc" id="L4814">        this.asyncExecutorTaskExecutorConfiguration = asyncExecutorTaskExecutorConfiguration;</span>
<span class="nc" id="L4815">        return this;</span>
    }

    public int getAsyncExecutorCorePoolSize() {
<span class="nc" id="L4819">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().getCorePoolSize();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorCorePoolSize(int asyncExecutorCorePoolSize) {
<span class="nc" id="L4823">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setCorePoolSize(asyncExecutorCorePoolSize);</span>
<span class="nc" id="L4824">        return this;</span>
    }

    public int getAsyncExecutorNumberOfRetries() {
<span class="nc" id="L4828">        return asyncExecutorNumberOfRetries;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorNumberOfRetries(int asyncExecutorNumberOfRetries) {
<span class="nc" id="L4832">        this.asyncExecutorNumberOfRetries = asyncExecutorNumberOfRetries;</span>
<span class="nc" id="L4833">        return this;</span>
    }

    public int getAsyncHistoryExecutorNumberOfRetries() {
<span class="nc" id="L4837">        return asyncHistoryExecutorNumberOfRetries;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorNumberOfRetries(int asyncHistoryExecutorNumberOfRetries) {
<span class="nc" id="L4841">        this.asyncHistoryExecutorNumberOfRetries = asyncHistoryExecutorNumberOfRetries;</span>
<span class="nc" id="L4842">        return this;</span>
    }

    public int getAsyncExecutorMaxPoolSize() {
<span class="nc" id="L4846">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().getMaxPoolSize();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorMaxPoolSize(int asyncExecutorMaxPoolSize) {
<span class="nc" id="L4850">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setMaxPoolSize(asyncExecutorMaxPoolSize);</span>
<span class="nc" id="L4851">        return this;</span>
    }

    public long getAsyncExecutorThreadKeepAliveTime() {
<span class="nc" id="L4855">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().getKeepAlive().toMillis();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorThreadKeepAliveTime(long asyncExecutorThreadKeepAliveTime) {
<span class="nc" id="L4859">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setKeepAlive(Duration.ofMillis(asyncExecutorThreadKeepAliveTime));</span>
<span class="nc" id="L4860">        return this;</span>
    }

    public int getAsyncExecutorThreadPoolQueueSize() {
<span class="nc" id="L4864">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().getQueueSize();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorThreadPoolQueueSize(int asyncExecutorThreadPoolQueueSize) {
<span class="nc" id="L4868">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setQueueSize(asyncExecutorThreadPoolQueueSize);</span>
<span class="nc" id="L4869">        return this;</span>
    }

    public BlockingQueue&lt;Runnable&gt; getAsyncExecutorThreadPoolQueue() {
<span class="nc" id="L4873">        return asyncExecutorThreadPoolQueue;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorThreadPoolQueue(BlockingQueue&lt;Runnable&gt; asyncExecutorThreadPoolQueue) {
<span class="nc" id="L4877">        this.asyncExecutorThreadPoolQueue = asyncExecutorThreadPoolQueue;</span>
<span class="nc" id="L4878">        return this;</span>
    }

    public long getAsyncExecutorSecondsToWaitOnShutdown() {
<span class="nc" id="L4882">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().getAwaitTerminationPeriod().getSeconds();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorSecondsToWaitOnShutdown(long asyncExecutorSecondsToWaitOnShutdown) {
<span class="nc" id="L4886">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setAwaitTerminationPeriod(Duration.ofSeconds(asyncExecutorSecondsToWaitOnShutdown));</span>
<span class="nc" id="L4887">        return this;</span>
    }

    public boolean isAsyncExecutorAllowCoreThreadTimeout() {
<span class="nc" id="L4891">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().isAllowCoreThreadTimeout();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorAllowCoreThreadTimeout(boolean asyncExecutorAllowCoreThreadTimeout) {
<span class="nc" id="L4895">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setAllowCoreThreadTimeout(asyncExecutorAllowCoreThreadTimeout);</span>
<span class="nc" id="L4896">        return this;</span>
    }

    public ThreadFactory getAsyncExecutorThreadFactory() {
<span class="nc" id="L4900">        return asyncExecutorThreadFactory;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorThreadFactory(ThreadFactory asyncExecutorThreadFactory) {
<span class="nc" id="L4904">        this.asyncExecutorThreadFactory = asyncExecutorThreadFactory;</span>
<span class="nc" id="L4905">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getMaxTimerJobsPerAcquisition()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorMaxTimerJobsPerAcquisition() {
<span class="nc" id="L4913">        return asyncExecutorConfiguration.getMaxTimerJobsPerAcquisition();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setMaxTimerJobsPerAcquisition(int)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorMaxTimerJobsPerAcquisition(int asyncExecutorMaxTimerJobsPerAcquisition) {
<span class="nc" id="L4921">        asyncExecutorConfiguration.setMaxTimerJobsPerAcquisition(asyncExecutorMaxTimerJobsPerAcquisition);</span>
<span class="nc" id="L4922">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getMaxAsyncJobsDuePerAcquisition()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorMaxAsyncJobsDuePerAcquisition() {
<span class="nc" id="L4930">        return asyncExecutorConfiguration.getMaxAsyncJobsDuePerAcquisition();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setMaxAsyncJobsDuePerAcquisition(int)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorMaxAsyncJobsDuePerAcquisition(int asyncExecutorMaxAsyncJobsDuePerAcquisition) {
<span class="nc" id="L4938">        asyncExecutorConfiguration.setMaxAsyncJobsDuePerAcquisition(asyncExecutorMaxAsyncJobsDuePerAcquisition);</span>
<span class="nc" id="L4939">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getDefaultTimerJobAcquireWaitTime()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorDefaultTimerJobAcquireWaitTime() {
<span class="nc" id="L4947">        return (int) asyncExecutorConfiguration.getDefaultTimerJobAcquireWaitTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setDefaultTimerJobAcquireWaitTime(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorDefaultTimerJobAcquireWaitTime(int asyncExecutorDefaultTimerJobAcquireWaitTime) {
<span class="nc" id="L4955">        asyncExecutorConfiguration.setDefaultTimerJobAcquireWaitTime(Duration.ofMillis(asyncExecutorDefaultTimerJobAcquireWaitTime));</span>
<span class="nc" id="L4956">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getDefaultAsyncJobAcquireWaitTime()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorDefaultAsyncJobAcquireWaitTime() {
<span class="nc" id="L4964">        return (int) asyncExecutorConfiguration.getDefaultAsyncJobAcquireWaitTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setDefaultAsyncJobAcquireWaitTime(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorDefaultAsyncJobAcquireWaitTime(int asyncExecutorDefaultAsyncJobAcquireWaitTime) {
<span class="nc" id="L4972">        asyncExecutorConfiguration.setDefaultAsyncJobAcquireWaitTime(Duration.ofMillis(asyncExecutorDefaultAsyncJobAcquireWaitTime));</span>
<span class="nc" id="L4973">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getDefaultQueueSizeFullWaitTime()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorDefaultQueueSizeFullWaitTime() {
<span class="nc" id="L4981">        return (int) asyncExecutorConfiguration.getDefaultQueueSizeFullWaitTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setDefaultQueueSizeFullWaitTime(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorDefaultQueueSizeFullWaitTime(int asyncExecutorDefaultQueueSizeFullWaitTime) {
<span class="nc" id="L4989">        asyncExecutorConfiguration.setDefaultQueueSizeFullWaitTime(Duration.ofMillis(asyncExecutorDefaultQueueSizeFullWaitTime));</span>
<span class="nc" id="L4990">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getLockOwner()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public String getAsyncExecutorLockOwner() {
<span class="nc" id="L4998">        return asyncExecutorConfiguration.getLockOwner();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setLockOwner(String)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorLockOwner(String asyncExecutorLockOwner) {
<span class="nc" id="L5006">        asyncExecutorConfiguration.setLockOwner(asyncExecutorLockOwner);</span>
<span class="nc" id="L5007">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isUnlockOwnedJobs()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncExecutorUnlockOwnedJobs() {
<span class="nc" id="L5015">        return asyncExecutorConfiguration.isUnlockOwnedJobs();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setUnlockOwnedJobs(boolean)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorUnlockOwnedJobs(boolean asyncExecutorUnlockOwnedJobs) {
<span class="nc" id="L5023">        asyncExecutorConfiguration.setUnlockOwnedJobs(asyncExecutorUnlockOwnedJobs);</span>
<span class="nc" id="L5024">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getTimerLockTime()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorTimerLockTimeInMillis() {
<span class="nc" id="L5032">        return (int) asyncExecutorConfiguration.getTimerLockTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setTimerLockTime(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorTimerLockTimeInMillis(int asyncExecutorTimerLockTimeInMillis) {
<span class="nc" id="L5040">        asyncExecutorConfiguration.setTimerLockTime(Duration.ofMillis(asyncExecutorTimerLockTimeInMillis));</span>
<span class="nc" id="L5041">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getAsyncJobLockTime()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorAsyncJobLockTimeInMillis() {
<span class="nc" id="L5049">        return (int) asyncExecutorConfiguration.getAsyncJobLockTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setAsyncJobLockTime(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorAsyncJobLockTimeInMillis(int asyncExecutorAsyncJobLockTimeInMillis) {
<span class="nc" id="L5057">        asyncExecutorConfiguration.setAsyncJobLockTime(Duration.ofMillis(asyncExecutorAsyncJobLockTimeInMillis));</span>
<span class="nc" id="L5058">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getResetExpiredJobsInterval()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorResetExpiredJobsInterval() {
<span class="nc" id="L5066">        return (int) asyncExecutorConfiguration.getResetExpiredJobsInterval().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobsInterval(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorResetExpiredJobsInterval(int asyncExecutorResetExpiredJobsInterval) {
<span class="nc" id="L5074">        asyncExecutorConfiguration.setResetExpiredJobsInterval(Duration.ofMillis(asyncExecutorResetExpiredJobsInterval));</span>
<span class="nc" id="L5075">        return this;</span>
    }

    public int getAsyncExecutorResetExpiredJobsMaxTimeout() {
<span class="nc" id="L5079">        return asyncExecutorResetExpiredJobsMaxTimeout;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorResetExpiredJobsMaxTimeout(int asyncExecutorResetExpiredJobsMaxTimeout) {
<span class="nc" id="L5083">        this.asyncExecutorResetExpiredJobsMaxTimeout = asyncExecutorResetExpiredJobsMaxTimeout;</span>
<span class="nc" id="L5084">        return this;</span>
    }

    public ExecuteAsyncRunnableFactory getAsyncExecutorExecuteAsyncRunnableFactory() {
<span class="nc" id="L5088">        return asyncExecutorExecuteAsyncRunnableFactory;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorExecuteAsyncRunnableFactory(ExecuteAsyncRunnableFactory asyncExecutorExecuteAsyncRunnableFactory) {
<span class="nc" id="L5092">        this.asyncExecutorExecuteAsyncRunnableFactory = asyncExecutorExecuteAsyncRunnableFactory;</span>
<span class="nc" id="L5093">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getResetExpiredJobsPageSize()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorResetExpiredJobsPageSize() {
<span class="nc" id="L5101">        return asyncExecutorConfiguration.getResetExpiredJobsPageSize();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobsPageSize(int)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorResetExpiredJobsPageSize(int asyncExecutorResetExpiredJobsPageSize) {
<span class="nc" id="L5109">        asyncExecutorConfiguration.setResetExpiredJobsPageSize(asyncExecutorResetExpiredJobsPageSize);</span>
<span class="nc" id="L5110">        return this;</span>
    }

    public AsyncJobExecutorConfiguration getAsyncExecutorConfiguration() {
<span class="nc" id="L5114">        return asyncExecutorConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncExecutorConfiguration(AsyncJobExecutorConfiguration asyncExecutorConfiguration) {
<span class="nc" id="L5118">        this.asyncExecutorConfiguration = asyncExecutorConfiguration;</span>
<span class="nc" id="L5119">        return this;</span>
    }

    public AsyncJobExecutorConfiguration getAsyncHistoryExecutorConfiguration() {
<span class="nc" id="L5123">        return asyncHistoryExecutorConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorConfiguration(AsyncJobExecutorConfiguration asyncHistoryExecutorConfiguration) {
<span class="nc" id="L5127">        this.asyncHistoryExecutorConfiguration = asyncHistoryExecutorConfiguration;</span>
<span class="nc" id="L5128">        return this;</span>
    }

    public List&lt;String&gt; getEnabledJobCategories() {
<span class="nc" id="L5132">        return enabledJobCategories;</span>
    }

    public ProcessEngineConfigurationImpl setEnabledJobCategories(List&lt;String&gt; enabledJobCategories) {
<span class="nc" id="L5136">        this.enabledJobCategories = enabledJobCategories;</span>
<span class="nc" id="L5137">        return this;</span>
    }
    
    public ProcessEngineConfigurationImpl addEnabledJobCategory(String jobCategory) {
<span class="nc bnc" id="L5141" title="All 2 branches missed.">        if (enabledJobCategories == null) {</span>
<span class="nc" id="L5142">            enabledJobCategories = new ArrayList&lt;&gt;();</span>
        }
        
<span class="nc" id="L5145">        enabledJobCategories.add(jobCategory);</span>
<span class="nc" id="L5146">        return this;</span>
    }

    public String getJobExecutionScope() {
<span class="nc" id="L5150">        return jobExecutionScope;</span>
    }

    public ProcessEngineConfigurationImpl setJobExecutionScope(String jobExecutionScope) {
<span class="nc" id="L5154">        this.jobExecutionScope = jobExecutionScope;</span>
<span class="nc" id="L5155">        return this;</span>
    }

    public String getHistoryJobExecutionScope() {
<span class="nc" id="L5159">        return historyJobExecutionScope;</span>
    }

    public ProcessEngineConfigurationImpl setHistoryJobExecutionScope(String historyJobExecutionScope) {
<span class="nc" id="L5163">        this.historyJobExecutionScope = historyJobExecutionScope;</span>
<span class="nc" id="L5164">        return this;</span>
    }

    protected AsyncTaskExecutorConfiguration getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration() {
<span class="nc bnc" id="L5168" title="All 2 branches missed.">        if (asyncHistoryExecutorTaskExecutorConfiguration == null) {</span>
<span class="nc" id="L5169">            asyncHistoryExecutorTaskExecutorConfiguration = new AsyncTaskExecutorConfiguration();</span>
<span class="nc" id="L5170">            asyncHistoryExecutorTaskExecutorConfiguration.setThreadPoolNamingPattern(&quot;flowable-async-history-job-executor-thread-%d&quot;);</span>
        }
<span class="nc" id="L5172">        return asyncHistoryExecutorTaskExecutorConfiguration;</span>
    }

    public AsyncTaskExecutorConfiguration getAsyncHistoryExecutorTaskExecutorConfiguration() {
<span class="nc" id="L5176">        return asyncHistoryExecutorTaskExecutorConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorTaskExecutorConfiguration(AsyncTaskExecutorConfiguration asyncHistoryExecutorTaskExecutorConfiguration) {
<span class="nc" id="L5180">        this.asyncHistoryExecutorTaskExecutorConfiguration = asyncHistoryExecutorTaskExecutorConfiguration;</span>
<span class="nc" id="L5181">        return this;</span>
    }

    public int getAsyncHistoryExecutorCorePoolSize() {
<span class="nc" id="L5185">        return getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().getCorePoolSize();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorCorePoolSize(int asyncHistoryExecutorCorePoolSize) {
<span class="nc" id="L5189">        getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().setCorePoolSize(asyncHistoryExecutorCorePoolSize);</span>
<span class="nc" id="L5190">        return this;</span>
    }

    public int getAsyncHistoryExecutorMaxPoolSize() {
<span class="nc" id="L5194">        return getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().getMaxPoolSize();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorMaxPoolSize(int asyncHistoryExecutorMaxPoolSize) {
<span class="nc" id="L5198">        getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().setMaxPoolSize(asyncHistoryExecutorMaxPoolSize);</span>
<span class="nc" id="L5199">        return this;</span>
    }

    public long getAsyncHistoryExecutorThreadKeepAliveTime() {
<span class="nc" id="L5203">        return getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().getKeepAlive().toMillis();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorThreadKeepAliveTime(long asyncHistoryExecutorThreadKeepAliveTime) {
<span class="nc" id="L5207">        getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().setKeepAlive(Duration.ofMillis(asyncHistoryExecutorThreadKeepAliveTime));</span>
<span class="nc" id="L5208">        return this;</span>
    }

    public int getAsyncHistoryExecutorThreadPoolQueueSize() {
<span class="nc" id="L5212">        return getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().getQueueSize();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorThreadPoolQueueSize(int asyncHistoryExecutorThreadPoolQueueSize) {
<span class="nc" id="L5216">        getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().setQueueSize(asyncHistoryExecutorThreadPoolQueueSize);</span>
<span class="nc" id="L5217">        return this;</span>
    }

    public BlockingQueue&lt;Runnable&gt; getAsyncHistoryExecutorThreadPoolQueue() {
<span class="nc" id="L5221">        return asyncHistoryExecutorThreadPoolQueue;</span>
    }

    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorThreadPoolQueue(BlockingQueue&lt;Runnable&gt; asyncHistoryExecutorThreadPoolQueue) {
<span class="nc" id="L5225">        this.asyncHistoryExecutorThreadPoolQueue = asyncHistoryExecutorThreadPoolQueue;</span>
<span class="nc" id="L5226">        return this;</span>
    }

    public long getAsyncHistoryExecutorSecondsToWaitOnShutdown() {
<span class="nc" id="L5230">        return getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().getAwaitTerminationPeriod().getSeconds();</span>
    }

    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorSecondsToWaitOnShutdown(long asyncHistoryExecutorSecondsToWaitOnShutdown) {
<span class="nc" id="L5234">        getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().setAwaitTerminationPeriod(Duration.ofSeconds(asyncHistoryExecutorSecondsToWaitOnShutdown));</span>
<span class="nc" id="L5235">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getDefaultAsyncJobAcquireWaitTime()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorDefaultAsyncJobAcquireWaitTime() {
<span class="nc" id="L5243">        return (int) getOrCreateAsyncHistoryExecutorConfiguration().getDefaultAsyncJobAcquireWaitTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setDefaultAsyncJobAcquireWaitTime(Duration)}} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorDefaultAsyncJobAcquireWaitTime(int asyncHistoryExecutorDefaultAsyncJobAcquireWaitTime) {
<span class="nc" id="L5251">        getOrCreateAsyncHistoryExecutorConfiguration().setDefaultAsyncJobAcquireWaitTime(Duration.ofMillis(asyncHistoryExecutorDefaultAsyncJobAcquireWaitTime));</span>
<span class="nc" id="L5252">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getDefaultQueueSizeFullWaitTime()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorDefaultQueueSizeFullWaitTime() {
<span class="nc" id="L5260">        return (int) getOrCreateAsyncHistoryExecutorConfiguration().getDefaultQueueSizeFullWaitTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setDefaultQueueSizeFullWaitTime(Duration)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorDefaultQueueSizeFullWaitTime(int asyncHistoryExecutorDefaultQueueSizeFullWaitTime) {
<span class="nc" id="L5268">        getOrCreateAsyncHistoryExecutorConfiguration().setDefaultQueueSizeFullWaitTime(Duration.ofMillis(asyncHistoryExecutorDefaultQueueSizeFullWaitTime));</span>
<span class="nc" id="L5269">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getMaxAsyncJobsDuePerAcquisition()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorMaxJobsDuePerAcquisition() {
<span class="nc" id="L5277">        return getOrCreateAsyncHistoryExecutorConfiguration().getMaxAsyncJobsDuePerAcquisition();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setMaxAsyncJobsDuePerAcquisition(int)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorMaxJobsDuePerAcquisition(int asyncHistoryExecutorMaxJobsDuePerAcquisition) {
<span class="nc" id="L5285">        getOrCreateAsyncHistoryExecutorConfiguration().setMaxAsyncJobsDuePerAcquisition(asyncHistoryExecutorMaxJobsDuePerAcquisition);</span>
<span class="nc" id="L5286">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getLockOwner()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public String getAsyncHistoryExecutorLockOwner() {
<span class="nc" id="L5294">        return getOrCreateAsyncHistoryExecutorConfiguration().getLockOwner();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setLockOwner(String)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorLockOwner(String asyncHistoryExecutorLockOwner) {
<span class="nc" id="L5302">        getOrCreateAsyncHistoryExecutorConfiguration().setLockOwner(asyncHistoryExecutorLockOwner);</span>
<span class="nc" id="L5303">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getAsyncJobLockTime()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorAsyncJobLockTimeInMillis() {
<span class="nc" id="L5311">        return (int) getOrCreateAsyncHistoryExecutorConfiguration().getAsyncJobLockTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setAsyncJobLockTime(Duration)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorAsyncJobLockTimeInMillis(int asyncHistoryExecutorAsyncJobLockTimeInMillis) {
<span class="nc" id="L5319">        getOrCreateAsyncHistoryExecutorConfiguration().setAsyncJobLockTime(Duration.ofMillis(asyncHistoryExecutorAsyncJobLockTimeInMillis));</span>
<span class="nc" id="L5320">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getResetExpiredJobsInterval()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorResetExpiredJobsInterval() {
<span class="nc" id="L5328">        return (int) getOrCreateAsyncHistoryExecutorConfiguration().getResetExpiredJobsInterval().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobsInterval(Duration)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorResetExpiredJobsInterval(int asyncHistoryExecutorResetExpiredJobsInterval) {
<span class="nc" id="L5336">        getOrCreateAsyncHistoryExecutorConfiguration().setResetExpiredJobsInterval(Duration.ofMillis(asyncHistoryExecutorResetExpiredJobsInterval));</span>
<span class="nc" id="L5337">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getResetExpiredJobsPageSize()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorResetExpiredJobsPageSize() {
<span class="nc" id="L5345">        return getOrCreateAsyncHistoryExecutorConfiguration().getResetExpiredJobsPageSize();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobsPageSize(int)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorResetExpiredJobsPageSize(int asyncHistoryExecutorResetExpiredJobsPageSize) {
<span class="nc" id="L5353">        getOrCreateAsyncHistoryExecutorConfiguration().setResetExpiredJobsPageSize(asyncHistoryExecutorResetExpiredJobsPageSize);</span>
<span class="nc" id="L5354">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isAsyncJobAcquisitionEnabled()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncExecutorAsyncJobAcquisitionEnabled() {
<span class="nc" id="L5362">        return asyncExecutorConfiguration.isAsyncJobAcquisitionEnabled();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setAsyncJobAcquisitionEnabled(boolean)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorAsyncJobAcquisitionEnabled(boolean isAsyncExecutorAsyncJobAcquisitionEnabled) {
<span class="nc" id="L5370">        asyncExecutorConfiguration.setAsyncJobAcquisitionEnabled(isAsyncExecutorAsyncJobAcquisitionEnabled);</span>
<span class="nc" id="L5371">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isTimerJobAcquisitionEnabled()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncExecutorTimerJobAcquisitionEnabled() {
<span class="nc" id="L5379">        return asyncExecutorConfiguration.isTimerJobAcquisitionEnabled();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setTimerJobAcquisitionEnabled(boolean)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorTimerJobAcquisitionEnabled(boolean isAsyncExecutorTimerJobAcquisitionEnabled) {
<span class="nc" id="L5387">        asyncExecutorConfiguration.setTimerJobAcquisitionEnabled(isAsyncExecutorTimerJobAcquisitionEnabled);</span>
<span class="nc" id="L5388">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isResetExpiredJobEnabled()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncExecutorResetExpiredJobsEnabled() {
<span class="nc" id="L5396">        return asyncExecutorConfiguration.isResetExpiredJobEnabled();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobEnabled(boolean)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncExecutorResetExpiredJobsEnabled(boolean isAsyncExecutorResetExpiredJobsEnabled) {
<span class="nc" id="L5404">        asyncExecutorConfiguration.setResetExpiredJobEnabled(isAsyncExecutorResetExpiredJobsEnabled);</span>
<span class="nc" id="L5405">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isAsyncJobAcquisitionEnabled()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncHistoryExecutorAsyncJobAcquisitionEnabled() {
<span class="nc" id="L5413">        return getOrCreateAsyncHistoryExecutorConfiguration().isAsyncJobAcquisitionEnabled();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setAsyncJobAcquisitionEnabled(boolean)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorAsyncJobAcquisitionEnabled(boolean isAsyncHistoryExecutorAsyncJobAcquisitionEnabled) {
<span class="nc" id="L5421">        getOrCreateAsyncHistoryExecutorConfiguration().setAsyncJobAcquisitionEnabled(isAsyncHistoryExecutorAsyncJobAcquisitionEnabled);</span>
<span class="nc" id="L5422">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isResetExpiredJobEnabled()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncHistoryExecutorResetExpiredJobsEnabled() {
<span class="nc" id="L5430">        return getOrCreateAsyncHistoryExecutorConfiguration().isResetExpiredJobEnabled();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobEnabled(boolean)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public ProcessEngineConfigurationImpl setAsyncHistoryExecutorResetExpiredJobsEnabled(boolean isAsyncHistoryExecutorResetExpiredJobsEnabled) {
<span class="nc" id="L5438">        getOrCreateAsyncHistoryExecutorConfiguration().setResetExpiredJobEnabled(isAsyncHistoryExecutorResetExpiredJobsEnabled);</span>
<span class="nc" id="L5439">        return this;</span>
    }

    public JobServiceConfiguration getJobServiceConfiguration() {
<span class="nc" id="L5443">        return jobServiceConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setJobServiceConfiguration(JobServiceConfiguration jobServiceConfiguration) {
<span class="nc" id="L5447">        this.jobServiceConfiguration = jobServiceConfiguration;</span>
<span class="nc" id="L5448">        return this;</span>
    }
    
    public Collection&lt;ServiceConfigurator&lt;JobServiceConfiguration&gt;&gt; getJobServiceConfigurators() {
<span class="nc" id="L5452">        return jobServiceConfigurators;</span>
    }

    public ProcessEngineConfigurationImpl setJobServiceConfigurators(Collection&lt;ServiceConfigurator&lt;JobServiceConfiguration&gt;&gt; jobServiceConfigurators) {
<span class="nc" id="L5456">        this.jobServiceConfigurators = jobServiceConfigurators;</span>
<span class="nc" id="L5457">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addJobServiceConfigurator(ServiceConfigurator&lt;JobServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L5461" title="All 2 branches missed.">        if (this.jobServiceConfigurators == null) {</span>
<span class="nc" id="L5462">            this.jobServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L5465">        this.jobServiceConfigurators.add(configurator);</span>
<span class="nc" id="L5466">        return this;</span>
    }

    public BatchServiceConfiguration getBatchServiceConfiguration() {
<span class="nc" id="L5470">        return batchServiceConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setBatchServiceConfiguration(BatchServiceConfiguration batchServiceConfiguration) {
<span class="nc" id="L5474">        this.batchServiceConfiguration = batchServiceConfiguration;</span>
<span class="nc" id="L5475">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;BatchServiceConfiguration&gt;&gt; getBatchServiceConfigurators() {
<span class="nc" id="L5479">        return batchServiceConfigurators;</span>
    }

    public ProcessEngineConfigurationImpl setBatchServiceConfigurators(Collection&lt;ServiceConfigurator&lt;BatchServiceConfiguration&gt;&gt; batchServiceConfigurators) {
<span class="nc" id="L5483">        this.batchServiceConfigurators = batchServiceConfigurators;</span>
<span class="nc" id="L5484">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addBatchServiceConfigurator(
                    ServiceConfigurator&lt;BatchServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L5489" title="All 2 branches missed.">        if (this.batchServiceConfigurators == null) {</span>
<span class="nc" id="L5490">            this.batchServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L5493">        this.batchServiceConfigurators.add(configurator);</span>
<span class="nc" id="L5494">        return this;</span>
    }

    public EventSubscriptionServiceConfiguration getEventSubscriptionServiceConfiguration() {
<span class="nc" id="L5498">        return eventSubscriptionServiceConfiguration;</span>
    }

    public ProcessEngineConfigurationImpl setEventSubscriptionServiceConfiguration(EventSubscriptionServiceConfiguration eventSubscriptionServiceConfiguration) {
<span class="nc" id="L5502">        this.eventSubscriptionServiceConfiguration = eventSubscriptionServiceConfiguration;</span>
<span class="nc" id="L5503">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;EventSubscriptionServiceConfiguration&gt;&gt; getEventSubscriptionServiceConfigurators() {
<span class="nc" id="L5507">        return eventSubscriptionServiceConfigurators;</span>
    }

    public ProcessEngineConfigurationImpl setEventSubscriptionServiceConfigurators(
                    Collection&lt;ServiceConfigurator&lt;EventSubscriptionServiceConfiguration&gt;&gt; eventSubscriptionServiceConfigurators) {
<span class="nc" id="L5512">        this.eventSubscriptionServiceConfigurators = eventSubscriptionServiceConfigurators;</span>
<span class="nc" id="L5513">        return this;</span>
    }

    public ProcessEngineConfigurationImpl addEventSubscriptionServiceConfigurator(
                    ServiceConfigurator&lt;EventSubscriptionServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L5518" title="All 2 branches missed.">        if (this.eventSubscriptionServiceConfigurators == null) {</span>
<span class="nc" id="L5519">            this.eventSubscriptionServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L5522">        this.eventSubscriptionServiceConfigurators.add(configurator);</span>
<span class="nc" id="L5523">        return this;</span>
    }

    @Override
    public VariableServiceConfiguration getVariableServiceConfiguration() {
<span class="nc" id="L5528">        return variableServiceConfiguration;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getTenantId()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public String getAsyncExecutorTenantId() {
<span class="nc" id="L5536">        return asyncExecutorConfiguration.getTenantId();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setTenantId(String)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public void setAsyncExecutorTenantId(String asyncExecutorTenantId) {
<span class="nc" id="L5544">        asyncExecutorConfiguration.setTenantId(asyncExecutorTenantId);</span>
<span class="nc" id="L5545">    }</span>

    public String getBatchStatusTimeCycleConfig() {
<span class="nc" id="L5548">        return batchStatusTimeCycleConfig;</span>
    }

    public void setBatchStatusTimeCycleConfig(String batchStatusTimeCycleConfig) {
<span class="nc" id="L5552">        this.batchStatusTimeCycleConfig = batchStatusTimeCycleConfig;</span>
<span class="nc" id="L5553">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>