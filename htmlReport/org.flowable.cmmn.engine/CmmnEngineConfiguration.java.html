<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CmmnEngineConfiguration.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jacoco.exec</a> &gt; <a href="index.source.html" class="el_package">org.flowable.cmmn.engine</a> &gt; <span class="el_source">CmmnEngineConfiguration.java</span></div><h1>CmmnEngineConfiguration.java</h1><pre class="source lang-java linenums">/* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.flowable.cmmn.engine;

import java.io.InputStream;
import java.nio.charset.Charset;
import java.time.Duration;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.LinkedHashSet;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.concurrent.BlockingQueue;
import java.util.concurrent.ThreadFactory;
import java.util.concurrent.ThreadPoolExecutor;
import java.util.function.Consumer;

import javax.sql.DataSource;

import org.apache.ibatis.session.Configuration;
import org.apache.ibatis.type.JdbcType;
import org.flowable.batch.service.BatchServiceConfiguration;
import org.flowable.batch.service.impl.db.BatchDbSchemaManager;
import org.flowable.cmmn.api.CallbackTypes;
import org.flowable.cmmn.api.CandidateManager;
import org.flowable.cmmn.api.CmmnChangeTenantIdEntityTypes;
import org.flowable.cmmn.api.CmmnEngineConfigurationApi;
import org.flowable.cmmn.api.CmmnHistoryCleaningManager;
import org.flowable.cmmn.api.CmmnHistoryService;
import org.flowable.cmmn.api.CmmnManagementService;
import org.flowable.cmmn.api.CmmnMigrationService;
import org.flowable.cmmn.api.CmmnRepositoryService;
import org.flowable.cmmn.api.CmmnRuntimeService;
import org.flowable.cmmn.api.CmmnTaskService;
import org.flowable.cmmn.api.DecisionTableVariableManager;
import org.flowable.cmmn.api.DynamicCmmnService;
import org.flowable.cmmn.api.delegate.PlanItemVariableAggregator;
import org.flowable.cmmn.api.listener.CaseInstanceLifecycleListener;
import org.flowable.cmmn.api.listener.PlanItemInstanceLifecycleListener;
import org.flowable.cmmn.api.migration.CaseInstanceMigrationCallback;
import org.flowable.cmmn.engine.impl.CmmnEngineImpl;
import org.flowable.cmmn.engine.impl.CmmnHistoryServiceImpl;
import org.flowable.cmmn.engine.impl.CmmnManagementServiceImpl;
import org.flowable.cmmn.engine.impl.CmmnRepositoryServiceImpl;
import org.flowable.cmmn.engine.impl.CmmnTaskServiceImpl;
import org.flowable.cmmn.engine.impl.DefaultCmmnHistoryCleaningManager;
import org.flowable.cmmn.engine.impl.agenda.CmmnEngineAgendaFactory;
import org.flowable.cmmn.engine.impl.agenda.CmmnEngineAgendaSessionFactory;
import org.flowable.cmmn.engine.impl.agenda.DefaultCmmnEngineAgendaFactory;
import org.flowable.cmmn.engine.impl.callback.ChildBpmnCaseInstanceStateChangeCallback;
import org.flowable.cmmn.engine.impl.callback.ChildCaseInstanceStateChangeCallback;
import org.flowable.cmmn.engine.impl.callback.DefaultInternalCmmnJobManager;
import org.flowable.cmmn.engine.impl.cfg.DefaultTaskAssignmentManager;
import org.flowable.cmmn.engine.impl.cfg.DelegateExpressionFieldInjectionMode;
import org.flowable.cmmn.engine.impl.cfg.StandaloneInMemCmmnEngineConfiguration;
import org.flowable.cmmn.engine.impl.cmd.JobRetryCmd;
import org.flowable.cmmn.engine.impl.cmd.SchemaOperationsCmmnEngineBuild;
import org.flowable.cmmn.engine.impl.db.CmmnDbSchemaManager;
import org.flowable.cmmn.engine.impl.db.EntityDependencyOrder;
import org.flowable.cmmn.engine.impl.delegate.CmmnClassDelegateFactory;
import org.flowable.cmmn.engine.impl.delegate.DefaultCmmnClassDelegateFactory;
import org.flowable.cmmn.engine.impl.delegate.JsonPlanItemVariableAggregator;
import org.flowable.cmmn.engine.impl.delete.ComputeDeleteHistoricCaseInstanceIdsJobHandler;
import org.flowable.cmmn.engine.impl.delete.ComputeDeleteHistoricCaseInstanceStatusJobHandler;
import org.flowable.cmmn.engine.impl.delete.DeleteHistoricCaseInstanceIdsJobHandler;
import org.flowable.cmmn.engine.impl.delete.DeleteHistoricCaseInstanceIdsStatusJobHandler;
import org.flowable.cmmn.engine.impl.delete.DeleteHistoricCaseInstancesSequentialJobHandler;
import org.flowable.cmmn.engine.impl.deployer.CaseDefinitionDiagramHelper;
import org.flowable.cmmn.engine.impl.deployer.CmmnDeployer;
import org.flowable.cmmn.engine.impl.deployer.CmmnDeploymentManager;
import org.flowable.cmmn.engine.impl.el.CmmnExpressionManager;
import org.flowable.cmmn.engine.impl.eventregistry.CmmnEventRegistryEventConsumer;
import org.flowable.cmmn.engine.impl.form.DefaultFormFieldHandler;
import org.flowable.cmmn.engine.impl.function.IsPlanItemCompletedExpressionFunction;
import org.flowable.cmmn.engine.impl.function.IsStageCompletableExpressionFunction;
import org.flowable.cmmn.engine.impl.function.TaskGetFunctionDelegate;
import org.flowable.cmmn.engine.impl.history.CmmnHistoryConfigurationSettings;
import org.flowable.cmmn.engine.impl.history.CmmnHistoryManager;
import org.flowable.cmmn.engine.impl.history.CmmnHistoryTaskManager;
import org.flowable.cmmn.engine.impl.history.CmmnHistoryVariableManager;
import org.flowable.cmmn.engine.impl.history.DefaultCmmnHistoryConfigurationSettings;
import org.flowable.cmmn.engine.impl.history.DefaultCmmnHistoryManager;
import org.flowable.cmmn.engine.impl.idm.DefaultCandidateManager;
import org.flowable.cmmn.engine.impl.interceptor.CmmnCommandInvoker;
import org.flowable.cmmn.engine.impl.interceptor.DefaultCmmnIdentityLinkInterceptor;
import org.flowable.cmmn.engine.impl.job.AsyncActivatePlanItemInstanceJobHandler;
import org.flowable.cmmn.engine.impl.job.AsyncInitializePlanModelJobHandler;
import org.flowable.cmmn.engine.impl.job.AsyncLeaveActivePlanItemInstanceJobHandler;
import org.flowable.cmmn.engine.impl.job.CaseInstanceMigrationJobHandler;
import org.flowable.cmmn.engine.impl.job.CaseInstanceMigrationStatusJobHandler;
import org.flowable.cmmn.engine.impl.job.CmmnHistoryCleanupJobHandler;
import org.flowable.cmmn.engine.impl.job.ExternalWorkerTaskCompleteJobHandler;
import org.flowable.cmmn.engine.impl.job.HistoricCaseInstanceMigrationJobHandler;
import org.flowable.cmmn.engine.impl.job.TriggerTimerEventJobHandler;
import org.flowable.cmmn.engine.impl.listener.CmmnListenerFactory;
import org.flowable.cmmn.engine.impl.listener.CmmnListenerNotificationHelper;
import org.flowable.cmmn.engine.impl.listener.DefaultCmmnListenerFactory;
import org.flowable.cmmn.engine.impl.migration.CaseInstanceMigrationManager;
import org.flowable.cmmn.engine.impl.migration.CaseInstanceMigrationManagerImpl;
import org.flowable.cmmn.engine.impl.migration.CmmnMigrationServiceImpl;
import org.flowable.cmmn.engine.impl.parser.CmmnActivityBehaviorFactory;
import org.flowable.cmmn.engine.impl.parser.CmmnParseHandler;
import org.flowable.cmmn.engine.impl.parser.CmmnParseHandlers;
import org.flowable.cmmn.engine.impl.parser.CmmnParser;
import org.flowable.cmmn.engine.impl.parser.CmmnParserImpl;
import org.flowable.cmmn.engine.impl.parser.DefaultCmmnActivityBehaviorFactory;
import org.flowable.cmmn.engine.impl.parser.handler.CasePageTaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.CaseParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.CaseTaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.DecisionTaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.ExternalWorkerServiceTaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.GenericEventListenerParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.HttpTaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.HumanTaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.MilestoneParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.PlanFragmentParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.ProcessTaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.ReactivateEventListenerParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.ScriptTaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.SendEventServiceTaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.ServiceTaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.SignalEventListenerParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.StageParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.TaskParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.TimerEventListenerParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.UserEventListenerParseHandler;
import org.flowable.cmmn.engine.impl.parser.handler.VariableEventListenerParseHandler;
import org.flowable.cmmn.engine.impl.persistence.entity.CaseDefinitionEntityManager;
import org.flowable.cmmn.engine.impl.persistence.entity.CaseDefinitionEntityManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.CaseInstanceEntityManager;
import org.flowable.cmmn.engine.impl.persistence.entity.CaseInstanceEntityManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.CmmnDeploymentEntityManager;
import org.flowable.cmmn.engine.impl.persistence.entity.CmmnDeploymentEntityManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.CmmnResourceEntityManager;
import org.flowable.cmmn.engine.impl.persistence.entity.CmmnResourceEntityManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.HistoricCaseInstanceEntityManager;
import org.flowable.cmmn.engine.impl.persistence.entity.HistoricCaseInstanceEntityManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.HistoricMilestoneInstanceEntityManager;
import org.flowable.cmmn.engine.impl.persistence.entity.HistoricMilestoneInstanceEntityManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.HistoricPlanItemInstanceEntityManager;
import org.flowable.cmmn.engine.impl.persistence.entity.HistoricPlanItemInstanceEntityManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.MilestoneInstanceEntityManager;
import org.flowable.cmmn.engine.impl.persistence.entity.MilestoneInstanceEntityManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.PlanItemInstanceEntityManager;
import org.flowable.cmmn.engine.impl.persistence.entity.PlanItemInstanceEntityManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.SentryPartInstanceEntityManager;
import org.flowable.cmmn.engine.impl.persistence.entity.SentryPartInstanceEntityManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.data.CaseDefinitionDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.CaseInstanceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.CmmnDeploymentDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.CmmnResourceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.HistoricCaseInstanceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.HistoricMilestoneInstanceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.HistoricPlanItemInstanceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.MilestoneInstanceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.PlanItemInstanceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.SentryPartInstanceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.impl.MybatisCaseDefinitionDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.impl.MybatisCaseInstanceDataManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.data.impl.MybatisCmmnDeploymentDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.impl.MybatisHistoricCaseInstanceDataManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.data.impl.MybatisHistoricMilestoneInstanceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.impl.MybatisHistoricPlanItemInstanceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.impl.MybatisMilestoneInstanceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.impl.MybatisPlanItemInstanceDataManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.data.impl.MybatisResourceDataManager;
import org.flowable.cmmn.engine.impl.persistence.entity.data.impl.MybatisSentryPartInstanceDataManagerImpl;
import org.flowable.cmmn.engine.impl.persistence.entity.deploy.CaseDefinitionCacheEntry;
import org.flowable.cmmn.engine.impl.process.ProcessInstanceService;
import org.flowable.cmmn.engine.impl.runtime.CaseInstanceHelper;
import org.flowable.cmmn.engine.impl.runtime.CaseInstanceHelperImpl;
import org.flowable.cmmn.engine.impl.runtime.CmmnDynamicStateManager;
import org.flowable.cmmn.engine.impl.runtime.CmmnRuntimeServiceImpl;
import org.flowable.cmmn.engine.impl.runtime.DefaultCmmnDynamicStateManager;
import org.flowable.cmmn.engine.impl.runtime.DynamicCmmnServiceImpl;
import org.flowable.cmmn.engine.impl.scripting.CmmnEngineScriptTraceEnhancer;
import org.flowable.cmmn.engine.impl.scripting.CmmnVariableScopeResolverFactory;
import org.flowable.cmmn.engine.impl.task.DefaultCmmnTaskVariableScopeResolver;
import org.flowable.cmmn.engine.impl.variable.CmmnAggregatedVariableType;
import org.flowable.cmmn.engine.interceptor.CmmnIdentityLinkInterceptor;
import org.flowable.cmmn.engine.interceptor.CreateCasePageTaskInterceptor;
import org.flowable.cmmn.engine.interceptor.CreateCmmnExternalWorkerJobInterceptor;
import org.flowable.cmmn.engine.interceptor.CreateHumanTaskInterceptor;
import org.flowable.cmmn.engine.interceptor.HumanTaskStateInterceptor;
import org.flowable.cmmn.engine.interceptor.StartCaseInstanceInterceptor;
import org.flowable.cmmn.image.CaseDiagramGenerator;
import org.flowable.cmmn.image.impl.DefaultCaseDiagramGenerator;
import org.flowable.cmmn.validation.CaseValidator;
import org.flowable.cmmn.validation.CaseValidatorFactory;
import org.flowable.common.engine.api.FlowableException;
import org.flowable.common.engine.api.async.AsyncTaskExecutor;
import org.flowable.common.engine.api.async.AsyncTaskInvoker;
import org.flowable.common.engine.api.delegate.FlowableFunctionDelegate;
import org.flowable.common.engine.api.scope.ScopeTypes;
import org.flowable.common.engine.impl.AbstractEngineConfiguration;
import org.flowable.common.engine.impl.EngineConfigurator;
import org.flowable.common.engine.impl.EngineDeployer;
import org.flowable.common.engine.impl.HasExpressionManagerEngineConfiguration;
import org.flowable.common.engine.impl.HasVariableServiceConfiguration;
import org.flowable.common.engine.impl.HasVariableTypes;
import org.flowable.common.engine.impl.ScriptingEngineAwareEngineConfiguration;
import org.flowable.common.engine.impl.ServiceConfigurator;
import org.flowable.common.engine.impl.agenda.AgendaFutureMaxWaitTimeoutProvider;
import org.flowable.common.engine.impl.async.AsyncTaskExecutorConfiguration;
import org.flowable.common.engine.impl.async.DefaultAsyncTaskExecutor;
import org.flowable.common.engine.impl.async.DefaultAsyncTaskInvoker;
import org.flowable.common.engine.impl.calendar.BusinessCalendarManager;
import org.flowable.common.engine.impl.calendar.CycleBusinessCalendar;
import org.flowable.common.engine.impl.calendar.DueDateBusinessCalendar;
import org.flowable.common.engine.impl.calendar.DurationBusinessCalendar;
import org.flowable.common.engine.impl.calendar.MapBusinessCalendarManager;
import org.flowable.common.engine.impl.callback.RuntimeInstanceStateChangeCallback;
import org.flowable.common.engine.impl.cfg.BeansConfigurationHelper;
import org.flowable.common.engine.impl.cfg.mail.FlowableMailClientCreator;
import org.flowable.common.engine.impl.cfg.mail.MailServerInfo;
import org.flowable.common.engine.impl.db.AbstractDataManager;
import org.flowable.common.engine.impl.db.SchemaManager;
import org.flowable.common.engine.impl.el.ExpressionManager;
import org.flowable.common.engine.impl.el.FlowableAstFunctionCreator;
import org.flowable.common.engine.impl.el.function.VariableBase64ExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableContainsAnyExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableContainsExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableEqualsExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableExistsExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableGetExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableGetOrDefaultExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableGreaterThanExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableGreaterThanOrEqualsExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableIsEmptyExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableIsNotEmptyExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableLowerThanExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableLowerThanOrEqualsExpressionFunction;
import org.flowable.common.engine.impl.el.function.VariableNotEqualsExpressionFunction;
import org.flowable.common.engine.impl.history.HistoryLevel;
import org.flowable.common.engine.impl.interceptor.Command;
import org.flowable.common.engine.impl.interceptor.CommandInterceptor;
import org.flowable.common.engine.impl.interceptor.EngineConfigurationConstants;
import org.flowable.common.engine.impl.javax.el.ELResolver;
import org.flowable.common.engine.impl.persistence.deploy.DefaultDeploymentCache;
import org.flowable.common.engine.impl.persistence.deploy.DeploymentCache;
import org.flowable.common.engine.impl.persistence.entity.TableDataManager;
import org.flowable.common.engine.impl.scripting.BeansResolverFactory;
import org.flowable.common.engine.impl.scripting.ResolverFactory;
import org.flowable.common.engine.impl.scripting.ScriptBindingsFactory;
import org.flowable.common.engine.impl.scripting.ScriptingEngines;
import org.flowable.common.engine.impl.tenant.ChangeTenantIdManager;
import org.flowable.common.engine.impl.tenant.MyBatisChangeTenantIdManager;
import org.flowable.common.engine.impl.variablelistener.VariableListenerSession;
import org.flowable.common.engine.impl.variablelistener.VariableListenerSessionFactory;
import org.flowable.entitylink.service.EntityLinkServiceConfiguration;
import org.flowable.entitylink.service.impl.db.EntityLinkDbSchemaManager;
import org.flowable.eventregistry.api.EventRegistryEventConsumer;
import org.flowable.eventregistry.impl.configurator.EventRegistryEngineConfigurator;
import org.flowable.eventsubscription.service.EventSubscriptionServiceConfiguration;
import org.flowable.eventsubscription.service.impl.db.EventSubscriptionDbSchemaManager;
import org.flowable.form.api.FormFieldHandler;
import org.flowable.identitylink.service.IdentityLinkEventHandler;
import org.flowable.identitylink.service.IdentityLinkServiceConfiguration;
import org.flowable.identitylink.service.impl.db.IdentityLinkDbSchemaManager;
import org.flowable.idm.api.IdmEngineConfigurationApi;
import org.flowable.idm.api.IdmIdentityService;
import org.flowable.idm.engine.configurator.IdmEngineConfigurator;
import org.flowable.job.service.HistoryJobHandler;
import org.flowable.job.service.InternalJobManager;
import org.flowable.job.service.InternalJobParentStateResolver;
import org.flowable.job.service.JobHandler;
import org.flowable.job.service.JobServiceConfiguration;
import org.flowable.job.service.impl.asyncexecutor.AsyncExecutor;
import org.flowable.job.service.impl.asyncexecutor.AsyncJobExecutorConfiguration;
import org.flowable.job.service.impl.asyncexecutor.AsyncRunnableExecutionExceptionHandler;
import org.flowable.job.service.impl.asyncexecutor.DefaultAsyncHistoryJobExecutor;
import org.flowable.job.service.impl.asyncexecutor.DefaultAsyncJobExecutor;
import org.flowable.job.service.impl.asyncexecutor.DefaultAsyncRunnableExecutionExceptionHandler;
import org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnableFactory;
import org.flowable.job.service.impl.asyncexecutor.FailedJobCommandFactory;
import org.flowable.job.service.impl.asyncexecutor.JobManager;
import org.flowable.job.service.impl.db.JobDbSchemaManager;
import org.flowable.mail.common.api.client.FlowableMailClient;
import org.flowable.task.service.InternalTaskAssignmentManager;
import org.flowable.task.service.InternalTaskVariableScopeResolver;
import org.flowable.task.service.TaskPostProcessor;
import org.flowable.task.service.TaskServiceConfiguration;
import org.flowable.task.service.history.InternalHistoryTaskManager;
import org.flowable.task.service.impl.DefaultTaskPostProcessor;
import org.flowable.task.service.impl.db.TaskDbSchemaManager;
import org.flowable.task.service.impl.persistence.entity.HistoricTaskLogEntryEntityImpl;
import org.flowable.variable.api.types.VariableType;
import org.flowable.variable.api.types.VariableTypes;
import org.flowable.variable.service.VariableServiceConfiguration;
import org.flowable.variable.service.history.InternalHistoryVariableManager;
import org.flowable.variable.service.impl.db.IbatisVariableTypeHandler;
import org.flowable.variable.service.impl.db.VariableDbSchemaManager;
import org.flowable.variable.service.impl.types.BooleanType;
import org.flowable.variable.service.impl.types.ByteArrayType;
import org.flowable.variable.service.impl.types.DateType;
import org.flowable.variable.service.impl.types.DefaultVariableTypes;
import org.flowable.variable.service.impl.types.DoubleType;
import org.flowable.variable.service.impl.types.EmptyCollectionType;
import org.flowable.variable.service.impl.types.InstantType;
import org.flowable.variable.service.impl.types.IntegerType;
import org.flowable.variable.service.impl.types.JodaDateTimeType;
import org.flowable.variable.service.impl.types.JodaDateType;
import org.flowable.variable.service.impl.types.JsonType;
import org.flowable.variable.service.impl.types.LocalDateTimeType;
import org.flowable.variable.service.impl.types.LocalDateType;
import org.flowable.variable.service.impl.types.LongStringType;
import org.flowable.variable.service.impl.types.LongType;
import org.flowable.variable.service.impl.types.NullType;
import org.flowable.variable.service.impl.types.SerializableType;
import org.flowable.variable.service.impl.types.ShortType;
import org.flowable.variable.service.impl.types.StringType;
import org.flowable.variable.service.impl.types.UUIDType;

<span class="nc" id="L328">public class CmmnEngineConfiguration extends AbstractEngineConfiguration implements CmmnEngineConfigurationApi,</span>
        ScriptingEngineAwareEngineConfiguration, HasExpressionManagerEngineConfiguration, HasVariableTypes, 
        HasVariableServiceConfiguration {

    public static final String DEFAULT_MYBATIS_MAPPING_FILE = &quot;org/flowable/cmmn/db/mapping/mappings.xml&quot;;
    public static final String LIQUIBASE_CHANGELOG_PREFIX = &quot;ACT_CMMN_&quot;;

<span class="nc" id="L335">    protected String cmmnEngineName = CmmnEngines.NAME_DEFAULT;</span>

    protected CmmnEngineAgendaFactory cmmnEngineAgendaFactory;
    protected AgendaFutureMaxWaitTimeoutProvider agendaFutureMaxWaitTimeoutProvider;

<span class="nc" id="L340">    protected CmmnRuntimeService cmmnRuntimeService = new CmmnRuntimeServiceImpl(this);</span>
<span class="nc" id="L341">    protected DynamicCmmnService dynamicCmmnService = new DynamicCmmnServiceImpl(this);</span>
<span class="nc" id="L342">    protected CmmnTaskService cmmnTaskService = new CmmnTaskServiceImpl(this);</span>
<span class="nc" id="L343">    protected CmmnManagementService cmmnManagementService = new CmmnManagementServiceImpl(this);</span>
<span class="nc" id="L344">    protected CmmnRepositoryService cmmnRepositoryService = new CmmnRepositoryServiceImpl(this);</span>
<span class="nc" id="L345">    protected CmmnHistoryService cmmnHistoryService = new CmmnHistoryServiceImpl(this);</span>
<span class="nc" id="L346">    protected CmmnMigrationService cmmnMigrationService = new CmmnMigrationServiceImpl(this);</span>

    protected CmmnDeploymentDataManager deploymentDataManager;
    protected CmmnResourceDataManager resourceDataManager;
    protected CaseDefinitionDataManager caseDefinitionDataManager;
    protected CaseInstanceDataManager caseInstanceDataManager;
    protected PlanItemInstanceDataManager planItemInstanceDataManager;
    protected SentryPartInstanceDataManager sentryPartInstanceDataManager;
    protected MilestoneInstanceDataManager milestoneInstanceDataManager;
    protected HistoricCaseInstanceEntityManager historicCaseInstanceEntityManager;
    protected HistoricMilestoneInstanceDataManager historicMilestoneInstanceDataManager;
    protected HistoricPlanItemInstanceDataManager historicPlanItemInstanceDataManager;

    protected CmmnDeploymentEntityManager cmmnDeploymentEntityManager;
    protected CmmnResourceEntityManager cmmnResourceEntityManager;
    protected CaseDefinitionEntityManager caseDefinitionEntityManager;
    protected CaseInstanceEntityManager caseInstanceEntityManager;
    protected PlanItemInstanceEntityManager planItemInstanceEntityManager;
    protected SentryPartInstanceEntityManager sentryPartInstanceEntityManager;
    protected MilestoneInstanceEntityManager milestoneInstanceEntityManager;
    protected HistoricCaseInstanceDataManager historicCaseInstanceDataManager;
    protected HistoricMilestoneInstanceEntityManager historicMilestoneInstanceEntityManager;
    protected HistoricPlanItemInstanceEntityManager historicPlanItemInstanceEntityManager;

    protected boolean disableIdmEngine;
    
    protected boolean disableEventRegistry;
    
    protected CandidateManager candidateManager;
    protected PlanItemVariableAggregator variableAggregator;
<span class="nc" id="L376">    protected Collection&lt;String&gt; dependentScopeTypes = new HashSet&lt;&gt;();</span>

    protected DecisionTableVariableManager decisionTableVariableManager;

    protected CaseInstanceHelper caseInstanceHelper;
    protected CmmnHistoryManager cmmnHistoryManager;
    protected CmmnHistoryConfigurationSettings cmmnHistoryConfigurationSettings;
    protected ProcessInstanceService processInstanceService;
    protected CmmnDynamicStateManager dynamicStateManager;
    protected CaseInstanceMigrationManager caseInstanceMigrationManager;
    protected Map&lt;String, List&lt;RuntimeInstanceStateChangeCallback&gt;&gt; caseInstanceStateChangeCallbacks;
    protected List&lt;CaseInstanceLifecycleListener&gt; caseInstanceLifecycleListeners;
    protected Map&lt;String, List&lt;PlanItemInstanceLifecycleListener&gt;&gt; planItemInstanceLifecycleListeners;
    protected StartCaseInstanceInterceptor startCaseInstanceInterceptor;
    protected CreateHumanTaskInterceptor createHumanTaskInterceptor;
    protected HumanTaskStateInterceptor humanTaskStateInterceptor;
    protected CreateCasePageTaskInterceptor createCasePageTaskInterceptor;
    protected CreateCmmnExternalWorkerJobInterceptor createCmmnExternalWorkerJobInterceptor;
    protected CmmnIdentityLinkInterceptor identityLinkInterceptor;

    protected ChangeTenantIdManager changeTenantIdManager;
    protected Set&lt;String&gt; changeTenantEntityTypes;

<span class="nc" id="L399">    protected boolean executeServiceSchemaManagers = true;</span>

    protected boolean enableSafeCmmnXml;
    protected boolean disableCmmnXmlValidation;
    protected CmmnActivityBehaviorFactory activityBehaviorFactory;
    protected CmmnClassDelegateFactory classDelegateFactory;
    protected CmmnDeployer cmmnDeployer;
    protected CmmnDeploymentManager deploymentManager;
    protected CaseDefinitionDiagramHelper caseDefinitionDiagramHelper;
    protected CaseValidator caseValidator;

<span class="nc" id="L410">    protected int caseDefinitionCacheLimit = -1;</span>
    protected DeploymentCache&lt;CaseDefinitionCacheEntry&gt; caseDefinitionCache;

    protected CmmnParser cmmnParser;
    protected List&lt;CmmnParseHandler&gt; preCmmnParseHandlers;
    protected List&lt;CmmnParseHandler&gt; postCmmnParseHandlers;
    protected List&lt;CmmnParseHandler&gt; customCmmnParseHandlers;

    protected CmmnListenerFactory listenerFactory;
    protected CmmnListenerNotificationHelper listenerNotificationHelper;

<span class="nc" id="L421">    protected HistoryLevel historyLevel = HistoryLevel.AUDIT;</span>
    protected boolean enableCaseDefinitionHistoryLevel;

    protected ExpressionManager expressionManager;
    protected Collection&lt;Consumer&lt;ExpressionManager&gt;&gt; expressionManagerConfigurers;
    protected List&lt;FlowableFunctionDelegate&gt; flowableFunctionDelegates;
    protected List&lt;FlowableFunctionDelegate&gt; customFlowableFunctionDelegates;
    protected List&lt;FlowableAstFunctionCreator&gt; astFunctionCreators;
    protected Collection&lt;ELResolver&gt; preDefaultELResolvers;
    protected Collection&lt;ELResolver&gt; preBeanELResolvers;
    protected Collection&lt;ELResolver&gt; postDefaultELResolvers;

<span class="nc" id="L433">    protected boolean isExpressionCacheEnabled = true;</span>
<span class="nc" id="L434">    protected int expressionCacheSize = 4096;</span>
<span class="nc" id="L435">    protected int expressionTextLengthCacheLimit = -1; // negative value to have no max length</span>

    // Scripting support
    protected ScriptingEngines scriptingEngines;
    protected ScriptBindingsFactory scriptBindingsFactory;
    protected List&lt;ResolverFactory&gt; resolverFactories;
    protected Collection&lt;ResolverFactory&gt; preDefaultResolverFactories;
    protected Collection&lt;ResolverFactory&gt; postDefaultResolverFactories;

    /**
     * Using field injection together with a delegate expression for a service task / execution listener / task listener is not thread-sade , see user guide section 'Field Injection' for more
     * information.
     * &lt;p&gt;
     * Set this flag to false to throw an exception at runtime when a field is injected and a delegateExpression is used.
     */
<span class="nc" id="L450">    protected DelegateExpressionFieldInjectionMode delegateExpressionFieldInjectionMode = DelegateExpressionFieldInjectionMode.MIXED;</span>

    protected SchemaManager identityLinkSchemaManager;
    protected SchemaManager entityLinkSchemaManager;
    protected SchemaManager eventSubscriptionSchemaManager;
    protected SchemaManager variableSchemaManager;
    protected SchemaManager taskSchemaManager;
    protected SchemaManager jobSchemaManager;
    protected SchemaManager batchSchemaManager;

    /**
     * Case diagram generator. Default value is DefaultCaseDiagramGenerator
     */
    protected CaseDiagramGenerator caseDiagramGenerator;

<span class="nc" id="L465">    protected boolean isCreateDiagramOnDeploy = true;</span>

<span class="nc" id="L467">    protected String activityFontName = &quot;Arial&quot;;</span>
<span class="nc" id="L468">    protected String labelFontName = &quot;Arial&quot;;</span>
<span class="nc" id="L469">    protected String annotationFontName = &quot;Arial&quot;;</span>

    // Identitylink support
    protected IdentityLinkServiceConfiguration identityLinkServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;IdentityLinkServiceConfiguration&gt;&gt; identityLinkServiceConfigurators;

    // Entitylink support
    protected EntityLinkServiceConfiguration entityLinkServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;EntityLinkServiceConfiguration&gt;&gt; entityLinkServiceConfigurators;
    protected boolean enableEntityLinks;
    
    // EventSubscription support
    protected EventSubscriptionServiceConfiguration eventSubscriptionServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;EventSubscriptionServiceConfiguration&gt;&gt; eventSubscriptionServiceConfigurators;

    // Task support
    protected TaskServiceConfiguration taskServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;TaskServiceConfiguration&gt;&gt; taskServiceConfigurators;
    protected InternalHistoryTaskManager internalHistoryTaskManager;
    protected InternalTaskVariableScopeResolver internalTaskVariableScopeResolver;
    protected InternalTaskAssignmentManager internalTaskAssignmentManager;
    protected IdentityLinkEventHandler identityLinkEventHandler;
<span class="nc" id="L491">    protected boolean isEnableTaskRelationshipCounts = true;</span>

    // Batch support
    protected BatchServiceConfiguration batchServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;BatchServiceConfiguration&gt;&gt; batchServiceConfigurators;

    // Variable support
    protected VariableTypes variableTypes;
    protected List&lt;VariableType&gt; customPreVariableTypes;
    protected List&lt;VariableType&gt; customPostVariableTypes;
    protected VariableServiceConfiguration variableServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;VariableServiceConfiguration&gt;&gt; variableServiceConfigurators;
    protected InternalHistoryVariableManager internalHistoryVariableManager;
<span class="nc" id="L504">    protected boolean serializableVariableTypeTrackDeserializedObjects = true;</span>
    /**
     * This flag determines whether variables of the type 'json' and 'longJson' will be tracked.
     * &lt;p&gt;
     * This means that, when true, in a JavaDelegate you can write:
     * &lt;pre&gt;&lt;code&gt;
     *     JsonNode jsonNode = (JsonNode) execution.getVariable(&quot;customer&quot;);
     *     customer.put(&quot;name&quot;, &quot;Kermit&quot;);
     * &lt;/code&gt;&lt;/pre&gt;
     * And the changes to the JsonNode will be reflected in the database. Otherwise, a manual call to setVariable will be needed.
     */
<span class="nc" id="L515">    protected boolean jsonVariableTypeTrackObjects = true;</span>

    protected List&lt;CaseInstanceMigrationCallback&gt; caseInstanceMigrationCallbacks;

    // Set Http Client config defaults
<span class="nc" id="L520">    protected HttpClientConfig httpClientConfig = new HttpClientConfig();</span>

    // Email
    protected FlowableMailClient defaultMailClient;
    protected MailServerInfo defaultMailServer;
    protected String mailSessionJndi;
<span class="nc" id="L526">    protected Map&lt;String, MailServerInfo&gt; mailServers = new HashMap&lt;&gt;();</span>
<span class="nc" id="L527">    protected Map&lt;String, FlowableMailClient&gt; mailClients = new HashMap&lt;&gt;();</span>
<span class="nc" id="L528">    protected Map&lt;String, String&gt; mailSessionsJndi = new HashMap&lt;&gt;();</span>

    // Async executor
    protected JobServiceConfiguration jobServiceConfiguration;
    protected Collection&lt;ServiceConfigurator&lt;JobServiceConfiguration&gt;&gt; jobServiceConfigurators;

<span class="nc" id="L534">    protected AsyncJobExecutorConfiguration asyncExecutorConfiguration = new AsyncJobExecutorConfiguration();</span>
    protected AsyncExecutor asyncExecutor;
    protected AsyncTaskExecutor asyncTaskExecutor;
    protected boolean shutdownAsyncTaskExecutor;
    protected AsyncTaskExecutorConfiguration asyncTaskInvokerTaskExecutorConfiguration;
    protected AsyncTaskExecutor asyncTaskInvokerTaskExecutor;
    protected boolean shutdownAsyncTaskInvokerTaskExecutor;
    protected AsyncTaskInvoker asyncTaskInvoker;
    protected JobManager jobManager;
    protected List&lt;JobHandler&gt; customJobHandlers;
    protected Map&lt;String, JobHandler&gt; jobHandlers;
    protected InternalJobManager internalJobManager;
    protected List&lt;AsyncRunnableExecutionExceptionHandler&gt; customAsyncRunnableExecutionExceptionHandlers;
<span class="nc" id="L547">    protected boolean addDefaultExceptionHandler = true;</span>
    protected FailedJobCommandFactory failedJobCommandFactory;
    protected InternalJobParentStateResolver internalJobParentStateResolver;
    protected List&lt;String&gt; enabledJobCategories;
<span class="nc" id="L551">    protected String jobExecutionScope = JobServiceConfiguration.JOB_EXECUTION_SCOPE_CMMN;</span>
<span class="nc" id="L552">    protected String historyJobExecutionScope = JobServiceConfiguration.JOB_EXECUTION_SCOPE_CMMN;</span>
    
    /**
     * Boolean flag to be set to activate the {@link AsyncExecutor} automatically after the engine has booted up.
     */
    protected boolean asyncExecutorActivate;

    /**
     * The number of retries for a job.
     */
<span class="nc" id="L562">    protected int asyncExecutorNumberOfRetries = 3;</span>

    /**
     * Define the default lock time for an async job in seconds.
     * The lock time is used when creating an async job and when it expires the async executor assumes that the job has failed.
     * It will be retried again.
     */
<span class="nc" id="L569">    protected int lockTimeAsyncJobWaitTime = 60;</span>

    /**
     * Define the default wait time for a failed job in seconds
     */
<span class="nc" id="L574">    protected int defaultFailedJobWaitTime = 10;</span>

    /**
     * Defines the default wait time for a failed async job in seconds
     */
<span class="nc" id="L579">    protected int asyncFailedJobWaitTime = 10;</span>

    /**
     * The configuration of the task executor for the async executor.
     * This is only applicable when using the {@link DefaultAsyncTaskExecutor}
     */
    protected AsyncTaskExecutorConfiguration asyncExecutorTaskExecutorConfiguration;

    /**
     * The queue onto which jobs will be placed before they are actually executed.
     * Threads form the async executor threadpool will take work from this queue.
     * &lt;p&gt;
     * By default null. If null, an {@link ArrayBlockingQueue} will be created of size defined in the {@link #asyncExecutorTaskExecutorConfiguration}.
     * &lt;p&gt;
     * When the queue is full, the job will be executed by the calling thread (ThreadPoolExecutor.CallerRunsPolicy())
     * &lt;p&gt;
     * This property is only applicable when using the threadpool-based async executor.
     */
    protected BlockingQueue&lt;Runnable&gt; asyncExecutorThreadPoolQueue;

    /**
     * The thread factory that the async task executor should use.
     */
    protected ThreadFactory asyncExecutorThreadFactory;

    /**
     * The amount of time (in milliseconds) a job can maximum be in the 'executable' state before being deemed expired.
     * Note that this won't happen when using the threadpool based executor, as the acquire thread will fetch these kind of jobs earlier.
     * &lt;p&gt;
     * By default 24 hours, as this should be a very exceptional case.
     */
<span class="nc" id="L610">    protected int asyncExecutorResetExpiredJobsMaxTimeout = 24 * 60 * 60 * 1000;</span>

    /**
     * Allows to define a custom factory for creating the {@link Runnable} that is executed by the async executor.
     * &lt;p&gt;
     * This property is only applicable when using the threadpool-based async executor.
     */
    protected ExecuteAsyncRunnableFactory asyncExecutorExecuteAsyncRunnableFactory;
    
    protected AsyncJobExecutorConfiguration asyncHistoryExecutorConfiguration;
    protected AsyncExecutor asyncHistoryExecutor;
    protected AsyncTaskExecutor asyncHistoryTaskExecutor;
    protected boolean shutdownAsyncHistoryTaskExecutor;
    protected boolean isAsyncHistoryEnabled;
    protected boolean asyncHistoryExecutorActivate;

    // More info: see similar async executor properties.
<span class="nc" id="L627">    protected int asyncHistoryExecutorNumberOfRetries = 10;</span>
    protected AsyncTaskExecutorConfiguration asyncHistoryExecutorTaskExecutorConfiguration;
    protected BlockingQueue&lt;Runnable&gt; asyncHistoryExecutorThreadPoolQueue;

<span class="nc" id="L631">    protected String batchStatusTimeCycleConfig = &quot;30 * * * * ?&quot;;</span>

<span class="nc" id="L633">    protected boolean enableHistoryCleaning = false;</span>
<span class="nc" id="L634">    protected String historyCleaningTimeCycleConfig = &quot;0 0 1 * * ?&quot;;</span>
<span class="nc" id="L635">    protected Duration cleanInstancesEndedAfter = Duration.ofDays(365);</span>
<span class="nc" id="L636">    protected int cleanInstancesBatchSize = 100;</span>
    protected CmmnHistoryCleaningManager cmmnHistoryCleaningManager;
    
    protected Map&lt;String, HistoryJobHandler&gt; historyJobHandlers;
    protected List&lt;HistoryJobHandler&gt; customHistoryJobHandlers;

    protected FormFieldHandler formFieldHandler;
    protected boolean isFormFieldValidationEnabled;
    
    protected EventRegistryEventConsumer eventRegistryEventConsumer;
    /**
     * Whether case instances should be started asynchronously by the default {@link EventRegistryEventConsumer}.
     * This is a fallback applied for all events. We suggest modelling your cases appropriately, i.e. marking the start of the case as async
     */
<span class="nc" id="L650">    protected boolean eventRegistryStartCaseInstanceAsync = false;</span>

    /**
     * Whether the check for unique case instances should be done with a lock.
     * We do not recommend changing this property, unless you have been explicitly asked by a Flowable maintainer.
     */
<span class="nc" id="L656">    protected boolean eventRegistryUniqueCaseInstanceCheckWithLock = true;</span>

    /**
     * The amount of time for the lock of a unique start event.
     */
<span class="nc" id="L661">    protected Duration eventRegistryUniqueCaseInstanceStartLockTime = Duration.ofMinutes(10);</span>

    protected BusinessCalendarManager businessCalendarManager;

    /**
     * Enable user task event logging
     */
    protected boolean enableHistoricTaskLogging;

    /**
     * postprocessor for a task builder
     */
    protected TaskPostProcessor taskPostProcessor;

<span class="nc" id="L675">    protected boolean handleCmmnEngineExecutorsAfterEngineCreate = true;</span>

<span class="nc" id="L677">    protected boolean alwaysUseArraysForDmnMultiHitPolicies = true;</span>

    // Localization support
    protected CaseDefinitionLocalizationManager caseDefinitionLocalizationManager;
    protected CaseLocalizationManager caseLocalizationManager;
    protected PlanItemLocalizationManager planItemLocalizationManager;

    public static CmmnEngineConfiguration createCmmnEngineConfigurationFromResourceDefault() {
<span class="nc" id="L685">        return createCmmnEngineConfigurationFromResource(&quot;flowable.cmmn.cfg.xml&quot;, &quot;cmmnEngineConfiguration&quot;);</span>
    }

    public static CmmnEngineConfiguration createCmmnEngineConfigurationFromResource(String resource) {
<span class="nc" id="L689">        return createCmmnEngineConfigurationFromResource(resource, &quot;cmmnEngineConfiguration&quot;);</span>
    }

    public static CmmnEngineConfiguration createCmmnEngineConfigurationFromResource(String resource, String beanName) {
<span class="nc" id="L693">        return (CmmnEngineConfiguration) BeansConfigurationHelper.parseEngineConfigurationFromResource(resource, beanName);</span>
    }

    public static CmmnEngineConfiguration createCmmnEngineConfigurationFromInputStream(InputStream inputStream) {
<span class="nc" id="L697">        return createCmmnEngineConfigurationFromInputStream(inputStream, &quot;cmmnEngineConfiguration&quot;);</span>
    }

    public static CmmnEngineConfiguration createCmmnEngineConfigurationFromInputStream(InputStream inputStream, String beanName) {
<span class="nc" id="L701">        return (CmmnEngineConfiguration) BeansConfigurationHelper.parseEngineConfigurationFromInputStream(inputStream, beanName);</span>
    }

    public static CmmnEngineConfiguration createStandaloneCmmnEngineConfiguration() {
<span class="nc" id="L705">        return new CmmnEngineConfiguration();</span>
    }

    public static CmmnEngineConfiguration createStandaloneInMemCmmnEngineConfiguration() {
<span class="nc" id="L709">        return new StandaloneInMemCmmnEngineConfiguration();</span>
    }

    public CmmnEngine buildCmmnEngine() {
<span class="nc" id="L713">        init();</span>
<span class="nc" id="L714">        CmmnEngineImpl cmmnEngine = new CmmnEngineImpl(this);</span>

<span class="nc bnc" id="L716" title="All 2 branches missed.">        if (handleCmmnEngineExecutorsAfterEngineCreate) {</span>
<span class="nc" id="L717">            cmmnEngine.startExecutors();</span>
        }

<span class="nc" id="L720">        return cmmnEngine;</span>
    }

    protected void init() {
<span class="nc" id="L724">        initEngineConfigurations();</span>
<span class="nc" id="L725">        initConfigurators();</span>
<span class="nc" id="L726">        configuratorsBeforeInit();</span>
<span class="nc" id="L727">        initClock();</span>
<span class="nc" id="L728">        initObjectMapper();</span>
<span class="nc" id="L729">        initCaseDiagramGenerator();</span>
<span class="nc" id="L730">        initCommandContextFactory();</span>
<span class="nc" id="L731">        initTransactionContextFactory();</span>
<span class="nc" id="L732">        initCommandExecutors();</span>
<span class="nc" id="L733">        initIdGenerator();</span>
<span class="nc" id="L734">        initFunctionDelegates();</span>
<span class="nc" id="L735">        initAstFunctionCreators();</span>
<span class="nc" id="L736">        initBeans();</span>
<span class="nc" id="L737">        initExpressionManager();</span>
<span class="nc" id="L738">        initMailClients();</span>
<span class="nc" id="L739">        initCmmnEngineAgendaFactory();</span>

<span class="nc bnc" id="L741" title="All 2 branches missed.">        if (usingRelationalDatabase) {</span>
<span class="nc" id="L742">            initDataSource();</span>
        }
        
<span class="nc bnc" id="L745" title="All 4 branches missed.">        if (usingRelationalDatabase || usingSchemaMgmt) {</span>
<span class="nc" id="L746">            initSchemaManager();</span>
<span class="nc" id="L747">            initSchemaManagementCommand();</span>
        }

<span class="nc" id="L750">        configureVariableServiceConfiguration();</span>
<span class="nc" id="L751">        configureJobServiceConfiguration();</span>
<span class="nc" id="L752">        initVariableTypes();</span>
<span class="nc" id="L753">        initTransactionFactory();</span>

<span class="nc bnc" id="L755" title="All 2 branches missed.">        if (usingRelationalDatabase) {</span>
<span class="nc" id="L756">            initSqlSessionFactory();</span>
        }

<span class="nc" id="L759">        initSessionFactories();</span>
<span class="nc" id="L760">        initServices();</span>
<span class="nc" id="L761">        initDataManagers();</span>
<span class="nc" id="L762">        initEntityManagers();</span>
<span class="nc" id="L763">        initClassDelegateFactory();</span>
<span class="nc" id="L764">        initActivityBehaviorFactory();</span>
<span class="nc" id="L765">        initListenerFactory();</span>
<span class="nc" id="L766">        initListenerNotificationHelper();</span>
<span class="nc" id="L767">        initDeployers();</span>
<span class="nc" id="L768">        initCaseDefinitionCache();</span>
<span class="nc" id="L769">        initDeploymentManager();</span>
<span class="nc" id="L770">        initCaseInstanceHelper();</span>
<span class="nc" id="L771">        initCandidateManager();</span>
<span class="nc" id="L772">        initVariableAggregator();</span>
<span class="nc" id="L773">        initDependentScopeTypes();</span>
<span class="nc" id="L774">        initHistoryConfigurationSettings();</span>
<span class="nc" id="L775">        initHistoryManager();</span>
<span class="nc" id="L776">        initChangeTenantIdManager();</span>
<span class="nc" id="L777">        initDynamicStateManager();</span>
<span class="nc" id="L778">        initCaseInstanceMigrationManager();</span>
<span class="nc" id="L779">        initCaseInstanceCallbacks();</span>
<span class="nc" id="L780">        initFormFieldHandler();</span>
<span class="nc" id="L781">        initCaseValidator();</span>
<span class="nc" id="L782">        initIdentityLinkInterceptor();</span>
<span class="nc" id="L783">        initEventDispatcher();</span>
<span class="nc" id="L784">        initIdentityLinkServiceConfiguration();</span>
<span class="nc" id="L785">        initEntityLinkServiceConfiguration();</span>
<span class="nc" id="L786">        initEventSubscriptionServiceConfiguration();</span>
<span class="nc" id="L787">        initVariableServiceConfiguration();</span>
<span class="nc" id="L788">        initTaskServiceConfiguration();</span>
<span class="nc" id="L789">        initBusinessCalendarManager();</span>
<span class="nc" id="L790">        initJobHandlers();</span>
<span class="nc" id="L791">        initHistoryJobHandlers();</span>
<span class="nc" id="L792">        initFailedJobCommandFactory();</span>
<span class="nc" id="L793">        initJobServiceConfiguration();</span>
<span class="nc" id="L794">        initBatchServiceConfiguration();</span>
<span class="nc" id="L795">        initAsyncTaskInvoker();</span>
<span class="nc" id="L796">        initAsyncExecutor();</span>
<span class="nc" id="L797">        initAsyncHistoryExecutor();</span>
<span class="nc" id="L798">        initScriptBindingsFactory();</span>
<span class="nc" id="L799">        initScriptingEngines();</span>
<span class="nc" id="L800">        configuratorsAfterInit();</span>
<span class="nc" id="L801">        afterInitEventRegistryEventBusConsumer();</span>
        
<span class="nc" id="L803">        initHistoryCleaningManager();</span>
<span class="nc" id="L804">    }</span>

    public void initCaseDiagramGenerator() {
<span class="nc bnc" id="L807" title="All 2 branches missed.">        if (caseDiagramGenerator == null) {</span>
<span class="nc" id="L808">            caseDiagramGenerator = new DefaultCaseDiagramGenerator();</span>
        }
<span class="nc" id="L810">    }</span>

    @Override
    public void initSchemaManager() {
<span class="nc" id="L814">        super.initSchemaManager();</span>
<span class="nc" id="L815">        initCmmnSchemaManager();</span>

<span class="nc bnc" id="L817" title="All 2 branches missed.">        if (executeServiceSchemaManagers) {</span>
<span class="nc" id="L818">            initIdentityLinkSchemaManager();</span>
<span class="nc" id="L819">            initEntityLinkSchemaManager();</span>
<span class="nc" id="L820">            initEventSubscriptionSchemaManager();</span>
<span class="nc" id="L821">            initVariableSchemaManager();</span>
<span class="nc" id="L822">            initTaskSchemaManager();</span>
<span class="nc" id="L823">            initJobSchemaManager();</span>
<span class="nc" id="L824">            initBatchSchemaManager();</span>
        }
<span class="nc" id="L826">    }</span>
    
    public void initSchemaManagementCommand() {
<span class="nc bnc" id="L829" title="All 2 branches missed.">        if (schemaManagementCmd == null) {</span>
<span class="nc bnc" id="L830" title="All 4 branches missed.">            if (usingRelationalDatabase &amp;&amp; databaseSchemaUpdate != null) {</span>
<span class="nc" id="L831">                this.schemaManagementCmd = new SchemaOperationsCmmnEngineBuild();</span>
            }
        }
<span class="nc" id="L834">    }</span>

    protected void initCmmnSchemaManager() {
<span class="nc bnc" id="L837" title="All 2 branches missed.">        if (this.schemaManager == null) {</span>
<span class="nc bnc" id="L838" title="All 2 branches missed.">            if (DATABASE_TYPE_COCKROACHDB.equals(databaseType)) {</span>
<span class="nc" id="L839">                this.schemaManager = new CmmnDbSchemaManager(CmmnDbSchemaManager.LIQUIBASE_CHANGELOG_CRDB);</span>
            } else {
<span class="nc" id="L841">                this.schemaManager = new CmmnDbSchemaManager(CmmnDbSchemaManager.LIQUIBASE_CHANGELOG);</span>
            }
        }
<span class="nc" id="L844">    }</span>

    protected void initVariableSchemaManager() {
<span class="nc bnc" id="L847" title="All 2 branches missed.">        if (this.variableSchemaManager == null) {</span>
<span class="nc" id="L848">            this.variableSchemaManager = new VariableDbSchemaManager();</span>
        }
<span class="nc" id="L850">    }</span>

    protected void initTaskSchemaManager() {
<span class="nc bnc" id="L853" title="All 2 branches missed.">        if (this.taskSchemaManager == null) {</span>
<span class="nc" id="L854">            this.taskSchemaManager = new TaskDbSchemaManager();</span>
        }
<span class="nc" id="L856">    }</span>

    protected void initIdentityLinkSchemaManager() {
<span class="nc bnc" id="L859" title="All 2 branches missed.">        if (this.identityLinkSchemaManager == null) {</span>
<span class="nc" id="L860">            this.identityLinkSchemaManager = new IdentityLinkDbSchemaManager();</span>
        }
<span class="nc" id="L862">    }</span>
    
    protected void initEntityLinkSchemaManager() {
<span class="nc bnc" id="L865" title="All 2 branches missed.">        if (this.entityLinkSchemaManager == null) {</span>
<span class="nc" id="L866">            this.entityLinkSchemaManager = new EntityLinkDbSchemaManager();</span>
        }
<span class="nc" id="L868">    }</span>
    
    protected void initEventSubscriptionSchemaManager() {
<span class="nc bnc" id="L871" title="All 2 branches missed.">        if (this.eventSubscriptionSchemaManager == null) {</span>
<span class="nc" id="L872">            this.eventSubscriptionSchemaManager = new EventSubscriptionDbSchemaManager();</span>
        }
<span class="nc" id="L874">    }</span>

    protected void initJobSchemaManager() {
<span class="nc bnc" id="L877" title="All 2 branches missed.">        if (this.jobSchemaManager == null) {</span>
<span class="nc" id="L878">            this.jobSchemaManager = new JobDbSchemaManager();</span>
        }
<span class="nc" id="L880">    }</span>

    protected void initBatchSchemaManager() {
<span class="nc bnc" id="L883" title="All 2 branches missed.">        if (this.batchSchemaManager == null) {</span>
<span class="nc" id="L884">            this.batchSchemaManager = new BatchDbSchemaManager();</span>
        }
<span class="nc" id="L886">    }</span>

    @Override
    public void initMybatisTypeHandlers(Configuration configuration) {
<span class="nc" id="L890">        super.initMybatisTypeHandlers(configuration);</span>
<span class="nc" id="L891">        configuration.getTypeHandlerRegistry().register(VariableType.class, JdbcType.VARCHAR, new IbatisVariableTypeHandler(variableTypes));</span>
<span class="nc" id="L892">    }</span>
    
    public void initFunctionDelegates() {
<span class="nc bnc" id="L895" title="All 2 branches missed.">        if (flowableFunctionDelegates == null) {</span>
<span class="nc" id="L896">            flowableFunctionDelegates = new ArrayList&lt;&gt;();</span>

<span class="nc" id="L898">            flowableFunctionDelegates.add(new VariableGetExpressionFunction());</span>
<span class="nc" id="L899">            flowableFunctionDelegates.add(new VariableGetOrDefaultExpressionFunction());</span>

<span class="nc" id="L901">            flowableFunctionDelegates.add(new VariableContainsAnyExpressionFunction());</span>
<span class="nc" id="L902">            flowableFunctionDelegates.add(new VariableContainsExpressionFunction());</span>

<span class="nc" id="L904">            flowableFunctionDelegates.add(new VariableEqualsExpressionFunction());</span>
<span class="nc" id="L905">            flowableFunctionDelegates.add(new VariableNotEqualsExpressionFunction());</span>

<span class="nc" id="L907">            flowableFunctionDelegates.add(new VariableExistsExpressionFunction());</span>
<span class="nc" id="L908">            flowableFunctionDelegates.add(new VariableIsEmptyExpressionFunction());</span>
<span class="nc" id="L909">            flowableFunctionDelegates.add(new VariableIsNotEmptyExpressionFunction());</span>

<span class="nc" id="L911">            flowableFunctionDelegates.add(new VariableLowerThanExpressionFunction());</span>
<span class="nc" id="L912">            flowableFunctionDelegates.add(new VariableLowerThanOrEqualsExpressionFunction());</span>
<span class="nc" id="L913">            flowableFunctionDelegates.add(new VariableGreaterThanExpressionFunction());</span>
<span class="nc" id="L914">            flowableFunctionDelegates.add(new VariableGreaterThanOrEqualsExpressionFunction());</span>

<span class="nc" id="L916">            flowableFunctionDelegates.add(new VariableBase64ExpressionFunction());</span>

<span class="nc" id="L918">            flowableFunctionDelegates.add(new IsStageCompletableExpressionFunction());</span>
<span class="nc" id="L919">            flowableFunctionDelegates.add(new IsPlanItemCompletedExpressionFunction());</span>
<span class="nc" id="L920">            flowableFunctionDelegates.add(new TaskGetFunctionDelegate());</span>
        }
        
<span class="nc bnc" id="L923" title="All 2 branches missed.">        if (customFlowableFunctionDelegates != null) {</span>
<span class="nc" id="L924">            flowableFunctionDelegates.addAll(customFlowableFunctionDelegates);</span>
        }
<span class="nc" id="L926">    }</span>
    
    public void initAstFunctionCreators() {
<span class="nc" id="L929">        List&lt;FlowableAstFunctionCreator&gt; astFunctionCreators = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L930" title="All 2 branches missed.">        for (FlowableFunctionDelegate flowableFunctionDelegate : flowableFunctionDelegates) {</span>
<span class="nc bnc" id="L931" title="All 2 branches missed.">            if (flowableFunctionDelegate instanceof FlowableAstFunctionCreator) {</span>
<span class="nc" id="L932">                astFunctionCreators.add((FlowableAstFunctionCreator) flowableFunctionDelegate);</span>
            }
<span class="nc" id="L934">        }</span>
        
<span class="nc bnc" id="L936" title="All 2 branches missed.">        if (this.astFunctionCreators != null) {</span>
<span class="nc" id="L937">            astFunctionCreators.addAll(this.astFunctionCreators);</span>
        }

<span class="nc" id="L940">        this.astFunctionCreators = astFunctionCreators;</span>
<span class="nc" id="L941">    }</span>

    public void initExpressionManager() {
<span class="nc bnc" id="L944" title="All 2 branches missed.">        if (expressionManager == null) {</span>
<span class="nc" id="L945">            CmmnExpressionManager cmmnExpressionManager = new CmmnExpressionManager(beans);</span>

<span class="nc bnc" id="L947" title="All 2 branches missed.">            if (preDefaultELResolvers != null) {</span>
<span class="nc" id="L948">                preDefaultELResolvers.forEach(cmmnExpressionManager::addPreDefaultResolver);</span>
            }

<span class="nc bnc" id="L951" title="All 2 branches missed.">            if (preBeanELResolvers != null) {</span>
<span class="nc" id="L952">                preBeanELResolvers.forEach(cmmnExpressionManager::addPreBeanResolver);</span>
            }

<span class="nc bnc" id="L955" title="All 2 branches missed.">            if (postDefaultELResolvers != null) {</span>
<span class="nc" id="L956">                postDefaultELResolvers.forEach(cmmnExpressionManager::addPostDefaultResolver);</span>
            }
            
<span class="nc bnc" id="L959" title="All 2 branches missed.">            if (isExpressionCacheEnabled) {</span>
<span class="nc" id="L960">                cmmnExpressionManager.setExpressionCache(new DefaultDeploymentCache&lt;&gt;(expressionCacheSize));</span>
<span class="nc" id="L961">                cmmnExpressionManager.setExpressionTextLengthCacheLimit(expressionTextLengthCacheLimit);</span>
            }

<span class="nc bnc" id="L964" title="All 2 branches missed.">            if (expressionManagerConfigurers != null) {</span>
<span class="nc" id="L965">                expressionManagerConfigurers.forEach(configurer -&gt; configurer.accept(cmmnExpressionManager));</span>
            }
            
<span class="nc" id="L968">            expressionManager = cmmnExpressionManager;</span>
        }
        
<span class="nc" id="L971">        expressionManager.setFunctionDelegates(flowableFunctionDelegates);</span>
<span class="nc" id="L972">        expressionManager.setAstFunctionCreators(astFunctionCreators);</span>
<span class="nc" id="L973">    }</span>

    public void initMailClients() {
<span class="nc bnc" id="L976" title="All 2 branches missed.">        if (defaultMailClient == null) {</span>
<span class="nc" id="L977">            String sessionJndi = getMailSessionJndi();</span>
<span class="nc bnc" id="L978" title="All 2 branches missed.">            if (sessionJndi != null) {</span>
<span class="nc" id="L979">                defaultMailClient = FlowableMailClientCreator.createSessionClient(sessionJndi, getDefaultMailServer());</span>
            } else {
<span class="nc" id="L981">                MailServerInfo mailServer = getDefaultMailServer();</span>
<span class="nc" id="L982">                String host = mailServer.getMailServerHost();</span>
<span class="nc bnc" id="L983" title="All 2 branches missed.">                if (host == null) {</span>
<span class="nc" id="L984">                    throw new FlowableException(&quot;no SMTP host is configured for the default mail server&quot;);</span>
                }
<span class="nc" id="L986">                defaultMailClient = FlowableMailClientCreator.createHostClient(host, mailServer);</span>
            }
        }

<span class="nc" id="L990">        Collection&lt;String&gt; tenantIds = new HashSet&lt;&gt;(mailSessionsJndi.keySet());</span>
<span class="nc" id="L991">        tenantIds.addAll(mailServers.keySet());</span>

<span class="nc bnc" id="L993" title="All 2 branches missed.">        if (!tenantIds.isEmpty()) {</span>
<span class="nc" id="L994">            MailServerInfo defaultMailServer = getDefaultMailServer();</span>
<span class="nc bnc" id="L995" title="All 2 branches missed.">            for (String tenantId : tenantIds) {</span>
<span class="nc bnc" id="L996" title="All 2 branches missed.">                if (mailClients.containsKey(tenantId)) {</span>
<span class="nc" id="L997">                    continue;</span>
                }
<span class="nc" id="L999">                String sessionJndi = mailSessionsJndi.get(tenantId);</span>
<span class="nc" id="L1000">                MailServerInfo tenantMailServer = mailServers.get(tenantId);</span>
<span class="nc bnc" id="L1001" title="All 2 branches missed.">                if (sessionJndi != null) {</span>
<span class="nc" id="L1002">                    mailClients.put(tenantId, FlowableMailClientCreator.createSessionClient(sessionJndi, tenantMailServer, defaultMailServer));</span>
<span class="nc bnc" id="L1003" title="All 2 branches missed.">                } else if (tenantMailServer != null) {</span>
<span class="nc" id="L1004">                    String host = tenantMailServer.getMailServerHost();</span>
<span class="nc bnc" id="L1005" title="All 2 branches missed.">                    if (host == null) {</span>
<span class="nc" id="L1006">                        throw new FlowableException(&quot;no SMTP host is configured for the mail server for tenant &quot; + tenantId);</span>
                    }
<span class="nc" id="L1008">                    mailClients.put(tenantId, FlowableMailClientCreator.createHostClient(host, tenantMailServer, defaultMailServer));</span>
                }
<span class="nc" id="L1010">            }</span>
        }
<span class="nc" id="L1012">    }</span>
    public void initCmmnEngineAgendaFactory() {
<span class="nc bnc" id="L1014" title="All 2 branches missed.">        if (cmmnEngineAgendaFactory == null) {</span>
<span class="nc" id="L1015">            cmmnEngineAgendaFactory = new DefaultCmmnEngineAgendaFactory();</span>
        }
<span class="nc" id="L1017">    }</span>

    @Override
    public void initCommandInvoker() {
<span class="nc bnc" id="L1021" title="All 2 branches missed.">        if (this.commandInvoker == null) {</span>
<span class="nc" id="L1022">            this.commandInvoker = new CmmnCommandInvoker(agendaOperationRunner, agendaOperationExecutionListeners);</span>
        }
<span class="nc" id="L1024">    }</span>

    @Override
    public void initSessionFactories() {
<span class="nc" id="L1028">        super.initSessionFactories();</span>
<span class="nc" id="L1029">        addSessionFactory(new CmmnEngineAgendaSessionFactory(cmmnEngineAgendaFactory));</span>

<span class="nc bnc" id="L1031" title="All 2 branches missed.">        if (!sessionFactories.containsKey(VariableListenerSession.class)) {</span>
<span class="nc" id="L1032">            VariableListenerSessionFactory variableListenerSessionFactory = new VariableListenerSessionFactory();</span>
<span class="nc" id="L1033">            sessionFactories.put(VariableListenerSession.class, variableListenerSessionFactory);</span>
        }
<span class="nc" id="L1035">    }</span>

    protected void initServices() {
<span class="nc" id="L1038">        initService(cmmnRuntimeService);</span>
<span class="nc" id="L1039">        initService(dynamicCmmnService);</span>
<span class="nc" id="L1040">        initService(cmmnTaskService);</span>
<span class="nc" id="L1041">        initService(cmmnManagementService);</span>
<span class="nc" id="L1042">        initService(cmmnRepositoryService);</span>
<span class="nc" id="L1043">        initService(cmmnHistoryService);</span>
<span class="nc" id="L1044">        initService(cmmnMigrationService);</span>
<span class="nc" id="L1045">    }</span>

    @Override
    public void initDataManagers() {
<span class="nc" id="L1049">        super.initDataManagers();</span>
<span class="nc bnc" id="L1050" title="All 2 branches missed.">        if (deploymentDataManager == null) {</span>
<span class="nc" id="L1051">            deploymentDataManager = new MybatisCmmnDeploymentDataManager(this);</span>
        }
<span class="nc bnc" id="L1053" title="All 2 branches missed.">        if (resourceDataManager == null) {</span>
<span class="nc" id="L1054">            resourceDataManager = new MybatisResourceDataManager(this);</span>
        }
<span class="nc bnc" id="L1056" title="All 2 branches missed.">        if (caseDefinitionDataManager == null) {</span>
<span class="nc" id="L1057">            caseDefinitionDataManager = new MybatisCaseDefinitionDataManager(this);</span>
        }
<span class="nc bnc" id="L1059" title="All 2 branches missed.">        if (caseInstanceDataManager == null) {</span>
<span class="nc" id="L1060">            caseInstanceDataManager = new MybatisCaseInstanceDataManagerImpl(this);</span>
        }
<span class="nc bnc" id="L1062" title="All 4 branches missed.">        if (dbSqlSessionFactory != null &amp;&amp; caseInstanceDataManager instanceof AbstractDataManager) {</span>
<span class="nc" id="L1063">            dbSqlSessionFactory.addLogicalEntityClassMapping(&quot;caseInstance&quot;, ((AbstractDataManager) caseInstanceDataManager).getManagedEntityClass());</span>
        }
<span class="nc bnc" id="L1065" title="All 2 branches missed.">        if (planItemInstanceDataManager == null) {</span>
<span class="nc" id="L1066">            planItemInstanceDataManager = new MybatisPlanItemInstanceDataManagerImpl(this);</span>
        }
<span class="nc bnc" id="L1068" title="All 2 branches missed.">        if (sentryPartInstanceDataManager == null) {</span>
<span class="nc" id="L1069">            sentryPartInstanceDataManager = new MybatisSentryPartInstanceDataManagerImpl(this);</span>
        }
<span class="nc bnc" id="L1071" title="All 2 branches missed.">        if (milestoneInstanceDataManager == null) {</span>
<span class="nc" id="L1072">            milestoneInstanceDataManager = new MybatisMilestoneInstanceDataManager(this);</span>
        }
<span class="nc bnc" id="L1074" title="All 2 branches missed.">        if (historicCaseInstanceDataManager == null) {</span>
<span class="nc" id="L1075">            historicCaseInstanceDataManager = new MybatisHistoricCaseInstanceDataManagerImpl(this);</span>
        }
<span class="nc bnc" id="L1077" title="All 2 branches missed.">        if (historicMilestoneInstanceDataManager == null) {</span>
<span class="nc" id="L1078">            historicMilestoneInstanceDataManager = new MybatisHistoricMilestoneInstanceDataManager(this);</span>
        }
<span class="nc bnc" id="L1080" title="All 2 branches missed.">        if (historicPlanItemInstanceDataManager == null) {</span>
<span class="nc" id="L1081">            historicPlanItemInstanceDataManager = new MybatisHistoricPlanItemInstanceDataManager(this);</span>
        }
<span class="nc" id="L1083">    }</span>

    @Override
    public void initEntityManagers() {
<span class="nc" id="L1087">        super.initEntityManagers();</span>
<span class="nc bnc" id="L1088" title="All 2 branches missed.">        if (cmmnDeploymentEntityManager == null) {</span>
<span class="nc" id="L1089">            cmmnDeploymentEntityManager = new CmmnDeploymentEntityManagerImpl(this, deploymentDataManager);</span>
        }
<span class="nc bnc" id="L1091" title="All 2 branches missed.">        if (cmmnResourceEntityManager == null) {</span>
<span class="nc" id="L1092">            cmmnResourceEntityManager = new CmmnResourceEntityManagerImpl(this, resourceDataManager);</span>
        }
<span class="nc bnc" id="L1094" title="All 2 branches missed.">        if (caseDefinitionEntityManager == null) {</span>
<span class="nc" id="L1095">            caseDefinitionEntityManager = new CaseDefinitionEntityManagerImpl(this, caseDefinitionDataManager);</span>
        }
<span class="nc bnc" id="L1097" title="All 2 branches missed.">        if (caseInstanceEntityManager == null) {</span>
<span class="nc" id="L1098">            caseInstanceEntityManager = new CaseInstanceEntityManagerImpl(this, caseInstanceDataManager);</span>
        }
<span class="nc bnc" id="L1100" title="All 2 branches missed.">        if (planItemInstanceEntityManager == null) {</span>
<span class="nc" id="L1101">            planItemInstanceEntityManager = new PlanItemInstanceEntityManagerImpl(this, planItemInstanceDataManager);</span>
        }
<span class="nc bnc" id="L1103" title="All 2 branches missed.">        if (sentryPartInstanceEntityManager == null) {</span>
<span class="nc" id="L1104">            sentryPartInstanceEntityManager = new SentryPartInstanceEntityManagerImpl(this, sentryPartInstanceDataManager);</span>
        }
<span class="nc bnc" id="L1106" title="All 2 branches missed.">        if (milestoneInstanceEntityManager == null) {</span>
<span class="nc" id="L1107">            milestoneInstanceEntityManager = new MilestoneInstanceEntityManagerImpl(this, milestoneInstanceDataManager);</span>
        }
<span class="nc bnc" id="L1109" title="All 2 branches missed.">        if (historicCaseInstanceEntityManager == null) {</span>
<span class="nc" id="L1110">            historicCaseInstanceEntityManager = new HistoricCaseInstanceEntityManagerImpl(this, historicCaseInstanceDataManager);</span>
        }
<span class="nc bnc" id="L1112" title="All 2 branches missed.">        if (historicMilestoneInstanceEntityManager == null) {</span>
<span class="nc" id="L1113">            historicMilestoneInstanceEntityManager = new HistoricMilestoneInstanceEntityManagerImpl(this, historicMilestoneInstanceDataManager);</span>
        }
<span class="nc bnc" id="L1115" title="All 2 branches missed.">        if (historicPlanItemInstanceEntityManager == null) {</span>
<span class="nc" id="L1116">            historicPlanItemInstanceEntityManager = new HistoricPlanItemInstanceEntityManagerImpl(this, historicPlanItemInstanceDataManager);</span>
        }
<span class="nc" id="L1118">    }</span>

    protected void initClassDelegateFactory() {
<span class="nc bnc" id="L1121" title="All 2 branches missed.">        if (classDelegateFactory == null) {</span>
<span class="nc" id="L1122">            classDelegateFactory = new DefaultCmmnClassDelegateFactory(expressionManager);</span>
        }
<span class="nc" id="L1124">    }</span>

    protected void initActivityBehaviorFactory() {
<span class="nc bnc" id="L1127" title="All 2 branches missed.">        if (activityBehaviorFactory == null) {</span>
<span class="nc" id="L1128">            DefaultCmmnActivityBehaviorFactory defaultCmmnActivityBehaviorFactory = new DefaultCmmnActivityBehaviorFactory();</span>
<span class="nc" id="L1129">            defaultCmmnActivityBehaviorFactory.setClassDelegateFactory(classDelegateFactory);</span>
<span class="nc" id="L1130">            defaultCmmnActivityBehaviorFactory.setExpressionManager(expressionManager);</span>
<span class="nc" id="L1131">            activityBehaviorFactory = defaultCmmnActivityBehaviorFactory;</span>
        }
<span class="nc" id="L1133">    }</span>

    protected void initListenerFactory() {
<span class="nc bnc" id="L1136" title="All 2 branches missed.">        if (listenerFactory == null) {</span>
<span class="nc" id="L1137">            listenerFactory = new DefaultCmmnListenerFactory(classDelegateFactory, expressionManager);</span>
        }
<span class="nc" id="L1139">    }</span>

    protected void initListenerNotificationHelper() {
<span class="nc bnc" id="L1142" title="All 2 branches missed.">        if (listenerNotificationHelper == null) {</span>
<span class="nc" id="L1143">            listenerNotificationHelper = new CmmnListenerNotificationHelper();</span>
        }
<span class="nc" id="L1145">    }</span>

    protected void initDeployers() {
<span class="nc bnc" id="L1148" title="All 2 branches missed.">        if (this.cmmnDeployer == null) {</span>
<span class="nc" id="L1149">            this.deployers = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L1150" title="All 2 branches missed.">            if (customPreDeployers != null) {</span>
<span class="nc" id="L1151">                this.deployers.addAll(customPreDeployers);</span>
            }
<span class="nc" id="L1153">            this.deployers.addAll(getDefaultDeployers());</span>
<span class="nc bnc" id="L1154" title="All 2 branches missed.">            if (customPostDeployers != null) {</span>
<span class="nc" id="L1155">                this.deployers.addAll(customPostDeployers);</span>
            }
        }
<span class="nc" id="L1158">    }</span>

    public Collection&lt;? extends EngineDeployer&gt; getDefaultDeployers() {
<span class="nc" id="L1161">        List&lt;EngineDeployer&gt; defaultDeployers = new ArrayList&lt;&gt;();</span>

<span class="nc bnc" id="L1163" title="All 2 branches missed.">        if (cmmnDeployer == null) {</span>
<span class="nc" id="L1164">            cmmnDeployer = new CmmnDeployer(this);</span>
        }

<span class="nc" id="L1167">        initCmmnParser();</span>
<span class="nc" id="L1168">        initCaseDefinitionDiagramHelper();</span>

<span class="nc" id="L1170">        cmmnDeployer.setIdGenerator(idGenerator);</span>
<span class="nc" id="L1171">        cmmnDeployer.setCmmnParser(cmmnParser);</span>
<span class="nc" id="L1172">        cmmnDeployer.setCaseDefinitionDiagramHelper(caseDefinitionDiagramHelper);</span>
<span class="nc" id="L1173">        cmmnDeployer.setUsePrefixId(usePrefixId);</span>

<span class="nc" id="L1175">        defaultDeployers.add(cmmnDeployer);</span>
<span class="nc" id="L1176">        return defaultDeployers;</span>
    }

    protected void initCaseDefinitionCache() {
<span class="nc bnc" id="L1180" title="All 2 branches missed.">        if (caseDefinitionCache == null) {</span>
<span class="nc bnc" id="L1181" title="All 2 branches missed.">            if (caseDefinitionCacheLimit &lt;= 0) {</span>
<span class="nc" id="L1182">                caseDefinitionCache = new DefaultDeploymentCache&lt;&gt;();</span>
            } else {
<span class="nc" id="L1184">                caseDefinitionCache = new DefaultDeploymentCache&lt;&gt;(caseDefinitionCacheLimit);</span>
            }
        }
<span class="nc" id="L1187">    }</span>

    protected void initDeploymentManager() {
<span class="nc bnc" id="L1190" title="All 2 branches missed.">        if (deploymentManager == null) {</span>
<span class="nc" id="L1191">            deploymentManager = new CmmnDeploymentManager();</span>
<span class="nc" id="L1192">            deploymentManager.setCmmnEngineConfiguration(this);</span>
<span class="nc" id="L1193">            deploymentManager.setCaseDefinitionCache(caseDefinitionCache);</span>
<span class="nc" id="L1194">            deploymentManager.setDeployers(deployers);</span>
<span class="nc" id="L1195">            deploymentManager.setCaseDefinitionEntityManager(caseDefinitionEntityManager);</span>
<span class="nc" id="L1196">            deploymentManager.setDeploymentEntityManager(cmmnDeploymentEntityManager);</span>
        }
<span class="nc" id="L1198">    }</span>

    public void initCmmnParser() {
<span class="nc bnc" id="L1201" title="All 2 branches missed.">        if (cmmnParser == null) {</span>
<span class="nc" id="L1202">            CmmnParserImpl cmmnParserImpl = new CmmnParserImpl();</span>
<span class="nc" id="L1203">            cmmnParserImpl.setActivityBehaviorFactory(activityBehaviorFactory);</span>
<span class="nc" id="L1204">            cmmnParserImpl.setExpressionManager(expressionManager);</span>

<span class="nc" id="L1206">            List&lt;CmmnParseHandler&gt; parseHandlers = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L1207" title="All 2 branches missed.">            if (getPreCmmnParseHandlers() != null) {</span>
<span class="nc" id="L1208">                parseHandlers.addAll(getPreCmmnParseHandlers());</span>
            }
<span class="nc" id="L1210">            parseHandlers.addAll(getDefaultCmmnParseHandlers());</span>
<span class="nc bnc" id="L1211" title="All 2 branches missed.">            if (getPostCmmnParseHandlers() != null) {</span>
<span class="nc" id="L1212">                parseHandlers.addAll(getPostCmmnParseHandlers());</span>
            }
<span class="nc" id="L1214">            cmmnParserImpl.setCmmnParseHandlers(new CmmnParseHandlers(parseHandlers));</span>

<span class="nc" id="L1216">            cmmnParser = cmmnParserImpl;</span>
        }
<span class="nc" id="L1218">    }</span>

    public List&lt;CmmnParseHandler&gt; getDefaultCmmnParseHandlers() {
<span class="nc" id="L1221">        List&lt;CmmnParseHandler&gt; cmmnParseHandlers = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L1222">        cmmnParseHandlers.add(new CaseParseHandler());</span>
<span class="nc" id="L1223">        cmmnParseHandlers.add(new CaseTaskParseHandler());</span>
<span class="nc" id="L1224">        cmmnParseHandlers.add(new DecisionTaskParseHandler());</span>
<span class="nc" id="L1225">        cmmnParseHandlers.add(new HumanTaskParseHandler());</span>
<span class="nc" id="L1226">        cmmnParseHandlers.add(new MilestoneParseHandler());</span>
<span class="nc" id="L1227">        cmmnParseHandlers.add(new PlanFragmentParseHandler());</span>
<span class="nc" id="L1228">        cmmnParseHandlers.add(new ProcessTaskParseHandler());</span>
<span class="nc" id="L1229">        cmmnParseHandlers.add(new ScriptTaskParseHandler());</span>
<span class="nc" id="L1230">        cmmnParseHandlers.add(new ServiceTaskParseHandler());</span>
<span class="nc" id="L1231">        cmmnParseHandlers.add(new SendEventServiceTaskParseHandler());</span>
<span class="nc" id="L1232">        cmmnParseHandlers.add(new ExternalWorkerServiceTaskParseHandler());</span>
<span class="nc" id="L1233">        cmmnParseHandlers.add(new StageParseHandler());</span>
<span class="nc" id="L1234">        cmmnParseHandlers.add(new HttpTaskParseHandler());</span>
<span class="nc" id="L1235">        cmmnParseHandlers.add(new CasePageTaskParseHandler());</span>
<span class="nc" id="L1236">        cmmnParseHandlers.add(new TaskParseHandler());</span>
<span class="nc" id="L1237">        cmmnParseHandlers.add(new GenericEventListenerParseHandler());</span>
<span class="nc" id="L1238">        cmmnParseHandlers.add(new SignalEventListenerParseHandler());</span>
<span class="nc" id="L1239">        cmmnParseHandlers.add(new TimerEventListenerParseHandler());</span>
<span class="nc" id="L1240">        cmmnParseHandlers.add(new UserEventListenerParseHandler());</span>
<span class="nc" id="L1241">        cmmnParseHandlers.add(new ReactivateEventListenerParseHandler());</span>
<span class="nc" id="L1242">        cmmnParseHandlers.add(new VariableEventListenerParseHandler());</span>

        // Replace any default handler with a custom one (if needed)
<span class="nc bnc" id="L1245" title="All 2 branches missed.">        if (getCustomCmmnParseHandlers() != null) {</span>
<span class="nc" id="L1246">            Map&lt;Class&lt;?&gt;, CmmnParseHandler&gt; customParseHandlerMap = new HashMap&lt;&gt;();</span>
<span class="nc bnc" id="L1247" title="All 2 branches missed.">            for (CmmnParseHandler cmmnParseHandler : getCustomCmmnParseHandlers()) {</span>
<span class="nc bnc" id="L1248" title="All 2 branches missed.">                for (Class&lt;?&gt; handledType : cmmnParseHandler.getHandledTypes()) {</span>
<span class="nc" id="L1249">                    customParseHandlerMap.put(handledType, cmmnParseHandler);</span>
<span class="nc" id="L1250">                }</span>
<span class="nc" id="L1251">            }</span>

<span class="nc bnc" id="L1253" title="All 2 branches missed.">            for (int i = 0; i &lt; cmmnParseHandlers.size(); i++) {</span>
                // All the default handlers support only one type
<span class="nc" id="L1255">                CmmnParseHandler defaultCmmnParseHandler = cmmnParseHandlers.get(i);</span>
<span class="nc bnc" id="L1256" title="All 2 branches missed.">                if (defaultCmmnParseHandler.getHandledTypes().size() != 1) {</span>
<span class="nc" id="L1257">                    StringBuilder supportedTypes = new StringBuilder();</span>
<span class="nc bnc" id="L1258" title="All 2 branches missed.">                    for (Class&lt;?&gt; type : defaultCmmnParseHandler.getHandledTypes()) {</span>
<span class="nc" id="L1259">                        supportedTypes.append(&quot; &quot;).append(type.getCanonicalName()).append(&quot; &quot;);</span>
<span class="nc" id="L1260">                    }</span>
<span class="nc" id="L1261">                    throw new FlowableException(&quot;The default CMMN parse handlers should only support one type, but &quot; + defaultCmmnParseHandler.getClass() + &quot; supports &quot; + supportedTypes</span>
                        + &quot;. This is likely a programmatic error&quot;);
                } else {
<span class="nc" id="L1264">                    Class&lt;?&gt; handledType = defaultCmmnParseHandler.getHandledTypes().iterator().next();</span>
<span class="nc bnc" id="L1265" title="All 2 branches missed.">                    if (customParseHandlerMap.containsKey(handledType)) {</span>
<span class="nc" id="L1266">                        CmmnParseHandler newBpmnParseHandler = customParseHandlerMap.get(handledType);</span>
<span class="nc" id="L1267">                        logger.info(&quot;Replacing default CmmnParseHandler {} with {}&quot;, defaultCmmnParseHandler.getClass().getName(), newBpmnParseHandler.getClass().getName());</span>
<span class="nc" id="L1268">                        cmmnParseHandlers.set(i, newBpmnParseHandler);</span>
                    }
                }
            }
        }

<span class="nc" id="L1274">        return cmmnParseHandlers;</span>
    }

    public void initCaseDefinitionDiagramHelper() {
<span class="nc bnc" id="L1278" title="All 2 branches missed.">        if (caseDefinitionDiagramHelper == null) {</span>
<span class="nc" id="L1279">            caseDefinitionDiagramHelper = new CaseDefinitionDiagramHelper();</span>
        }
<span class="nc" id="L1281">    }</span>

    public void initCaseInstanceHelper() {
<span class="nc bnc" id="L1284" title="All 2 branches missed.">        if (caseInstanceHelper == null) {</span>
<span class="nc" id="L1285">            caseInstanceHelper = new CaseInstanceHelperImpl(this);</span>
        }
<span class="nc" id="L1287">    }</span>
    
    public void initCandidateManager() {
<span class="nc bnc" id="L1290" title="All 2 branches missed.">        if (candidateManager == null) {</span>
<span class="nc" id="L1291">            candidateManager = new DefaultCandidateManager(this);</span>
        }
<span class="nc" id="L1293">    }</span>

    public void initVariableAggregator() {
<span class="nc bnc" id="L1296" title="All 2 branches missed.">        if (variableAggregator == null) {</span>
<span class="nc" id="L1297">            variableAggregator = new JsonPlanItemVariableAggregator(this);</span>
        }
<span class="nc" id="L1299">    }</span>

    public void initDependentScopeTypes() {
<span class="nc" id="L1302">        this.dependentScopeTypes.add(ScopeTypes.CMMN);</span>
<span class="nc" id="L1303">        this.dependentScopeTypes.add(ScopeTypes.CMMN_VARIABLE_AGGREGATION);</span>
<span class="nc" id="L1304">        this.dependentScopeTypes.add(ScopeTypes.CMMN_EXTERNAL_WORKER);</span>
<span class="nc" id="L1305">    }</span>

    public void initHistoryConfigurationSettings() {
<span class="nc bnc" id="L1308" title="All 2 branches missed.">        if (cmmnHistoryConfigurationSettings == null) {</span>
<span class="nc" id="L1309">            cmmnHistoryConfigurationSettings = new DefaultCmmnHistoryConfigurationSettings(this);</span>
        }
<span class="nc" id="L1311">    }</span>

    public void initHistoryManager() {
<span class="nc bnc" id="L1314" title="All 2 branches missed.">        if (cmmnHistoryManager == null) {</span>
<span class="nc" id="L1315">            cmmnHistoryManager = new DefaultCmmnHistoryManager(this);</span>
        }
<span class="nc" id="L1317">    }</span>

    public void initChangeTenantIdManager() {
<span class="nc bnc" id="L1320" title="All 2 branches missed.">        if (changeTenantEntityTypes == null) {</span>
<span class="nc" id="L1321">            changeTenantEntityTypes = new LinkedHashSet&lt;&gt;();</span>
        }
<span class="nc" id="L1323">        changeTenantEntityTypes.addAll(CmmnChangeTenantIdEntityTypes.RUNTIME_TYPES);</span>

<span class="nc bnc" id="L1325" title="All 2 branches missed.">        if (isDbHistoryUsed) {</span>
<span class="nc" id="L1326">            changeTenantEntityTypes.addAll(CmmnChangeTenantIdEntityTypes.HISTORIC_TYPES);</span>
        }

<span class="nc bnc" id="L1329" title="All 2 branches missed.">        if (changeTenantIdManager == null) {</span>
<span class="nc" id="L1330">            changeTenantIdManager = new MyBatisChangeTenantIdManager(commandExecutor, ScopeTypes.CMMN, changeTenantEntityTypes);</span>
        }
<span class="nc" id="L1332">    }</span>
    
    public void initDynamicStateManager() {
<span class="nc bnc" id="L1335" title="All 2 branches missed.">        if (dynamicStateManager == null) {</span>
<span class="nc" id="L1336">            dynamicStateManager = new DefaultCmmnDynamicStateManager(this);</span>
        }
<span class="nc" id="L1338">    }</span>

    public void initCaseInstanceMigrationManager() {
<span class="nc bnc" id="L1341" title="All 2 branches missed.">        if (caseInstanceMigrationManager == null) {</span>
<span class="nc" id="L1342">            caseInstanceMigrationManager = new CaseInstanceMigrationManagerImpl(this);</span>
        }
<span class="nc" id="L1344">    }</span>

    public void initCaseInstanceCallbacks() {
<span class="nc bnc" id="L1347" title="All 2 branches missed.">        if (this.caseInstanceStateChangeCallbacks == null) {</span>
<span class="nc" id="L1348">            this.caseInstanceStateChangeCallbacks = new HashMap&lt;&gt;();</span>
        }
<span class="nc" id="L1350">        initDefaultCaseInstanceCallbacks();</span>
<span class="nc" id="L1351">    }</span>

    public void initFormFieldHandler() {
<span class="nc bnc" id="L1354" title="All 2 branches missed.">        if (this.formFieldHandler == null) {</span>
<span class="nc" id="L1355">            this.formFieldHandler = new DefaultFormFieldHandler();</span>
        }
<span class="nc" id="L1357">    }</span>

    public void initCaseValidator() {
<span class="nc bnc" id="L1360" title="All 2 branches missed.">        if (this.caseValidator == null) {</span>
<span class="nc" id="L1361">            this.caseValidator = new CaseValidatorFactory().createDefaultCaseValidator();</span>
        }
<span class="nc" id="L1363">    }</span>
    
    public void initIdentityLinkInterceptor() {
<span class="nc bnc" id="L1366" title="All 2 branches missed.">        if (identityLinkInterceptor == null) {</span>
<span class="nc" id="L1367">            identityLinkInterceptor = new DefaultCmmnIdentityLinkInterceptor(this);</span>
        }
<span class="nc" id="L1369">    }</span>

    protected void initDefaultCaseInstanceCallbacks() {
<span class="nc" id="L1372">        this.caseInstanceStateChangeCallbacks.put(CallbackTypes.PLAN_ITEM_CHILD_CASE,</span>
<span class="nc" id="L1373">                Collections.singletonList(new ChildCaseInstanceStateChangeCallback()));</span>
<span class="nc" id="L1374">        this.caseInstanceStateChangeCallbacks.put(CallbackTypes.EXECUTION_CHILD_CASE,</span>
<span class="nc" id="L1375">                Collections.singletonList(new ChildBpmnCaseInstanceStateChangeCallback()));</span>
<span class="nc" id="L1376">    }</span>

    protected void initScriptBindingsFactory() {
<span class="nc bnc" id="L1379" title="All 2 branches missed.">        if (resolverFactories == null) {</span>
<span class="nc" id="L1380">            resolverFactories = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L1381" title="All 2 branches missed.">            if (preDefaultResolverFactories != null) {</span>
<span class="nc" id="L1382">                resolverFactories.addAll(preDefaultResolverFactories);</span>
            }
<span class="nc" id="L1384">            resolverFactories.add(new CmmnVariableScopeResolverFactory());</span>
<span class="nc" id="L1385">            resolverFactories.add(new BeansResolverFactory());</span>
<span class="nc bnc" id="L1386" title="All 2 branches missed.">            if (postDefaultResolverFactories != null) {</span>
<span class="nc" id="L1387">                resolverFactories.addAll(postDefaultResolverFactories);</span>
            }
        }
<span class="nc bnc" id="L1390" title="All 2 branches missed.">        if (scriptBindingsFactory == null) {</span>
<span class="nc" id="L1391">            scriptBindingsFactory = new ScriptBindingsFactory(this, resolverFactories);</span>
        }
<span class="nc" id="L1393">    }</span>

    protected void initScriptingEngines() {
<span class="nc bnc" id="L1396" title="All 2 branches missed.">        if (scriptingEngines == null) {</span>
<span class="nc" id="L1397">            scriptingEngines = new ScriptingEngines(scriptBindingsFactory);</span>
<span class="nc" id="L1398">            scriptingEngines.setDefaultTraceEnhancer(new CmmnEngineScriptTraceEnhancer());</span>
        }
<span class="nc" id="L1400">    }</span>
    
    public void afterInitEventRegistryEventBusConsumer() {
<span class="nc" id="L1403">        EventRegistryEventConsumer cmmnEventRegistryEventConsumer = null;</span>
<span class="nc bnc" id="L1404" title="All 2 branches missed.">        if (eventRegistryEventConsumer != null) {</span>
<span class="nc" id="L1405">            cmmnEventRegistryEventConsumer = eventRegistryEventConsumer;</span>
        } else {
<span class="nc" id="L1407">            cmmnEventRegistryEventConsumer = new CmmnEventRegistryEventConsumer(this);</span>
        }
        
<span class="nc" id="L1410">        addEventRegistryEventConsumer(cmmnEventRegistryEventConsumer.getConsumerKey(), cmmnEventRegistryEventConsumer);</span>
<span class="nc" id="L1411">    }</span>
    
    public void initHistoryCleaningManager() {
<span class="nc bnc" id="L1414" title="All 2 branches missed.">        if (cmmnHistoryCleaningManager == null) {</span>
<span class="nc" id="L1415">            cmmnHistoryCleaningManager = new DefaultCmmnHistoryCleaningManager(this);</span>
        }
<span class="nc" id="L1417">    }</span>

    @Override
    public String getEngineCfgKey() {
<span class="nc" id="L1421">        return EngineConfigurationConstants.KEY_CMMN_ENGINE_CONFIG;</span>
    }

    @Override
    public String getEngineScopeType() {
<span class="nc" id="L1426">        return ScopeTypes.CMMN;</span>
    }

    @Override
    public CommandInterceptor createTransactionInterceptor() {
<span class="nc" id="L1431">        return null;</span>
    }

    @Override
    public InputStream getMyBatisXmlConfigurationStream() {
<span class="nc" id="L1436">        return getResourceAsStream(DEFAULT_MYBATIS_MAPPING_FILE);</span>
    }

    @Override
    protected void initDbSqlSessionFactoryEntitySettings() {
<span class="nc" id="L1441">        defaultInitDbSqlSessionFactoryEntitySettings(EntityDependencyOrder.INSERT_ORDER, EntityDependencyOrder.DELETE_ORDER);</span>

        // Oracle doesn't support bulk inserting for historic task log entries
<span class="nc bnc" id="L1444" title="All 4 branches missed.">        if (isBulkInsertEnabled &amp;&amp; &quot;oracle&quot;.equals(databaseType)) {</span>
<span class="nc" id="L1445">            dbSqlSessionFactory.getBulkInserteableEntityClasses().remove(HistoricTaskLogEntryEntityImpl.class);</span>
        }
<span class="nc" id="L1447">    }</span>

    public void initVariableTypes() {
<span class="nc bnc" id="L1450" title="All 2 branches missed.">        if (variableTypes == null) {</span>
<span class="nc" id="L1451">            variableTypes = new DefaultVariableTypes();</span>
<span class="nc bnc" id="L1452" title="All 2 branches missed.">            if (customPreVariableTypes != null) {</span>
<span class="nc bnc" id="L1453" title="All 2 branches missed.">                for (VariableType customVariableType : customPreVariableTypes) {</span>
<span class="nc" id="L1454">                    variableTypes.addType(customVariableType);</span>
<span class="nc" id="L1455">                }</span>
            }
<span class="nc" id="L1457">            variableTypes.addType(new NullType());</span>
<span class="nc" id="L1458">            variableTypes.addType(new StringType(getMaxLengthString()));</span>
<span class="nc" id="L1459">            variableTypes.addType(new LongStringType(getMaxLengthString() + 1));</span>
<span class="nc" id="L1460">            variableTypes.addType(new BooleanType());</span>
<span class="nc" id="L1461">            variableTypes.addType(new ShortType());</span>
<span class="nc" id="L1462">            variableTypes.addType(new IntegerType());</span>
<span class="nc" id="L1463">            variableTypes.addType(new LongType());</span>
<span class="nc" id="L1464">            variableTypes.addType(new DateType());</span>
<span class="nc" id="L1465">            variableTypes.addType(new InstantType());</span>
<span class="nc" id="L1466">            variableTypes.addType(new LocalDateType());</span>
<span class="nc" id="L1467">            variableTypes.addType(new LocalDateTimeType());</span>
<span class="nc" id="L1468">            variableTypes.addType(new JodaDateType());</span>
<span class="nc" id="L1469">            variableTypes.addType(new JodaDateTimeType());</span>
<span class="nc" id="L1470">            variableTypes.addType(new DoubleType());</span>
<span class="nc" id="L1471">            variableTypes.addType(new UUIDType());</span>
<span class="nc" id="L1472">            variableTypes.addType(new JsonType(getMaxLengthString(), objectMapper, jsonVariableTypeTrackObjects));</span>
            // longJsonType only needed for reading purposes
<span class="nc" id="L1474">            variableTypes.addType(JsonType.longJsonType(getMaxLengthString(), objectMapper, jsonVariableTypeTrackObjects));</span>
<span class="nc" id="L1475">            variableTypes.addType(new CmmnAggregatedVariableType(this));</span>
<span class="nc" id="L1476">            variableTypes.addType(new ByteArrayType());</span>
<span class="nc" id="L1477">            variableTypes.addType(new EmptyCollectionType());</span>
<span class="nc" id="L1478">            variableTypes.addType(new SerializableType(serializableVariableTypeTrackDeserializedObjects));</span>

        } else {
<span class="nc bnc" id="L1481" title="All 2 branches missed.">            if (customPreVariableTypes != null) {</span>
<span class="nc bnc" id="L1482" title="All 2 branches missed.">                for (int i = customPreVariableTypes.size() - 1; i &gt;= 0; i--) {</span>
<span class="nc" id="L1483">                    VariableType customVariableType = customPreVariableTypes.get(i);</span>
<span class="nc bnc" id="L1484" title="All 2 branches missed.">                    if (variableTypes.getVariableType(customVariableType.getTypeName()) == null) {</span>
<span class="nc" id="L1485">                        variableTypes.addType(customVariableType, 0);</span>
                    }
                }
            }

<span class="nc bnc" id="L1490" title="All 2 branches missed.">            if (variableTypes.getVariableType(CmmnAggregatedVariableType.TYPE_NAME) == null) {</span>
<span class="nc" id="L1491">                variableTypes.addTypeBefore(new CmmnAggregatedVariableType(this), SerializableType.TYPE_NAME);</span>
            }

<span class="nc bnc" id="L1494" title="All 2 branches missed.">            if (variableTypes.getVariableType(EmptyCollectionType.TYPE_NAME) == null) {</span>
<span class="nc" id="L1495">                variableTypes.addTypeBefore(new EmptyCollectionType(), SerializableType.TYPE_NAME);</span>
            }
        }

<span class="nc bnc" id="L1499" title="All 2 branches missed.">        if (customPostVariableTypes != null) {</span>
<span class="nc bnc" id="L1500" title="All 2 branches missed.">            for (VariableType customVariableType : customPostVariableTypes) {</span>
<span class="nc bnc" id="L1501" title="All 2 branches missed.">                if (variableTypes.getVariableType(customVariableType.getTypeName()) == null) {</span>
<span class="nc" id="L1502">                    variableTypes.addType(customVariableType);</span>
                }
<span class="nc" id="L1504">            }</span>
        }
<span class="nc" id="L1506">    }</span>

    public void configureVariableServiceConfiguration() {
<span class="nc" id="L1509">        this.variableServiceConfiguration = instantiateVariableServiceConfiguration();</span>

<span class="nc" id="L1511">        this.variableServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1512">        this.variableServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1513">        this.variableServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1514">        this.variableServiceConfiguration.setExpressionManager(expressionManager);</span>

<span class="nc bnc" id="L1516" title="All 2 branches missed.">        if (this.internalHistoryVariableManager != null) {</span>
<span class="nc" id="L1517">            this.variableServiceConfiguration.setInternalHistoryVariableManager(this.internalHistoryVariableManager);</span>
        } else {
<span class="nc" id="L1519">            this.variableServiceConfiguration.setInternalHistoryVariableManager(new CmmnHistoryVariableManager(this));</span>
        }

<span class="nc" id="L1522">        this.variableServiceConfiguration.setMaxLengthString(this.getMaxLengthString());</span>
<span class="nc" id="L1523">        this.variableServiceConfiguration.setSerializableVariableTypeTrackDeserializedObjects(this.isSerializableVariableTypeTrackDeserializedObjects());</span>
<span class="nc" id="L1524">        this.variableServiceConfiguration.setLoggingSessionEnabled(isLoggingSessionEnabled());</span>
<span class="nc" id="L1525">        this.variableServiceConfiguration.setConfigurators(variableServiceConfigurators);</span>
<span class="nc" id="L1526">    }</span>

    public void initVariableServiceConfiguration() {
<span class="nc" id="L1529">        this.variableServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
<span class="nc" id="L1530">        this.variableServiceConfiguration.setVariableTypes(this.variableTypes);</span>

<span class="nc" id="L1532">        this.variableServiceConfiguration.init();</span>

<span class="nc" id="L1534">        addServiceConfiguration(EngineConfigurationConstants.KEY_VARIABLE_SERVICE_CONFIG, this.variableServiceConfiguration);</span>
<span class="nc" id="L1535">    }</span>

    protected VariableServiceConfiguration instantiateVariableServiceConfiguration() {
<span class="nc" id="L1538">        return new VariableServiceConfiguration(ScopeTypes.CMMN);</span>
    }

    public void initTaskServiceConfiguration() {
<span class="nc" id="L1542">        this.taskServiceConfiguration = instantiateTaskServiceConfiguration();</span>
<span class="nc" id="L1543">        this.taskServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1544">        this.taskServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1545">        this.taskServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1546">        this.taskServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
<span class="nc" id="L1547">        this.taskServiceConfiguration.setEnableHistoricTaskLogging(this.enableHistoricTaskLogging);</span>

<span class="nc bnc" id="L1549" title="All 2 branches missed.">        if (this.taskPostProcessor != null) {</span>
<span class="nc" id="L1550">            this.taskServiceConfiguration.setTaskPostProcessor(this.taskPostProcessor);</span>
        } else {
<span class="nc" id="L1552">            this.taskServiceConfiguration.setTaskPostProcessor(new DefaultTaskPostProcessor());</span>
        }

<span class="nc bnc" id="L1555" title="All 2 branches missed.">        if (this.internalHistoryTaskManager != null) {</span>
<span class="nc" id="L1556">            this.taskServiceConfiguration.setInternalHistoryTaskManager(this.internalHistoryTaskManager);</span>
        } else {
<span class="nc" id="L1558">            this.taskServiceConfiguration.setInternalHistoryTaskManager(new CmmnHistoryTaskManager(this));</span>
        }

<span class="nc bnc" id="L1561" title="All 2 branches missed.">        if (this.internalTaskVariableScopeResolver != null) {</span>
<span class="nc" id="L1562">            this.taskServiceConfiguration.setInternalTaskVariableScopeResolver(this.internalTaskVariableScopeResolver);</span>
        } else {
<span class="nc" id="L1564">            this.taskServiceConfiguration.setInternalTaskVariableScopeResolver(new DefaultCmmnTaskVariableScopeResolver(this));</span>
        }

<span class="nc bnc" id="L1567" title="All 2 branches missed.">        if (this.internalTaskAssignmentManager != null) {</span>
<span class="nc" id="L1568">            this.taskServiceConfiguration.setInternalTaskAssignmentManager(this.internalTaskAssignmentManager);</span>
        } else {
<span class="nc" id="L1570">            this.taskServiceConfiguration.setInternalTaskAssignmentManager(new DefaultTaskAssignmentManager(this));</span>
        }

<span class="nc" id="L1573">        this.taskServiceConfiguration.setEnableTaskRelationshipCounts(this.isEnableTaskRelationshipCounts);</span>

<span class="nc" id="L1575">        this.taskServiceConfiguration.setConfigurators(this.taskServiceConfigurators);</span>
<span class="nc" id="L1576">        this.taskServiceConfiguration.init();</span>

<span class="nc bnc" id="L1578" title="All 4 branches missed.">        if (dbSqlSessionFactory != null &amp;&amp; taskServiceConfiguration.getTaskDataManager() instanceof AbstractDataManager) {</span>
<span class="nc" id="L1579">            dbSqlSessionFactory.addLogicalEntityClassMapping(&quot;task&quot;, ((AbstractDataManager) taskServiceConfiguration.getTaskDataManager()).getManagedEntityClass());</span>
        }

<span class="nc" id="L1582">        addServiceConfiguration(EngineConfigurationConstants.KEY_TASK_SERVICE_CONFIG, this.taskServiceConfiguration);</span>
<span class="nc" id="L1583">    }</span>

    protected TaskServiceConfiguration instantiateTaskServiceConfiguration() {
<span class="nc" id="L1586">        return new TaskServiceConfiguration(ScopeTypes.CMMN);</span>
    }

    public void initIdentityLinkServiceConfiguration() {
<span class="nc" id="L1590">        this.identityLinkServiceConfiguration = instantiateIdentityLinkServiceConfiguration();</span>
<span class="nc" id="L1591">        this.identityLinkServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1592">        this.identityLinkServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1593">        this.identityLinkServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1594">        this.identityLinkServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
<span class="nc" id="L1595">        this.identityLinkServiceConfiguration.setIdentityLinkEventHandler(this.identityLinkEventHandler);</span>

<span class="nc" id="L1597">        this.identityLinkServiceConfiguration.setConfigurators(this.identityLinkServiceConfigurators);</span>
<span class="nc" id="L1598">        this.identityLinkServiceConfiguration.init();</span>

<span class="nc" id="L1600">        addServiceConfiguration(EngineConfigurationConstants.KEY_IDENTITY_LINK_SERVICE_CONFIG, this.identityLinkServiceConfiguration);</span>
<span class="nc" id="L1601">    }</span>

    protected IdentityLinkServiceConfiguration instantiateIdentityLinkServiceConfiguration() {
<span class="nc" id="L1604">        return new IdentityLinkServiceConfiguration(ScopeTypes.CMMN);</span>
    }
    
    public void initEntityLinkServiceConfiguration() {
<span class="nc bnc" id="L1608" title="All 2 branches missed.">        if (this.enableEntityLinks) {</span>
<span class="nc" id="L1609">            this.entityLinkServiceConfiguration = instantiateEntityLinkServiceConfiguration();</span>
<span class="nc" id="L1610">            this.entityLinkServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1611">            this.entityLinkServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1612">            this.entityLinkServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1613">            this.entityLinkServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
    
<span class="nc" id="L1615">            this.entityLinkServiceConfiguration.setConfigurators(this.entityLinkServiceConfigurators);</span>
<span class="nc" id="L1616">            this.entityLinkServiceConfiguration.init();</span>
    
<span class="nc" id="L1618">            addServiceConfiguration(EngineConfigurationConstants.KEY_ENTITY_LINK_SERVICE_CONFIG, this.entityLinkServiceConfiguration);</span>
        }
<span class="nc" id="L1620">    }</span>

    protected EntityLinkServiceConfiguration instantiateEntityLinkServiceConfiguration() {
<span class="nc" id="L1623">        return new EntityLinkServiceConfiguration(ScopeTypes.CMMN);</span>
    }
    
    public void initEventSubscriptionServiceConfiguration() {
<span class="nc" id="L1627">        this.eventSubscriptionServiceConfiguration = instantiateEventSubscriptionServiceConfiguration();</span>
<span class="nc" id="L1628">        this.eventSubscriptionServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1629">        this.eventSubscriptionServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1630">        this.eventSubscriptionServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1631">        this.eventSubscriptionServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
<span class="nc" id="L1632">        this.eventSubscriptionServiceConfiguration.setEventSubscriptionLockTime(this.eventRegistryUniqueCaseInstanceStartLockTime);</span>
        
<span class="nc" id="L1634">        this.eventSubscriptionServiceConfiguration.setConfigurators(this.eventSubscriptionServiceConfigurators);</span>
<span class="nc" id="L1635">        this.eventSubscriptionServiceConfiguration.init();</span>

<span class="nc" id="L1637">        addServiceConfiguration(EngineConfigurationConstants.KEY_EVENT_SUBSCRIPTION_SERVICE_CONFIG, this.eventSubscriptionServiceConfiguration);</span>
<span class="nc" id="L1638">    }</span>
    
    protected EventSubscriptionServiceConfiguration instantiateEventSubscriptionServiceConfiguration() {
<span class="nc" id="L1641">        return new EventSubscriptionServiceConfiguration(ScopeTypes.CMMN);</span>
    }

    public void initBusinessCalendarManager() {
<span class="nc bnc" id="L1645" title="All 2 branches missed.">        if (businessCalendarManager == null) {</span>
<span class="nc" id="L1646">            MapBusinessCalendarManager mapBusinessCalendarManager = new MapBusinessCalendarManager();</span>
<span class="nc" id="L1647">            mapBusinessCalendarManager.addBusinessCalendar(DurationBusinessCalendar.NAME, new DurationBusinessCalendar(this.clock));</span>
<span class="nc" id="L1648">            mapBusinessCalendarManager.addBusinessCalendar(DueDateBusinessCalendar.NAME, new DueDateBusinessCalendar(this.clock));</span>
<span class="nc" id="L1649">            mapBusinessCalendarManager.addBusinessCalendar(CycleBusinessCalendar.NAME, new CycleBusinessCalendar(this.clock));</span>

<span class="nc" id="L1651">            businessCalendarManager = mapBusinessCalendarManager;</span>
        }
<span class="nc" id="L1653">    }</span>

    public void initJobHandlers() {
<span class="nc" id="L1656">        jobHandlers = new HashMap&lt;&gt;();</span>
<span class="nc" id="L1657">        jobHandlers.put(TriggerTimerEventJobHandler.TYPE, new TriggerTimerEventJobHandler());</span>
<span class="nc" id="L1658">        jobHandlers.put(AsyncActivatePlanItemInstanceJobHandler.TYPE, new AsyncActivatePlanItemInstanceJobHandler());</span>
<span class="nc" id="L1659">        jobHandlers.put(AsyncLeaveActivePlanItemInstanceJobHandler.TYPE, new AsyncLeaveActivePlanItemInstanceJobHandler());</span>
<span class="nc" id="L1660">        jobHandlers.put(AsyncInitializePlanModelJobHandler.TYPE, new AsyncInitializePlanModelJobHandler());</span>
<span class="nc" id="L1661">        jobHandlers.put(CmmnHistoryCleanupJobHandler.TYPE, new CmmnHistoryCleanupJobHandler());</span>
<span class="nc" id="L1662">        jobHandlers.put(ExternalWorkerTaskCompleteJobHandler.TYPE, new ExternalWorkerTaskCompleteJobHandler(this));</span>
<span class="nc" id="L1663">        addJobHandler(new CaseInstanceMigrationJobHandler());</span>
<span class="nc" id="L1664">        addJobHandler(new CaseInstanceMigrationStatusJobHandler());</span>
<span class="nc" id="L1665">        addJobHandler(new HistoricCaseInstanceMigrationJobHandler());</span>
<span class="nc" id="L1666">        addJobHandler(new ComputeDeleteHistoricCaseInstanceIdsJobHandler());</span>
<span class="nc" id="L1667">        addJobHandler(new ComputeDeleteHistoricCaseInstanceStatusJobHandler());</span>
<span class="nc" id="L1668">        addJobHandler(new DeleteHistoricCaseInstanceIdsJobHandler());</span>
<span class="nc" id="L1669">        addJobHandler(new DeleteHistoricCaseInstancesSequentialJobHandler());</span>
<span class="nc" id="L1670">        addJobHandler(new DeleteHistoricCaseInstanceIdsStatusJobHandler());</span>

        // if we have custom job handlers, register them
<span class="nc bnc" id="L1673" title="All 2 branches missed.">        if (customJobHandlers != null) {</span>
<span class="nc bnc" id="L1674" title="All 2 branches missed.">            for (JobHandler customJobHandler : customJobHandlers) {</span>
<span class="nc" id="L1675">                jobHandlers.put(customJobHandler.getType(), customJobHandler);</span>
<span class="nc" id="L1676">            }</span>
        }
<span class="nc" id="L1678">    }</span>
    
    protected void initHistoryJobHandlers() {
<span class="nc bnc" id="L1681" title="All 2 branches missed.">        if (isAsyncHistoryEnabled) {</span>
<span class="nc" id="L1682">            historyJobHandlers = new HashMap&lt;&gt;();</span>

<span class="nc bnc" id="L1684" title="All 2 branches missed.">            if (getCustomHistoryJobHandlers() != null) {</span>
<span class="nc bnc" id="L1685" title="All 2 branches missed.">                for (HistoryJobHandler customJobHandler : getCustomHistoryJobHandlers()) {</span>
<span class="nc" id="L1686">                    historyJobHandlers.put(customJobHandler.getType(), customJobHandler);</span>
<span class="nc" id="L1687">                }</span>
            }
        }
<span class="nc" id="L1690">    }</span>

    public void initFailedJobCommandFactory() {
<span class="nc bnc" id="L1693" title="All 2 branches missed.">        if (this.failedJobCommandFactory == null) {</span>
<span class="nc" id="L1694">            this.failedJobCommandFactory = new FailedJobCommandFactory() {</span>
                @Override
                public Command&lt;Object&gt; getCommand(String jobId, Throwable exception) {
<span class="nc" id="L1697">                    return new JobRetryCmd(jobId, exception);</span>
                }
            };
        }
<span class="nc" id="L1701">    }</span>

    public void configureJobServiceConfiguration() {
<span class="nc bnc" id="L1704" title="All 2 branches missed.">        if (jobServiceConfiguration == null) {</span>
<span class="nc" id="L1705">            this.jobServiceConfiguration = instantiateJobServiceConfiguration();</span>
<span class="nc" id="L1706">            this.jobServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1707">            this.jobServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1708">            this.jobServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1709">            this.jobServiceConfiguration.setCommandExecutor(this.commandExecutor);</span>
<span class="nc" id="L1710">            this.jobServiceConfiguration.setExpressionManager(this.expressionManager);</span>
    
<span class="nc" id="L1712">            List&lt;AsyncRunnableExecutionExceptionHandler&gt; exceptionHandlers = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L1713" title="All 2 branches missed.">            if (customAsyncRunnableExecutionExceptionHandlers != null) {</span>
<span class="nc" id="L1714">                exceptionHandlers.addAll(customAsyncRunnableExecutionExceptionHandlers);</span>
            }
    
<span class="nc bnc" id="L1717" title="All 2 branches missed.">            if (this.internalJobParentStateResolver != null) {</span>
<span class="nc" id="L1718">                this.jobServiceConfiguration.setJobParentStateResolver(this.internalJobParentStateResolver);</span>
            } else {
<span class="nc" id="L1720">                this.jobServiceConfiguration.setJobParentStateResolver(new DefaultCmmnJobParentStateResolver(this));</span>
            }
    
<span class="nc bnc" id="L1723" title="All 2 branches missed.">            if (addDefaultExceptionHandler) {</span>
<span class="nc" id="L1724">                exceptionHandlers.add(new DefaultAsyncRunnableExecutionExceptionHandler());</span>
            }
    
<span class="nc" id="L1727">            this.jobServiceConfiguration.setAsyncRunnableExecutionExceptionHandlers(exceptionHandlers);</span>
<span class="nc" id="L1728">            this.jobServiceConfiguration.setAsyncExecutorNumberOfRetries(this.asyncExecutorNumberOfRetries);</span>
<span class="nc" id="L1729">            this.jobServiceConfiguration.setAsyncExecutorResetExpiredJobsMaxTimeout(this.asyncExecutorResetExpiredJobsMaxTimeout);</span>
    
<span class="nc bnc" id="L1731" title="All 2 branches missed.">            if (this.jobManager != null) {</span>
<span class="nc" id="L1732">                this.jobServiceConfiguration.setJobManager(this.jobManager);</span>
            }
    
<span class="nc bnc" id="L1735" title="All 2 branches missed.">            if (this.internalJobManager != null) {</span>
<span class="nc" id="L1736">                this.jobServiceConfiguration.setInternalJobManager(this.internalJobManager);</span>
            } else {
<span class="nc" id="L1738">                this.jobServiceConfiguration.setInternalJobManager(new DefaultInternalCmmnJobManager(this));</span>
            }

<span class="nc" id="L1741">            this.jobServiceConfiguration.setJobExecutionScope(this.jobExecutionScope);</span>
<span class="nc" id="L1742">            this.jobServiceConfiguration.setHistoryJobExecutionScope(this.historyJobExecutionScope);</span>
            
<span class="nc bnc" id="L1744" title="All 2 branches missed.">            if (enabledJobCategories != null) {</span>
<span class="nc" id="L1745">                this.jobServiceConfiguration.setEnabledJobCategories(enabledJobCategories);</span>
            }

<span class="nc" id="L1748">            this.jobServiceConfiguration.setConfigurators(jobServiceConfigurators);</span>
        }
<span class="nc" id="L1750">    }</span>

    public void initJobServiceConfiguration() {
<span class="nc" id="L1753">        this.jobServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>
<span class="nc" id="L1754">        this.jobServiceConfiguration.setBusinessCalendarManager(this.businessCalendarManager);</span>
<span class="nc" id="L1755">        this.jobServiceConfiguration.setFailedJobCommandFactory(this.failedJobCommandFactory);</span>

<span class="nc" id="L1757">        this.jobServiceConfiguration.init();</span>
        
<span class="nc bnc" id="L1759" title="All 2 branches missed.">        if (this.jobHandlers != null) {</span>
<span class="nc bnc" id="L1760" title="All 2 branches missed.">            for (String type : this.jobHandlers.keySet()) {</span>
<span class="nc" id="L1761">                this.jobServiceConfiguration.addJobHandler(type, this.jobHandlers.get(type));</span>
<span class="nc" id="L1762">            }</span>
        }
        
<span class="nc bnc" id="L1765" title="All 2 branches missed.">        if (this.historyJobHandlers != null) {</span>
<span class="nc bnc" id="L1766" title="All 2 branches missed.">            for (String type : this.historyJobHandlers.keySet()) {</span>
<span class="nc" id="L1767">                this.jobServiceConfiguration.addHistoryJobHandler(type, this.historyJobHandlers.get(type));</span>
<span class="nc" id="L1768">            }</span>
        }

<span class="nc" id="L1771">        addServiceConfiguration(EngineConfigurationConstants.KEY_JOB_SERVICE_CONFIG, this.jobServiceConfiguration);</span>
<span class="nc" id="L1772">    }</span>

    protected JobServiceConfiguration instantiateJobServiceConfiguration() {
<span class="nc" id="L1775">        return new JobServiceConfiguration(ScopeTypes.CMMN);</span>
    }
    
    public void addJobHandler(JobHandler jobHandler) {
<span class="nc" id="L1779">        this.jobHandlers.put(jobHandler.getType(), jobHandler);</span>
<span class="nc bnc" id="L1780" title="All 2 branches missed.">        if (this.jobServiceConfiguration != null) {</span>
<span class="nc" id="L1781">            this.jobServiceConfiguration.addJobHandler(jobHandler.getType(), jobHandler);</span>
        }
<span class="nc" id="L1783">    }</span>
    
    public void addHistoryJobHandler(HistoryJobHandler historyJobHandler) {
<span class="nc" id="L1786">        this.historyJobHandlers.put(historyJobHandler.getType(), historyJobHandler);</span>
<span class="nc bnc" id="L1787" title="All 2 branches missed.">        if (this.jobServiceConfiguration != null) {</span>
<span class="nc" id="L1788">            this.jobServiceConfiguration.addHistoryJobHandler(historyJobHandler.getType(), historyJobHandler);</span>
        }
<span class="nc" id="L1790">    }</span>

    protected void initAsyncTaskExecutor() {
<span class="nc bnc" id="L1793" title="All 2 branches missed.">        if (this.asyncTaskExecutor == null) {</span>
<span class="nc" id="L1794">            DefaultAsyncTaskExecutor defaultAsyncTaskExecutor = new DefaultAsyncTaskExecutor(getOrCreateAsyncExecutorTaskExecutorConfiguration());</span>

            // Threadpool queue
<span class="nc bnc" id="L1797" title="All 2 branches missed.">            if (asyncExecutorThreadPoolQueue != null) {</span>
<span class="nc" id="L1798">                defaultAsyncTaskExecutor.setThreadPoolQueue(asyncExecutorThreadPoolQueue);</span>
            }

<span class="nc" id="L1801">            defaultAsyncTaskExecutor.setThreadFactory(asyncExecutorThreadFactory);</span>

<span class="nc" id="L1803">            defaultAsyncTaskExecutor.start();</span>
<span class="nc" id="L1804">            this.shutdownAsyncTaskExecutor = true;</span>

<span class="nc" id="L1806">            this.asyncTaskExecutor = defaultAsyncTaskExecutor;</span>
        }

<span class="nc" id="L1809">    }</span>

    protected void initAsyncTaskInvoker() {
<span class="nc bnc" id="L1812" title="All 2 branches missed.">        if (this.asyncTaskInvokerTaskExecutor == null) {</span>
<span class="nc" id="L1813">            DefaultAsyncTaskExecutor defaultAsyncTaskInvokerExecutor = new DefaultAsyncTaskExecutor(getOrCreateAsyncTaskInvokerTaskExecutorConfiguration());</span>
<span class="nc" id="L1814">            defaultAsyncTaskInvokerExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());</span>

<span class="nc" id="L1816">            defaultAsyncTaskInvokerExecutor.start();</span>
<span class="nc" id="L1817">            this.shutdownAsyncTaskInvokerTaskExecutor = true;</span>

<span class="nc" id="L1819">            this.asyncTaskInvokerTaskExecutor = defaultAsyncTaskInvokerExecutor;</span>
        }

<span class="nc bnc" id="L1822" title="All 2 branches missed.">        if (this.asyncTaskInvoker == null) {</span>
<span class="nc" id="L1823">            this.asyncTaskInvoker = new DefaultAsyncTaskInvoker(asyncTaskInvokerTaskExecutor);</span>
        }
<span class="nc" id="L1825">    }</span>

    public void initAsyncExecutor() {
<span class="nc" id="L1828">        initAsyncTaskExecutor();</span>
<span class="nc bnc" id="L1829" title="All 2 branches missed.">        if (asyncExecutor == null) {</span>
<span class="nc" id="L1830">            DefaultAsyncJobExecutor defaultAsyncExecutor = new DefaultAsyncJobExecutor(asyncExecutorConfiguration);</span>
<span class="nc bnc" id="L1831" title="All 2 branches missed.">            if (asyncExecutorExecuteAsyncRunnableFactory != null) {</span>
<span class="nc" id="L1832">                defaultAsyncExecutor.setExecuteAsyncRunnableFactory(asyncExecutorExecuteAsyncRunnableFactory);</span>
            }

<span class="nc" id="L1835">            asyncExecutor = defaultAsyncExecutor;</span>
        }

        // Task executor
<span class="nc bnc" id="L1839" title="All 2 branches missed.">        if (asyncExecutor.getTaskExecutor() == null) {</span>
<span class="nc" id="L1840">            asyncExecutor.setTaskExecutor(asyncTaskExecutor);</span>
        }

<span class="nc" id="L1843">        asyncExecutor.setJobServiceConfiguration(jobServiceConfiguration);</span>
<span class="nc" id="L1844">        asyncExecutor.setAutoActivate(asyncExecutorActivate);</span>
<span class="nc" id="L1845">        jobServiceConfiguration.setAsyncExecutor(asyncExecutor);</span>
<span class="nc" id="L1846">    }</span>
    
    protected void initAsyncHistoryTaskExecutor() {
<span class="nc bnc" id="L1849" title="All 2 branches missed.">        if (this.asyncHistoryTaskExecutor == null) {</span>
<span class="nc" id="L1850">            DefaultAsyncTaskExecutor defaultAsyncTaskExecutor = new DefaultAsyncTaskExecutor(getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration());</span>

            // Threadpool queue
<span class="nc bnc" id="L1853" title="All 2 branches missed.">            if (asyncHistoryExecutorThreadPoolQueue != null) {</span>
<span class="nc" id="L1854">                defaultAsyncTaskExecutor.setThreadPoolQueue(asyncHistoryExecutorThreadPoolQueue);</span>
            }

<span class="nc" id="L1857">            defaultAsyncTaskExecutor.start();</span>
<span class="nc" id="L1858">            shutdownAsyncHistoryTaskExecutor = true;</span>

<span class="nc" id="L1860">            this.asyncHistoryTaskExecutor = defaultAsyncTaskExecutor;</span>
        }
<span class="nc" id="L1862">    }</span>

    public void initAsyncHistoryExecutor() {
<span class="nc bnc" id="L1865" title="All 2 branches missed.">        if (isAsyncHistoryEnabled) {</span>
<span class="nc" id="L1866">            initAsyncHistoryTaskExecutor();</span>
            
<span class="nc bnc" id="L1868" title="All 2 branches missed.">            if (asyncHistoryExecutor == null) {</span>
<span class="nc" id="L1869">                DefaultAsyncHistoryJobExecutor defaultAsyncHistoryExecutor = new DefaultAsyncHistoryJobExecutor(getOrCreateAsyncHistoryExecutorConfiguration());</span>

<span class="nc" id="L1871">                asyncHistoryExecutor = defaultAsyncHistoryExecutor;</span>
                
<span class="nc bnc" id="L1873" title="All 2 branches missed.">                if (asyncHistoryExecutor.getJobServiceConfiguration() == null) {</span>
<span class="nc" id="L1874">                    asyncHistoryExecutor.setJobServiceConfiguration(jobServiceConfiguration);</span>
                }
                
<span class="nc" id="L1877">            } else {</span>
                // In case an async history executor was injected, only the job handlers are set. 
                // In the normal case, these are set on the jobServiceConfiguration, but these are not shared between instances
<span class="nc bnc" id="L1880" title="All 2 branches missed.">                if (historyJobHandlers != null) {</span>
<span class="nc bnc" id="L1881" title="All 2 branches missed.">                    if (asyncHistoryExecutor.getJobServiceConfiguration() == null) {</span>
<span class="nc" id="L1882">                        asyncHistoryExecutor.setJobServiceConfiguration(jobServiceConfiguration);</span>
                    }
<span class="nc" id="L1884">                    historyJobHandlers.forEach((type, handler) -&gt; asyncHistoryExecutor.getJobServiceConfiguration().addHistoryJobHandler(type, handler));</span>
                }
                
            }
        }

<span class="nc bnc" id="L1890" title="All 2 branches missed.">        if (asyncHistoryExecutor != null) {</span>

            // Task executor
<span class="nc bnc" id="L1893" title="All 2 branches missed.">            if (asyncHistoryExecutor.getTaskExecutor() == null) {</span>
<span class="nc" id="L1894">                asyncHistoryExecutor.setTaskExecutor(asyncHistoryTaskExecutor);</span>
            }
<span class="nc" id="L1896">            jobServiceConfiguration.setAsyncHistoryExecutor(asyncHistoryExecutor);</span>
<span class="nc" id="L1897">            jobServiceConfiguration.setAsyncHistoryExecutorNumberOfRetries(asyncHistoryExecutorNumberOfRetries);</span>

<span class="nc" id="L1899">            asyncHistoryExecutor.setAutoActivate(asyncHistoryExecutorActivate);</span>
        }
<span class="nc" id="L1901">    }</span>

    protected AsyncJobExecutorConfiguration getOrCreateAsyncHistoryExecutorConfiguration() {
<span class="nc bnc" id="L1904" title="All 2 branches missed.">        if (asyncHistoryExecutorConfiguration == null) {</span>
<span class="nc" id="L1905">            asyncHistoryExecutorConfiguration = new AsyncJobExecutorConfiguration();</span>
        }

<span class="nc" id="L1908">        return asyncHistoryExecutorConfiguration;</span>
    }

    public void initBatchServiceConfiguration() {
<span class="nc bnc" id="L1912" title="All 2 branches missed.">        if (batchServiceConfiguration == null) {</span>
<span class="nc" id="L1913">            this.batchServiceConfiguration = instantiateBatchServiceConfiguration();</span>
<span class="nc" id="L1914">            this.batchServiceConfiguration.setClock(this.clock);</span>
<span class="nc" id="L1915">            this.batchServiceConfiguration.setIdGenerator(this.idGenerator);</span>
<span class="nc" id="L1916">            this.batchServiceConfiguration.setObjectMapper(this.objectMapper);</span>
<span class="nc" id="L1917">            this.batchServiceConfiguration.setEventDispatcher(this.eventDispatcher);</span>

<span class="nc" id="L1919">            this.batchServiceConfiguration.setConfigurators(this.batchServiceConfigurators);</span>
<span class="nc" id="L1920">            this.batchServiceConfiguration.init();</span>
        }

<span class="nc" id="L1923">        addServiceConfiguration(EngineConfigurationConstants.KEY_BATCH_SERVICE_CONFIG, this.batchServiceConfiguration);</span>
<span class="nc" id="L1924">    }</span>

    protected BatchServiceConfiguration instantiateBatchServiceConfiguration() {
<span class="nc" id="L1927">        return new BatchServiceConfiguration(ScopeTypes.CMMN);</span>
    }

    @Override
    public void close() {
<span class="nc" id="L1932">        super.close();</span>

<span class="nc bnc" id="L1934" title="All 4 branches missed.">        if (asyncTaskExecutor != null &amp;&amp; shutdownAsyncTaskExecutor) {</span>
            // Only shutdown if it was created by this configuration
<span class="nc" id="L1936">            asyncTaskExecutor.shutdown();</span>
        }

<span class="nc bnc" id="L1939" title="All 4 branches missed.">        if (asyncHistoryTaskExecutor != null &amp;&amp; shutdownAsyncHistoryTaskExecutor) {</span>
            // Only shutdown if it was created by this configuration
<span class="nc" id="L1941">            asyncHistoryTaskExecutor.shutdown();</span>
        }

<span class="nc bnc" id="L1944" title="All 4 branches missed.">        if (asyncTaskInvokerTaskExecutor != null &amp;&amp; shutdownAsyncTaskInvokerTaskExecutor) {</span>
            // Only shutdown if it was created by this configuration
<span class="nc" id="L1946">            asyncTaskInvokerTaskExecutor.shutdown();</span>
        }

<span class="nc" id="L1949">        httpClientConfig.close();</span>
<span class="nc" id="L1950">    }</span>

    @Override
    protected List&lt;EngineConfigurator&gt; getEngineSpecificEngineConfigurators() {
<span class="nc bnc" id="L1954" title="All 4 branches missed.">        if (!disableIdmEngine || !disableEventRegistry) {</span>
<span class="nc" id="L1955">            List&lt;EngineConfigurator&gt; specificConfigurators = new ArrayList&lt;&gt;();</span>
            
<span class="nc bnc" id="L1957" title="All 2 branches missed.">            if (!disableIdmEngine) {</span>
<span class="nc bnc" id="L1958" title="All 2 branches missed.">                if (idmEngineConfigurator != null) {</span>
<span class="nc" id="L1959">                    specificConfigurators.add(idmEngineConfigurator);</span>
                } else {
<span class="nc" id="L1961">                    specificConfigurators.add(new IdmEngineConfigurator());</span>
                }
            }
            
<span class="nc bnc" id="L1965" title="All 2 branches missed.">            if (!disableEventRegistry) {</span>
<span class="nc bnc" id="L1966" title="All 2 branches missed.">                if (eventRegistryConfigurator != null) {</span>
<span class="nc" id="L1967">                    specificConfigurators.add(eventRegistryConfigurator);</span>
                } else {
<span class="nc" id="L1969">                    specificConfigurators.add(createDefaultEventRegistryEngineConfigurator());</span>
                }
            }
            
<span class="nc" id="L1973">            return specificConfigurators;</span>
        }
<span class="nc" id="L1975">        return Collections.emptyList();</span>
    }

    protected EngineConfigurator createDefaultEventRegistryEngineConfigurator() {
<span class="nc" id="L1979">        return new EventRegistryEngineConfigurator();</span>
    }

    @Override
    public String getEngineName() {
<span class="nc" id="L1984">        return cmmnEngineName;</span>
    }

    public String getCmmnEngineName() {
<span class="nc" id="L1988">        return cmmnEngineName;</span>
    }

    public CmmnEngineConfiguration setCmmnEngineName(String cmmnEngineName) {
<span class="nc" id="L1992">        this.cmmnEngineName = cmmnEngineName;</span>
<span class="nc" id="L1993">        return this;</span>
    }

    @Override
    public CmmnRuntimeService getCmmnRuntimeService() {
<span class="nc" id="L1998">        return cmmnRuntimeService;</span>
    }

    public CmmnEngineConfiguration setCmmnRuntimeService(CmmnRuntimeService cmmnRuntimeService) {
<span class="nc" id="L2002">        this.cmmnRuntimeService = cmmnRuntimeService;</span>
<span class="nc" id="L2003">        return this;</span>
    }

    @Override
    public DynamicCmmnService getDynamicCmmnService() {
<span class="nc" id="L2008">        return dynamicCmmnService;</span>
    }

    public CmmnEngineConfiguration setDynamicCmmnService(DynamicCmmnService dynamicCmmnService) {
<span class="nc" id="L2012">        this.dynamicCmmnService = dynamicCmmnService;</span>
<span class="nc" id="L2013">        return this;</span>
    }

    @Override
    public CmmnTaskService getCmmnTaskService() {
<span class="nc" id="L2018">        return cmmnTaskService;</span>
    }

    public CmmnEngineConfiguration setCmmnTaskService(CmmnTaskService cmmnTaskService) {
<span class="nc" id="L2022">        this.cmmnTaskService = cmmnTaskService;</span>
<span class="nc" id="L2023">        return this;</span>
    }

    @Override
    public CmmnManagementService getCmmnManagementService() {
<span class="nc" id="L2028">        return cmmnManagementService;</span>
    }

    public CmmnEngineConfiguration setCmmnManagementService(CmmnManagementService cmmnManagementService) {
<span class="nc" id="L2032">        this.cmmnManagementService = cmmnManagementService;</span>
<span class="nc" id="L2033">        return this;</span>
    }

    @Override
    public CmmnRepositoryService getCmmnRepositoryService() {
<span class="nc" id="L2038">        return cmmnRepositoryService;</span>
    }

    public CmmnEngineConfiguration setCmmnRepositoryService(CmmnRepositoryService cmmnRepositoryService) {
<span class="nc" id="L2042">        this.cmmnRepositoryService = cmmnRepositoryService;</span>
<span class="nc" id="L2043">        return this;</span>
    }

    @Override
    public CmmnHistoryService getCmmnHistoryService() {
<span class="nc" id="L2048">        return cmmnHistoryService;</span>
    }

    public CmmnEngineConfiguration setCmmnHistoryService(CmmnHistoryService cmmnHistoryService) {
<span class="nc" id="L2052">        this.cmmnHistoryService = cmmnHistoryService;</span>
<span class="nc" id="L2053">        return this;</span>
    }

    @Override
    public CmmnMigrationService getCmmnMigrationService() {
<span class="nc" id="L2058">        return cmmnMigrationService;</span>
    }

    public void setCmmnMigrationService(CmmnMigrationService cmmnMigrationService) {
<span class="nc" id="L2062">        this.cmmnMigrationService = cmmnMigrationService;</span>
<span class="nc" id="L2063">    }</span>

    public IdmIdentityService getIdmIdentityService() {
<span class="nc" id="L2066">        IdmIdentityService idmIdentityService = null;</span>
<span class="nc" id="L2067">        IdmEngineConfigurationApi idmEngineConfiguration = (IdmEngineConfigurationApi) engineConfigurations.get(EngineConfigurationConstants.KEY_IDM_ENGINE_CONFIG);</span>
<span class="nc bnc" id="L2068" title="All 2 branches missed.">        if (idmEngineConfiguration != null) {</span>
<span class="nc" id="L2069">            idmIdentityService = idmEngineConfiguration.getIdmIdentityService();</span>
        }

<span class="nc" id="L2072">        return idmIdentityService;</span>
    }

    public CmmnEngineAgendaFactory getCmmnEngineAgendaFactory() {
<span class="nc" id="L2076">        return cmmnEngineAgendaFactory;</span>
    }

    public CmmnEngineConfiguration setCmmnEngineAgendaFactory(CmmnEngineAgendaFactory cmmnEngineAgendaFactory) {
<span class="nc" id="L2080">        this.cmmnEngineAgendaFactory = cmmnEngineAgendaFactory;</span>
<span class="nc" id="L2081">        return this;</span>
    }

    public AgendaFutureMaxWaitTimeoutProvider getAgendaFutureMaxWaitTimeoutProvider() {
<span class="nc" id="L2085">        return agendaFutureMaxWaitTimeoutProvider;</span>
    }

    public CmmnEngineConfiguration setAgendaFutureMaxWaitTimeoutProvider(AgendaFutureMaxWaitTimeoutProvider agendaFutureMaxWaitTimeoutProvider) {
<span class="nc" id="L2089">        this.agendaFutureMaxWaitTimeoutProvider = agendaFutureMaxWaitTimeoutProvider;</span>
<span class="nc" id="L2090">        return this;</span>
    }

    @Override
    public CmmnEngineConfiguration setTableDataManager(TableDataManager tableDataManager) {
<span class="nc" id="L2095">        this.tableDataManager = tableDataManager;</span>
<span class="nc" id="L2096">        return this;</span>
    }

    public CmmnDeploymentDataManager getDeploymentDataManager() {
<span class="nc" id="L2100">        return deploymentDataManager;</span>
    }

    public CmmnEngineConfiguration setDeploymentDataManager(CmmnDeploymentDataManager deploymentDataManager) {
<span class="nc" id="L2104">        this.deploymentDataManager = deploymentDataManager;</span>
<span class="nc" id="L2105">        return this;</span>
    }

    public CmmnResourceDataManager getResourceDataManager() {
<span class="nc" id="L2109">        return resourceDataManager;</span>
    }

    public CmmnEngineConfiguration setResourceDataManager(CmmnResourceDataManager resourceDataManager) {
<span class="nc" id="L2113">        this.resourceDataManager = resourceDataManager;</span>
<span class="nc" id="L2114">        return this;</span>
    }

    public CaseDefinitionDataManager getCaseDefinitionDataManager() {
<span class="nc" id="L2118">        return caseDefinitionDataManager;</span>
    }

    public CmmnEngineConfiguration setCaseDefinitionDataManager(CaseDefinitionDataManager caseDefinitionDataManager) {
<span class="nc" id="L2122">        this.caseDefinitionDataManager = caseDefinitionDataManager;</span>
<span class="nc" id="L2123">        return this;</span>
    }

    public CaseInstanceDataManager getCaseInstanceDataManager() {
<span class="nc" id="L2127">        return caseInstanceDataManager;</span>
    }

    public CmmnEngineConfiguration setCaseInstanceDataManager(CaseInstanceDataManager caseInstanceDataManager) {
<span class="nc" id="L2131">        this.caseInstanceDataManager = caseInstanceDataManager;</span>
<span class="nc" id="L2132">        return this;</span>
    }

    public PlanItemInstanceDataManager getPlanItemInstanceDataManager() {
<span class="nc" id="L2136">        return planItemInstanceDataManager;</span>
    }

    public CmmnEngineConfiguration setPlanItemInstanceDataManager(PlanItemInstanceDataManager planItemInstanceDataManager) {
<span class="nc" id="L2140">        this.planItemInstanceDataManager = planItemInstanceDataManager;</span>
<span class="nc" id="L2141">        return this;</span>
    }

    public SentryPartInstanceDataManager getSentryPartInstanceDataManager() {
<span class="nc" id="L2145">        return sentryPartInstanceDataManager;</span>
    }

    public CmmnEngineConfiguration setSentryPartInstanceDataManager(SentryPartInstanceDataManager sentryPartInstanceDataManager) {
<span class="nc" id="L2149">        this.sentryPartInstanceDataManager = sentryPartInstanceDataManager;</span>
<span class="nc" id="L2150">        return this;</span>
    }

    public MilestoneInstanceDataManager getMilestoneInstanceDataManager() {
<span class="nc" id="L2154">        return milestoneInstanceDataManager;</span>
    }

    public CmmnEngineConfiguration setMilestoneInstanceDataManager(MilestoneInstanceDataManager milestoneInstanceDataManager) {
<span class="nc" id="L2158">        this.milestoneInstanceDataManager = milestoneInstanceDataManager;</span>
<span class="nc" id="L2159">        return this;</span>
    }

    public HistoricCaseInstanceDataManager getHistoricCaseInstanceDataManager() {
<span class="nc" id="L2163">        return historicCaseInstanceDataManager;</span>
    }

    public CmmnEngineConfiguration setHistoricCaseInstanceDataManager(HistoricCaseInstanceDataManager historicCaseInstanceDataManager) {
<span class="nc" id="L2167">        this.historicCaseInstanceDataManager = historicCaseInstanceDataManager;</span>
<span class="nc" id="L2168">        return this;</span>
    }

    public HistoricMilestoneInstanceDataManager getHistoricMilestoneInstanceDataManager() {
<span class="nc" id="L2172">        return historicMilestoneInstanceDataManager;</span>
    }

    public CmmnEngineConfiguration setHistoricMilestoneInstanceDataManager(HistoricMilestoneInstanceDataManager historicMilestoneInstanceDataManager) {
<span class="nc" id="L2176">        this.historicMilestoneInstanceDataManager = historicMilestoneInstanceDataManager;</span>
<span class="nc" id="L2177">        return this;</span>
    }

    public CmmnDeploymentEntityManager getCmmnDeploymentEntityManager() {
<span class="nc" id="L2181">        return cmmnDeploymentEntityManager;</span>
    }

    public CmmnEngineConfiguration setCmmnDeploymentEntityManager(CmmnDeploymentEntityManager cmmnDeploymentEntityManager) {
<span class="nc" id="L2185">        this.cmmnDeploymentEntityManager = cmmnDeploymentEntityManager;</span>
<span class="nc" id="L2186">        return this;</span>
    }

    public CmmnResourceEntityManager getCmmnResourceEntityManager() {
<span class="nc" id="L2190">        return cmmnResourceEntityManager;</span>
    }

    public CmmnEngineConfiguration setCmmnResourceEntityManager(CmmnResourceEntityManager cmmnResourceEntityManager) {
<span class="nc" id="L2194">        this.cmmnResourceEntityManager = cmmnResourceEntityManager;</span>
<span class="nc" id="L2195">        return this;</span>
    }

    public CaseDefinitionEntityManager getCaseDefinitionEntityManager() {
<span class="nc" id="L2199">        return caseDefinitionEntityManager;</span>
    }

    public CmmnEngineConfiguration setCaseDefinitionEntityManager(CaseDefinitionEntityManager caseDefinitionEntityManager) {
<span class="nc" id="L2203">        this.caseDefinitionEntityManager = caseDefinitionEntityManager;</span>
<span class="nc" id="L2204">        return this;</span>
    }

    public CaseInstanceEntityManager getCaseInstanceEntityManager() {
<span class="nc" id="L2208">        return caseInstanceEntityManager;</span>
    }

    public CmmnEngineConfiguration setCaseInstanceEntityManager(CaseInstanceEntityManager caseInstanceEntityManager) {
<span class="nc" id="L2212">        this.caseInstanceEntityManager = caseInstanceEntityManager;</span>
<span class="nc" id="L2213">        return this;</span>
    }

    public PlanItemInstanceEntityManager getPlanItemInstanceEntityManager() {
<span class="nc" id="L2217">        return planItemInstanceEntityManager;</span>
    }

    public CmmnEngineConfiguration setPlanItemInstanceEntityManager(PlanItemInstanceEntityManager planItemInstanceEntityManager) {
<span class="nc" id="L2221">        this.planItemInstanceEntityManager = planItemInstanceEntityManager;</span>
<span class="nc" id="L2222">        return this;</span>
    }

    public SentryPartInstanceEntityManager getSentryPartInstanceEntityManager() {
<span class="nc" id="L2226">        return sentryPartInstanceEntityManager;</span>
    }

    public CmmnEngineConfiguration setSentryPartInstanceEntityManager(SentryPartInstanceEntityManager sentryPartInstanceEntityManager) {
<span class="nc" id="L2230">        this.sentryPartInstanceEntityManager = sentryPartInstanceEntityManager;</span>
<span class="nc" id="L2231">        return this;</span>
    }

    public MilestoneInstanceEntityManager getMilestoneInstanceEntityManager() {
<span class="nc" id="L2235">        return milestoneInstanceEntityManager;</span>
    }

    public CmmnEngineConfiguration setMilestoneInstanceEntityManager(MilestoneInstanceEntityManager milestoneInstanceEntityManager) {
<span class="nc" id="L2239">        this.milestoneInstanceEntityManager = milestoneInstanceEntityManager;</span>
<span class="nc" id="L2240">        return this;</span>
    }

    public HistoricCaseInstanceEntityManager getHistoricCaseInstanceEntityManager() {
<span class="nc" id="L2244">        return historicCaseInstanceEntityManager;</span>
    }

    public CmmnEngineConfiguration setHistoricCaseInstanceEntityManager(HistoricCaseInstanceEntityManager historicCaseInstanceEntityManager) {
<span class="nc" id="L2248">        this.historicCaseInstanceEntityManager = historicCaseInstanceEntityManager;</span>
<span class="nc" id="L2249">        return this;</span>
    }

    public HistoricMilestoneInstanceEntityManager getHistoricMilestoneInstanceEntityManager() {
<span class="nc" id="L2253">        return historicMilestoneInstanceEntityManager;</span>
    }

    public CmmnEngineConfiguration setHistoricMilestoneInstanceEntityManager(HistoricMilestoneInstanceEntityManager historicMilestoneInstanceEntityManager) {
<span class="nc" id="L2257">        this.historicMilestoneInstanceEntityManager = historicMilestoneInstanceEntityManager;</span>
<span class="nc" id="L2258">        return this;</span>
    }

    public HistoricPlanItemInstanceEntityManager getHistoricPlanItemInstanceEntityManager() {
<span class="nc" id="L2262">        return historicPlanItemInstanceEntityManager;</span>
    }

    public CmmnEngineConfiguration setHistoricPlanItemInstanceEntityManager(HistoricPlanItemInstanceEntityManager historicPlanItemInstanceEntityManager) {
<span class="nc" id="L2266">        this.historicPlanItemInstanceEntityManager = historicPlanItemInstanceEntityManager;</span>
<span class="nc" id="L2267">        return this;</span>
    }

    public CaseInstanceHelper getCaseInstanceHelper() {
<span class="nc" id="L2271">        return caseInstanceHelper;</span>
    }

    public CmmnEngineConfiguration setCaseInstanceHelper(CaseInstanceHelper caseInstanceHelper) {
<span class="nc" id="L2275">        this.caseInstanceHelper = caseInstanceHelper;</span>
<span class="nc" id="L2276">        return this;</span>
    }
    
    public CandidateManager getCandidateManager() {
<span class="nc" id="L2280">        return candidateManager;</span>
    }

    public CmmnEngineConfiguration setCandidateManager(CandidateManager candidateManager) {
<span class="nc" id="L2284">        this.candidateManager = candidateManager;</span>
<span class="nc" id="L2285">        return this;</span>
    }

    public PlanItemVariableAggregator getVariableAggregator() {
<span class="nc" id="L2289">        return variableAggregator;</span>
    }

    public CmmnEngineConfiguration setVariableAggregator(PlanItemVariableAggregator variableAggregator) {
<span class="nc" id="L2293">        this.variableAggregator = variableAggregator;</span>
<span class="nc" id="L2294">        return this;</span>
    }

    public Collection&lt;String&gt; getDependentScopeTypes() {
<span class="nc" id="L2298">        return dependentScopeTypes;</span>
    }

    public CmmnEngineConfiguration setDependentScopeTypes(Collection&lt;String&gt; dependentScopeTypes) {
<span class="nc" id="L2302">        this.dependentScopeTypes = dependentScopeTypes;</span>
<span class="nc" id="L2303">        return this;</span>
    }

    public CmmnEngineConfiguration addDependentScopeType(String scopeType) {
<span class="nc" id="L2307">        this.dependentScopeTypes.add(scopeType);</span>
<span class="nc" id="L2308">        return this;</span>
    }

    public DecisionTableVariableManager getDecisionTableVariableManager() {
<span class="nc" id="L2312">        return decisionTableVariableManager;</span>
    }

    public CmmnEngineConfiguration setDecisionTableVariableManager(DecisionTableVariableManager decisionTableVariableManager) {
<span class="nc" id="L2316">        this.decisionTableVariableManager = decisionTableVariableManager;</span>
<span class="nc" id="L2317">        return this;</span>
    }

    public CmmnHistoryManager getCmmnHistoryManager() {
<span class="nc" id="L2321">        return cmmnHistoryManager;</span>
    }

    public CmmnEngineConfiguration setCmmnHistoryManager(CmmnHistoryManager cmmnHistoryManager) {
<span class="nc" id="L2325">        this.cmmnHistoryManager = cmmnHistoryManager;</span>
<span class="nc" id="L2326">        return this;</span>
    }

    public CmmnHistoryConfigurationSettings getCmmnHistoryConfigurationSettings() {
<span class="nc" id="L2330">        return cmmnHistoryConfigurationSettings;</span>
    }

    public CmmnEngineConfiguration setCmmnHistoryConfigurationSettings(CmmnHistoryConfigurationSettings cmmnHistoryConfigurationSettings) {
<span class="nc" id="L2334">        this.cmmnHistoryConfigurationSettings = cmmnHistoryConfigurationSettings;</span>
<span class="nc" id="L2335">        return this;</span>
    }

    public CmmnDynamicStateManager getDynamicStateManager() {
<span class="nc" id="L2339">        return dynamicStateManager;</span>
    }

    public CmmnEngineConfiguration setDynamicStateManager(CmmnDynamicStateManager dynamicStateManager) {
<span class="nc" id="L2343">        this.dynamicStateManager = dynamicStateManager;</span>
<span class="nc" id="L2344">        return this;</span>
    }

    public CaseInstanceMigrationManager getCaseInstanceMigrationManager() {
<span class="nc" id="L2348">        return caseInstanceMigrationManager;</span>
    }

    public CmmnEngineConfiguration setCaseInstanceMigrationManager(CaseInstanceMigrationManager caseInstanceMigrationManager) {
<span class="nc" id="L2352">        this.caseInstanceMigrationManager = caseInstanceMigrationManager;</span>
<span class="nc" id="L2353">        return this;</span>
    }

    public ChangeTenantIdManager getChangeTenantIdManager() {
<span class="nc" id="L2357">        return changeTenantIdManager;</span>
    }

    public CmmnEngineConfiguration setChangeTenantIdManager(ChangeTenantIdManager changeTenantIdManager) {
<span class="nc" id="L2361">        this.changeTenantIdManager = changeTenantIdManager;</span>
<span class="nc" id="L2362">        return this;</span>
    }

    public Set&lt;String&gt; getChangeTenantEntityTypes() {
<span class="nc" id="L2366">        return changeTenantEntityTypes;</span>
    }

    public CmmnEngineConfiguration setChangeTenantEntityTypes(Set&lt;String&gt; changeTenantEntityTypes) {
<span class="nc" id="L2370">        this.changeTenantEntityTypes = changeTenantEntityTypes;</span>
<span class="nc" id="L2371">        return this;</span>
    }

    public boolean isEnableSafeCmmnXml() {
<span class="nc" id="L2375">        return enableSafeCmmnXml;</span>
    }

    public CmmnEngineConfiguration setEnableSafeCmmnXml(boolean enableSafeCmmnXml) {
<span class="nc" id="L2379">        this.enableSafeCmmnXml = enableSafeCmmnXml;</span>
<span class="nc" id="L2380">        return this;</span>
    }
    
    public boolean isDisableCmmnXmlValidation() {
<span class="nc" id="L2384">        return disableCmmnXmlValidation;</span>
    }

    public void setDisableCmmnXmlValidation(boolean disableCmmnXmlValidation) {
<span class="nc" id="L2388">        this.disableCmmnXmlValidation = disableCmmnXmlValidation;</span>
<span class="nc" id="L2389">    }</span>

    public CmmnParser getCmmnParser() {
<span class="nc" id="L2392">        return cmmnParser;</span>
    }

    public CmmnEngineConfiguration setCmmnParser(CmmnParser cmmnParser) {
<span class="nc" id="L2396">        this.cmmnParser = cmmnParser;</span>
<span class="nc" id="L2397">        return this;</span>
    }

    public List&lt;CmmnParseHandler&gt; getPreCmmnParseHandlers() {
<span class="nc" id="L2401">        return preCmmnParseHandlers;</span>
    }

    public CmmnEngineConfiguration setPreCmmnParseHandlers(List&lt;CmmnParseHandler&gt; preCmmnParseHandlers) {
<span class="nc" id="L2405">        this.preCmmnParseHandlers = preCmmnParseHandlers;</span>
<span class="nc" id="L2406">        return this;</span>
    }

    public List&lt;CmmnParseHandler&gt; getPostCmmnParseHandlers() {
<span class="nc" id="L2410">        return postCmmnParseHandlers;</span>
    }

    public CmmnEngineConfiguration setPostCmmnParseHandlers(List&lt;CmmnParseHandler&gt; postCmmnParseHandlers) {
<span class="nc" id="L2414">        this.postCmmnParseHandlers = postCmmnParseHandlers;</span>
<span class="nc" id="L2415">        return this;</span>
    }

    public List&lt;CmmnParseHandler&gt; getCustomCmmnParseHandlers() {
<span class="nc" id="L2419">        return customCmmnParseHandlers;</span>
    }

    public CmmnEngineConfiguration setCustomCmmnParseHandlers(List&lt;CmmnParseHandler&gt; customCmmnParseHandlers) {
<span class="nc" id="L2423">        this.customCmmnParseHandlers = customCmmnParseHandlers;</span>
<span class="nc" id="L2424">        return this;</span>
    }

    public CmmnListenerFactory getListenerFactory() {
<span class="nc" id="L2428">        return listenerFactory;</span>
    }

    public CmmnEngineConfiguration setListenerFactory(CmmnListenerFactory listenerFactory) {
<span class="nc" id="L2432">        this.listenerFactory = listenerFactory;</span>
<span class="nc" id="L2433">        return this;</span>
    }

    public CmmnListenerNotificationHelper getListenerNotificationHelper() {
<span class="nc" id="L2437">        return listenerNotificationHelper;</span>
    }

    public CmmnEngineConfiguration setListenerNotificationHelper(CmmnListenerNotificationHelper listenerNotificationHelper) {
<span class="nc" id="L2441">        this.listenerNotificationHelper = listenerNotificationHelper;</span>
<span class="nc" id="L2442">        return this;</span>
    }

    public CmmnDeployer getCmmnDeployer() {
<span class="nc" id="L2446">        return cmmnDeployer;</span>
    }

    public CmmnEngineConfiguration setCmmnDeployer(CmmnDeployer cmmnDeployer) {
<span class="nc" id="L2450">        this.cmmnDeployer = cmmnDeployer;</span>
<span class="nc" id="L2451">        return this;</span>
    }

    public CmmnDeploymentManager getDeploymentManager() {
<span class="nc" id="L2455">        return deploymentManager;</span>
    }

    public CmmnEngineConfiguration setDeploymentManager(CmmnDeploymentManager deploymentManager) {
<span class="nc" id="L2459">        this.deploymentManager = deploymentManager;</span>
<span class="nc" id="L2460">        return this;</span>
    }

    public CaseValidator getCaseValidator() {
<span class="nc" id="L2464">        return caseValidator;</span>
    }

    public CmmnEngineConfiguration setCaseValidator(CaseValidator caseValidator) {
<span class="nc" id="L2468">        this.caseValidator = caseValidator;</span>
<span class="nc" id="L2469">        return this;</span>
    }

    public CaseDefinitionDiagramHelper getCaseDefinitionDiagramHelper() {
<span class="nc" id="L2473">        return caseDefinitionDiagramHelper;</span>
    }

    public CmmnEngineConfiguration setCaseDefinitionDiagramHelper(CaseDefinitionDiagramHelper caseDefinitionDiagramHelper) {
<span class="nc" id="L2477">        this.caseDefinitionDiagramHelper = caseDefinitionDiagramHelper;</span>
<span class="nc" id="L2478">        return this;</span>
    }

    public CmmnActivityBehaviorFactory getActivityBehaviorFactory() {
<span class="nc" id="L2482">        return activityBehaviorFactory;</span>
    }

    public CmmnEngineConfiguration setActivityBehaviorFactory(CmmnActivityBehaviorFactory activityBehaviorFactory) {
<span class="nc" id="L2486">        this.activityBehaviorFactory = activityBehaviorFactory;</span>
<span class="nc" id="L2487">        return this;</span>
    }

    public CmmnClassDelegateFactory getClassDelegateFactory() {
<span class="nc" id="L2491">        return classDelegateFactory;</span>
    }

    public CmmnEngineConfiguration setClassDelegateFactory(CmmnClassDelegateFactory classDelegateFactory) {
<span class="nc" id="L2495">        this.classDelegateFactory = classDelegateFactory;</span>
<span class="nc" id="L2496">        return this;</span>
    }

    public int getCaseDefinitionCacheLimit() {
<span class="nc" id="L2500">        return caseDefinitionCacheLimit;</span>
    }

    public CmmnEngineConfiguration setCaseDefinitionCacheLimit(int caseDefinitionCacheLimit) {
<span class="nc" id="L2504">        this.caseDefinitionCacheLimit = caseDefinitionCacheLimit;</span>
<span class="nc" id="L2505">        return this;</span>
    }

    public DeploymentCache&lt;CaseDefinitionCacheEntry&gt; getCaseDefinitionCache() {
<span class="nc" id="L2509">        return caseDefinitionCache;</span>
    }

    public CmmnEngineConfiguration setCaseDefinitionCache(DeploymentCache&lt;CaseDefinitionCacheEntry&gt; caseDefinitionCache) {
<span class="nc" id="L2513">        this.caseDefinitionCache = caseDefinitionCache;</span>
<span class="nc" id="L2514">        return this;</span>
    }

    public ProcessInstanceService getProcessInstanceService() {
<span class="nc" id="L2518">        return processInstanceService;</span>
    }

    public CmmnEngineConfiguration setProcessInstanceService(ProcessInstanceService processInstanceService) {
<span class="nc" id="L2522">        this.processInstanceService = processInstanceService;</span>
<span class="nc" id="L2523">        return this;</span>
    }

    public Map&lt;String, List&lt;RuntimeInstanceStateChangeCallback&gt;&gt; getCaseInstanceStateChangeCallbacks() {
<span class="nc" id="L2527">        return caseInstanceStateChangeCallbacks;</span>
    }

    public CmmnEngineConfiguration setCaseInstanceStateChangeCallbacks(Map&lt;String, List&lt;RuntimeInstanceStateChangeCallback&gt;&gt; caseInstanceStateChangeCallbacks) {
<span class="nc" id="L2531">        this.caseInstanceStateChangeCallbacks = caseInstanceStateChangeCallbacks;</span>
<span class="nc" id="L2532">        return this;</span>
    }

    public Map&lt;String, List&lt;PlanItemInstanceLifecycleListener&gt;&gt; getPlanItemInstanceLifecycleListeners() {
<span class="nc" id="L2536">        return planItemInstanceLifecycleListeners;</span>
    }

    public CmmnEngineConfiguration setPlanItemInstanceLifecycleListeners(Map&lt;String, List&lt;PlanItemInstanceLifecycleListener&gt;&gt; planItemInstanceLifecycleListeners) {
<span class="nc" id="L2540">        this.planItemInstanceLifecycleListeners = planItemInstanceLifecycleListeners;</span>
<span class="nc" id="L2541">        return this;</span>
    }

    public List&lt;CaseInstanceLifecycleListener&gt; getCaseInstanceLifecycleListeners() {
<span class="nc" id="L2545">        return caseInstanceLifecycleListeners;</span>
    }

    public CmmnEngineConfiguration setCaseInstanceLifecycleListeners(List&lt;CaseInstanceLifecycleListener&gt; caseInstanceLifecycleListeners) {
<span class="nc" id="L2549">        this.caseInstanceLifecycleListeners = caseInstanceLifecycleListeners;</span>
<span class="nc" id="L2550">        return this;</span>
    }

    public StartCaseInstanceInterceptor getStartCaseInstanceInterceptor() {
<span class="nc" id="L2554">        return startCaseInstanceInterceptor;</span>
    }

    public CmmnEngineConfiguration setStartCaseInstanceInterceptor(StartCaseInstanceInterceptor startCaseInstanceInterceptor) {
<span class="nc" id="L2558">        this.startCaseInstanceInterceptor = startCaseInstanceInterceptor;</span>
<span class="nc" id="L2559">        return this;</span>
    }
    
    public CreateHumanTaskInterceptor getCreateHumanTaskInterceptor() {
<span class="nc" id="L2563">        return createHumanTaskInterceptor;</span>
    }

    public CmmnEngineConfiguration setCreateHumanTaskInterceptor(CreateHumanTaskInterceptor createHumanTaskInterceptor) {
<span class="nc" id="L2567">        this.createHumanTaskInterceptor = createHumanTaskInterceptor;</span>
<span class="nc" id="L2568">        return this;</span>
    }

    public HumanTaskStateInterceptor getHumanTaskStateInterceptor() {
<span class="nc" id="L2572">        return humanTaskStateInterceptor;</span>
    }

    public CmmnEngineConfiguration setHumanTaskStateInterceptor(HumanTaskStateInterceptor humanTaskStateInterceptor) {
<span class="nc" id="L2576">        this.humanTaskStateInterceptor = humanTaskStateInterceptor;</span>
<span class="nc" id="L2577">        return this;</span>
    }

    public CreateCasePageTaskInterceptor getCreateCasePageTaskInterceptor() {
<span class="nc" id="L2581">        return createCasePageTaskInterceptor;</span>
    }

    public CmmnEngineConfiguration setCreateCasePageTaskInterceptor(CreateCasePageTaskInterceptor createCasePageTaskInterceptor) {
<span class="nc" id="L2585">        this.createCasePageTaskInterceptor = createCasePageTaskInterceptor;</span>
<span class="nc" id="L2586">        return this;</span>
    }

    public CreateCmmnExternalWorkerJobInterceptor getCreateCmmnExternalWorkerJobInterceptor() {
<span class="nc" id="L2590">        return createCmmnExternalWorkerJobInterceptor;</span>
    }

    public CmmnEngineConfiguration setCreateCmmnExternalWorkerJobInterceptor(CreateCmmnExternalWorkerJobInterceptor createCmmnExternalWorkerJobInterceptor) {
<span class="nc" id="L2594">        this.createCmmnExternalWorkerJobInterceptor = createCmmnExternalWorkerJobInterceptor;</span>
<span class="nc" id="L2595">        return this;</span>
    }

    /**
     * Registers a global {@link PlanItemInstanceLifecycleListener} to listen to {@link org.flowable.cmmn.api.runtime.PlanItemInstance} state changes.
     *
     * @param planItemDefinitionType A string from {@link org.flowable.cmmn.api.runtime.PlanItemDefinitionType}.
     *                               If null is passed, the listener will be invoked for any type.
     * @param planItemInstanceLifeCycleListener The listener instance.
     */
    public void addPlanItemInstanceLifeCycleListener(String planItemDefinitionType, PlanItemInstanceLifecycleListener planItemInstanceLifeCycleListener) {
<span class="nc bnc" id="L2606" title="All 2 branches missed.">        if (planItemInstanceLifecycleListeners == null) {</span>
<span class="nc" id="L2607">            planItemInstanceLifecycleListeners = new HashMap&lt;&gt;();</span>
        }
<span class="nc" id="L2609">        planItemInstanceLifecycleListeners</span>
<span class="nc" id="L2610">            .computeIfAbsent(planItemDefinitionType, key -&gt; new ArrayList&lt;&gt;())</span>
<span class="nc" id="L2611">            .add(planItemInstanceLifeCycleListener);</span>
<span class="nc" id="L2612">    }</span>

    /**
     * Register a global {@link PlanItemInstanceLifecycleListener} to listen to any (all plan item definition types)
     * {@link org.flowable.cmmn.api.runtime.PlanItemInstance} state changes.
     */
    public void addPlanItemInstanceLifeCycleListener(PlanItemInstanceLifecycleListener planItemInstanceLifeCycleListener) {
<span class="nc" id="L2619">        addPlanItemInstanceLifeCycleListener(null, planItemInstanceLifeCycleListener);</span>
<span class="nc" id="L2620">    }</span>

    /**
     * Registers a global {@link CaseInstanceLifecycleListener} to listen to {@link org.flowable.cmmn.api.runtime.CaseInstance} state changes.
     */
    public void addCaseInstanceLifeCycleListener(CaseInstanceLifecycleListener caseInstanceLifecycleListener) {
<span class="nc bnc" id="L2626" title="All 2 branches missed.">        if (caseInstanceLifecycleListeners == null) {</span>
<span class="nc" id="L2627">            caseInstanceLifecycleListeners = new ArrayList&lt;&gt;();</span>
        }
<span class="nc" id="L2629">        caseInstanceLifecycleListeners.add(caseInstanceLifecycleListener);</span>
<span class="nc" id="L2630">    }</span>

    @Override
    public CmmnEngineConfiguration setDataSource(DataSource dataSource) {
<span class="nc" id="L2634">        this.dataSource = dataSource;</span>
<span class="nc" id="L2635">        return this;</span>
    }

    public boolean isExecuteServiceSchemaManagers() {
<span class="nc" id="L2639">        return executeServiceSchemaManagers;</span>
    }

    public void setExecuteServiceSchemaManagers(boolean executeServiceSchemaManagers) {
<span class="nc" id="L2643">        this.executeServiceSchemaManagers = executeServiceSchemaManagers;</span>
<span class="nc" id="L2644">    }</span>

    public HistoryLevel getHistoryLevel() {
<span class="nc" id="L2647">        return historyLevel;</span>
    }

    public CmmnEngineConfiguration setHistoryLevel(HistoryLevel historyLevel) {
<span class="nc" id="L2651">        this.historyLevel = historyLevel;</span>
<span class="nc" id="L2652">        return this;</span>
    }

    public boolean isEnableCaseDefinitionHistoryLevel() {
<span class="nc" id="L2656">        return enableCaseDefinitionHistoryLevel;</span>
    }

    public CmmnEngineConfiguration setEnableCaseDefinitionHistoryLevel(boolean enableCaseDefinitionHistoryLevel) {
<span class="nc" id="L2660">        this.enableCaseDefinitionHistoryLevel = enableCaseDefinitionHistoryLevel;</span>
<span class="nc" id="L2661">        return this;</span>
    }

    @Override
    public ExpressionManager getExpressionManager() {
<span class="nc" id="L2666">        return expressionManager;</span>
    }

    @Override
    public CmmnEngineConfiguration setExpressionManager(ExpressionManager expressionManager) {
<span class="nc" id="L2671">        this.expressionManager = expressionManager;</span>
<span class="nc" id="L2672">        return this;</span>
    }
    
    public Collection&lt;Consumer&lt;ExpressionManager&gt;&gt; getExpressionManagerConfigurers() {
<span class="nc" id="L2676">        return expressionManagerConfigurers;</span>
    }

    @Override
    public AbstractEngineConfiguration addExpressionManagerConfigurer(Consumer&lt;ExpressionManager&gt; configurer) {
<span class="nc bnc" id="L2681" title="All 2 branches missed.">        if (this.expressionManagerConfigurers == null) {</span>
<span class="nc" id="L2682">            this.expressionManagerConfigurers = new ArrayList&lt;&gt;();</span>
        }
<span class="nc" id="L2684">        this.expressionManagerConfigurers.add(configurer);</span>
<span class="nc" id="L2685">        return this;</span>
    }

    public boolean isExpressionCacheEnabled() {
<span class="nc" id="L2689">        return isExpressionCacheEnabled;</span>
    }

    public CmmnEngineConfiguration setExpressionCacheEnabled(boolean isExpressionCacheEnabled) {
<span class="nc" id="L2693">        this.isExpressionCacheEnabled = isExpressionCacheEnabled;</span>
<span class="nc" id="L2694">        return this;</span>
    }

    public int getExpressionCacheSize() {
<span class="nc" id="L2698">        return expressionCacheSize;</span>
    }

    public CmmnEngineConfiguration setExpressionCacheSize(int expressionCacheSize) {
<span class="nc" id="L2702">        this.expressionCacheSize = expressionCacheSize;</span>
<span class="nc" id="L2703">        return this;</span>
    }

    public int getExpressionTextLengthCacheLimit() {
<span class="nc" id="L2707">        return expressionTextLengthCacheLimit;</span>
    }

    public CmmnEngineConfiguration setExpressionTextLengthCacheLimit(int expressionTextLengthCacheLimit) {
<span class="nc" id="L2711">        this.expressionTextLengthCacheLimit = expressionTextLengthCacheLimit;</span>
<span class="nc" id="L2712">        return this;</span>
    }

    public DelegateExpressionFieldInjectionMode getDelegateExpressionFieldInjectionMode() {
<span class="nc" id="L2716">        return delegateExpressionFieldInjectionMode;</span>
    }

    public CmmnEngineConfiguration setDelegateExpressionFieldInjectionMode(DelegateExpressionFieldInjectionMode delegateExpressionFieldInjectionMode) {
<span class="nc" id="L2720">        this.delegateExpressionFieldInjectionMode = delegateExpressionFieldInjectionMode;</span>
<span class="nc" id="L2721">        return this;</span>
    }

    public List&lt;FlowableFunctionDelegate&gt; getFlowableFunctionDelegates() {
<span class="nc" id="L2725">        return flowableFunctionDelegates;</span>
    }

    public CmmnEngineConfiguration setFlowableFunctionDelegates(List&lt;FlowableFunctionDelegate&gt; flowableFunctionDelegates) {
<span class="nc" id="L2729">        this.flowableFunctionDelegates = flowableFunctionDelegates;</span>
<span class="nc" id="L2730">        return this;</span>
    }

    public List&lt;FlowableFunctionDelegate&gt; getCustomFlowableFunctionDelegates() {
<span class="nc" id="L2734">        return customFlowableFunctionDelegates;</span>
    }

    public CmmnEngineConfiguration setCustomFlowableFunctionDelegates(List&lt;FlowableFunctionDelegate&gt; customFlowableFunctionDelegates) {
<span class="nc" id="L2738">        this.customFlowableFunctionDelegates = customFlowableFunctionDelegates;</span>
<span class="nc" id="L2739">        return this;</span>
    }

    public List&lt;FlowableAstFunctionCreator&gt; getAstFunctionCreators() {
<span class="nc" id="L2743">        return astFunctionCreators;</span>
    }

    public void setAstFunctionCreators(List&lt;FlowableAstFunctionCreator&gt; astFunctionCreators) {
<span class="nc" id="L2747">        this.astFunctionCreators = astFunctionCreators;</span>
<span class="nc" id="L2748">    }</span>

    public Collection&lt;ELResolver&gt; getPreDefaultELResolvers() {
<span class="nc" id="L2751">        return preDefaultELResolvers;</span>
    }

    public CmmnEngineConfiguration setPreDefaultELResolvers(Collection&lt;ELResolver&gt; preDefaultELResolvers) {
<span class="nc" id="L2755">        this.preDefaultELResolvers = preDefaultELResolvers;</span>
<span class="nc" id="L2756">        return this;</span>
    }

    public CmmnEngineConfiguration addPreDefaultELResolver(ELResolver elResolver) {
<span class="nc bnc" id="L2760" title="All 2 branches missed.">        if (this.preDefaultELResolvers == null) {</span>
<span class="nc" id="L2761">            this.preDefaultELResolvers = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L2764">        this.preDefaultELResolvers.add(elResolver);</span>
<span class="nc" id="L2765">        return this;</span>
    }

    public Collection&lt;ELResolver&gt; getPreBeanELResolvers() {
<span class="nc" id="L2769">        return preBeanELResolvers;</span>
    }

    public CmmnEngineConfiguration setPreBeanELResolvers(Collection&lt;ELResolver&gt; preBeanELResolvers) {
<span class="nc" id="L2773">        this.preBeanELResolvers = preBeanELResolvers;</span>
<span class="nc" id="L2774">        return this;</span>
    }

    public CmmnEngineConfiguration addPreBeanELResolver(ELResolver elResolver) {
<span class="nc bnc" id="L2778" title="All 2 branches missed.">        if (this.preBeanELResolvers == null) {</span>
<span class="nc" id="L2779">            this.preBeanELResolvers = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L2782">        this.preBeanELResolvers.add(elResolver);</span>
<span class="nc" id="L2783">        return this;</span>
    }

    public Collection&lt;ELResolver&gt; getPostDefaultELResolvers() {
<span class="nc" id="L2787">        return postDefaultELResolvers;</span>
    }

    public CmmnEngineConfiguration setPostDefaultELResolvers(Collection&lt;ELResolver&gt; postDefaultELResolvers) {
<span class="nc" id="L2791">        this.postDefaultELResolvers = postDefaultELResolvers;</span>
<span class="nc" id="L2792">        return this;</span>
    }

    public CmmnEngineConfiguration addPostDefaultELResolver(ELResolver elResolver) {
<span class="nc bnc" id="L2796" title="All 2 branches missed.">        if (this.postDefaultELResolvers == null) {</span>
<span class="nc" id="L2797">            this.postDefaultELResolvers = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L2800">        this.postDefaultELResolvers.add(elResolver);</span>
<span class="nc" id="L2801">        return this;</span>
    }

    public SchemaManager getIdentityLinkSchemaManager() {
<span class="nc" id="L2805">        return identityLinkSchemaManager;</span>
    }

    public CmmnEngineConfiguration setIdentityLinkSchemaManager(SchemaManager identityLinkSchemaManager) {
<span class="nc" id="L2809">        this.identityLinkSchemaManager = identityLinkSchemaManager;</span>
<span class="nc" id="L2810">        return this;</span>
    }
    
    public SchemaManager getEntityLinkSchemaManager() {
<span class="nc" id="L2814">        return entityLinkSchemaManager;</span>
    }

    public CmmnEngineConfiguration setEntityLinkSchemaManager(SchemaManager entityLinkSchemaManager) {
<span class="nc" id="L2818">        this.entityLinkSchemaManager = entityLinkSchemaManager;</span>
<span class="nc" id="L2819">        return this;</span>
    }

    public SchemaManager getEventSubscriptionSchemaManager() {
<span class="nc" id="L2823">        return eventSubscriptionSchemaManager;</span>
    }

    public CmmnEngineConfiguration setEventSubscriptionSchemaManager(SchemaManager eventSubscriptionSchemaManager) {
<span class="nc" id="L2827">        this.eventSubscriptionSchemaManager = eventSubscriptionSchemaManager;</span>
<span class="nc" id="L2828">        return this;</span>
    }

    public SchemaManager getVariableSchemaManager() {
<span class="nc" id="L2832">        return variableSchemaManager;</span>
    }

    public CmmnEngineConfiguration setVariableSchemaManager(SchemaManager variableSchemaManager) {
<span class="nc" id="L2836">        this.variableSchemaManager = variableSchemaManager;</span>
<span class="nc" id="L2837">        return this;</span>
    }

    public SchemaManager getTaskSchemaManager() {
<span class="nc" id="L2841">        return taskSchemaManager;</span>
    }

    public CmmnEngineConfiguration setTaskSchemaManager(SchemaManager taskSchemaManager) {
<span class="nc" id="L2845">        this.taskSchemaManager = taskSchemaManager;</span>
<span class="nc" id="L2846">        return this;</span>
    }

    public SchemaManager getJobSchemaManager() {
<span class="nc" id="L2850">        return jobSchemaManager;</span>
    }

    public CmmnEngineConfiguration setJobSchemaManager(SchemaManager jobSchemaManager) {
<span class="nc" id="L2854">        this.jobSchemaManager = jobSchemaManager;</span>
<span class="nc" id="L2855">        return this;</span>
    }

    public SchemaManager getBatchSchemaManager() {
<span class="nc" id="L2859">        return batchSchemaManager;</span>
    }

    public CmmnEngineConfiguration setBatchSchemaManager(SchemaManager batchSchemaManager) {
<span class="nc" id="L2863">        this.batchSchemaManager = batchSchemaManager;</span>
<span class="nc" id="L2864">        return this;</span>
    }

    @Override
    public VariableTypes getVariableTypes() {
<span class="nc" id="L2869">        return variableTypes;</span>
    }

    @Override
    public CmmnEngineConfiguration setVariableTypes(VariableTypes variableTypes) {
<span class="nc" id="L2874">        this.variableTypes = variableTypes;</span>
<span class="nc" id="L2875">        return this;</span>
    }

    public List&lt;VariableType&gt; getCustomPreVariableTypes() {
<span class="nc" id="L2879">        return customPreVariableTypes;</span>
    }

    public CmmnEngineConfiguration setCustomPreVariableTypes(List&lt;VariableType&gt; customPreVariableTypes) {
<span class="nc" id="L2883">        this.customPreVariableTypes = customPreVariableTypes;</span>
<span class="nc" id="L2884">        return this;</span>
    }

    public List&lt;VariableType&gt; getCustomPostVariableTypes() {
<span class="nc" id="L2888">        return customPostVariableTypes;</span>
    }

    public CmmnEngineConfiguration setCustomPostVariableTypes(List&lt;VariableType&gt; customPostVariableTypes) {
<span class="nc" id="L2892">        this.customPostVariableTypes = customPostVariableTypes;</span>
<span class="nc" id="L2893">        return this;</span>
    }

    public IdentityLinkServiceConfiguration getIdentityLinkServiceConfiguration() {
<span class="nc" id="L2897">        return identityLinkServiceConfiguration;</span>
    }

    public CmmnEngineConfiguration setIdentityLinkServiceConfiguration(IdentityLinkServiceConfiguration identityLinkServiceConfiguration) {
<span class="nc" id="L2901">        this.identityLinkServiceConfiguration = identityLinkServiceConfiguration;</span>
<span class="nc" id="L2902">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;IdentityLinkServiceConfiguration&gt;&gt; getIdentityLinkServiceConfigurators() {
<span class="nc" id="L2906">        return identityLinkServiceConfigurators;</span>
    }

    public CmmnEngineConfiguration setIdentityLinkServiceConfigurators(
                    Collection&lt;ServiceConfigurator&lt;IdentityLinkServiceConfiguration&gt;&gt; identityLinkServiceConfigurators) {
<span class="nc" id="L2911">        this.identityLinkServiceConfigurators = identityLinkServiceConfigurators;</span>
<span class="nc" id="L2912">        return this;</span>
    }

    public CmmnEngineConfiguration addIdentityLinkServiceConfigurator(ServiceConfigurator&lt;IdentityLinkServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L2916" title="All 2 branches missed.">        if (this.identityLinkServiceConfigurators == null) {</span>
<span class="nc" id="L2917">            this.identityLinkServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }
<span class="nc" id="L2919">        this.identityLinkServiceConfigurators.add(configurator);</span>
<span class="nc" id="L2920">        return this;</span>
    }

    public EntityLinkServiceConfiguration getEntityLinkServiceConfiguration() {
<span class="nc" id="L2924">        return entityLinkServiceConfiguration;</span>
    }

    public CmmnEngineConfiguration setEntityLinkServiceConfiguration(EntityLinkServiceConfiguration entityLinkServiceConfiguration) {
<span class="nc" id="L2928">        this.entityLinkServiceConfiguration = entityLinkServiceConfiguration;</span>
<span class="nc" id="L2929">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;EntityLinkServiceConfiguration&gt;&gt; getEntityLinkServiceConfigurators() {
<span class="nc" id="L2933">        return entityLinkServiceConfigurators;</span>
    }

    public CmmnEngineConfiguration setEntityLinkServiceConfigurators(
                    Collection&lt;ServiceConfigurator&lt;EntityLinkServiceConfiguration&gt;&gt; entityLinkServiceConfigurators) {
<span class="nc" id="L2938">        this.entityLinkServiceConfigurators = entityLinkServiceConfigurators;</span>
<span class="nc" id="L2939">        return this;</span>
    }

    public CmmnEngineConfiguration addEntityLinkServiceConfigurator(ServiceConfigurator&lt;EntityLinkServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L2943" title="All 2 branches missed.">        if (this.entityLinkServiceConfigurators == null) {</span>
<span class="nc" id="L2944">            this.entityLinkServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }
<span class="nc" id="L2946">        this.entityLinkServiceConfigurators.add(configurator);</span>
<span class="nc" id="L2947">        return this;</span>
    }

    @Override
    public VariableServiceConfiguration getVariableServiceConfiguration() {
<span class="nc" id="L2952">        return variableServiceConfiguration;</span>
    }

    public CmmnEngineConfiguration setVariableServiceConfiguration(VariableServiceConfiguration variableServiceConfiguration) {
<span class="nc" id="L2956">        this.variableServiceConfiguration = variableServiceConfiguration;</span>
<span class="nc" id="L2957">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;VariableServiceConfiguration&gt;&gt; getVariableServiceConfigurators() {
<span class="nc" id="L2961">        return variableServiceConfigurators;</span>
    }

    public CmmnEngineConfiguration setVariableServiceConfigurators(Collection&lt;ServiceConfigurator&lt;VariableServiceConfiguration&gt;&gt; variableServiceConfigurators) {
<span class="nc" id="L2965">        this.variableServiceConfigurators = variableServiceConfigurators;</span>
<span class="nc" id="L2966">        return this;</span>
    }

    public CmmnEngineConfiguration addVariableServiceConfigurator(ServiceConfigurator&lt;VariableServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L2970" title="All 2 branches missed.">        if (this.variableServiceConfigurators == null) {</span>
<span class="nc" id="L2971">            this.variableServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L2974">        this.variableServiceConfigurators.add(configurator);</span>
<span class="nc" id="L2975">        return this;</span>
    }

    public TaskServiceConfiguration getTaskServiceConfiguration() {
<span class="nc" id="L2979">        return taskServiceConfiguration;</span>
    }

    public CmmnEngineConfiguration setTaskServiceConfiguration(TaskServiceConfiguration taskServiceConfiguration) {
<span class="nc" id="L2983">        this.taskServiceConfiguration = taskServiceConfiguration;</span>
<span class="nc" id="L2984">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;TaskServiceConfiguration&gt;&gt; getTaskServiceConfigurators() {
<span class="nc" id="L2988">        return taskServiceConfigurators;</span>
    }

    public CmmnEngineConfiguration setTaskServiceConfigurators(Collection&lt;ServiceConfigurator&lt;TaskServiceConfiguration&gt;&gt; taskServiceConfigurators) {
<span class="nc" id="L2992">        this.taskServiceConfigurators = taskServiceConfigurators;</span>
<span class="nc" id="L2993">        return this;</span>
    }

    public CmmnEngineConfiguration addTaskServiceConfigurator(ServiceConfigurator&lt;TaskServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L2997" title="All 2 branches missed.">        if (this.taskServiceConfigurators == null) {</span>
<span class="nc" id="L2998">            this.taskServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L3001">        this.taskServiceConfigurators.add(configurator);</span>
<span class="nc" id="L3002">        return this;</span>
    }

    public InternalHistoryTaskManager getInternalHistoryTaskManager() {
<span class="nc" id="L3006">        return internalHistoryTaskManager;</span>
    }

    public CmmnEngineConfiguration setInternalHistoryTaskManager(InternalHistoryTaskManager internalHistoryTaskManager) {
<span class="nc" id="L3010">        this.internalHistoryTaskManager = internalHistoryTaskManager;</span>
<span class="nc" id="L3011">        return this;</span>
    }

    public InternalTaskVariableScopeResolver getInternalTaskVariableScopeResolver() {
<span class="nc" id="L3015">        return internalTaskVariableScopeResolver;</span>
    }

    public CmmnEngineConfiguration setInternalTaskVariableScopeResolver(InternalTaskVariableScopeResolver internalTaskVariableScopeResolver) {
<span class="nc" id="L3019">        this.internalTaskVariableScopeResolver = internalTaskVariableScopeResolver;</span>
<span class="nc" id="L3020">        return this;</span>
    }

    public boolean isEnableTaskRelationshipCounts() {
<span class="nc" id="L3024">        return isEnableTaskRelationshipCounts;</span>
    }

    public CmmnEngineConfiguration setEnableTaskRelationshipCounts(boolean isEnableTaskRelationshipCounts) {
<span class="nc" id="L3028">        this.isEnableTaskRelationshipCounts = isEnableTaskRelationshipCounts;</span>
<span class="nc" id="L3029">        return this;</span>
    }

    public BatchServiceConfiguration getBatchServiceConfiguration() {
<span class="nc" id="L3033">        return batchServiceConfiguration;</span>
    }

    public CmmnEngineConfiguration setBatchServiceConfiguration(BatchServiceConfiguration batchServiceConfiguration) {
<span class="nc" id="L3037">        this.batchServiceConfiguration = batchServiceConfiguration;</span>
<span class="nc" id="L3038">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;BatchServiceConfiguration&gt;&gt; getBatchServiceConfigurators() {
<span class="nc" id="L3042">        return batchServiceConfigurators;</span>
    }

    public CmmnEngineConfiguration setBatchServiceConfigurators(Collection&lt;ServiceConfigurator&lt;BatchServiceConfiguration&gt;&gt; batchServiceConfigurators) {
<span class="nc" id="L3046">        this.batchServiceConfigurators = batchServiceConfigurators;</span>
<span class="nc" id="L3047">        return this;</span>
    }

    public CmmnEngineConfiguration addBatchServiceConfigurator(
                    ServiceConfigurator&lt;BatchServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L3052" title="All 2 branches missed.">        if (this.batchServiceConfigurators == null) {</span>
<span class="nc" id="L3053">            this.batchServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L3056">        this.batchServiceConfigurators.add(configurator);</span>
<span class="nc" id="L3057">        return this;</span>
    }

    public InternalHistoryVariableManager getInternalHistoryVariableManager() {
<span class="nc" id="L3061">        return internalHistoryVariableManager;</span>
    }

    public CmmnEngineConfiguration setInternalHistoryVariableManager(InternalHistoryVariableManager internalHistoryVariableManager) {
<span class="nc" id="L3065">        this.internalHistoryVariableManager = internalHistoryVariableManager;</span>
<span class="nc" id="L3066">        return this;</span>
    }

    public boolean isSerializableVariableTypeTrackDeserializedObjects() {
<span class="nc" id="L3070">        return serializableVariableTypeTrackDeserializedObjects;</span>
    }

    public CmmnEngineConfiguration setSerializableVariableTypeTrackDeserializedObjects(boolean serializableVariableTypeTrackDeserializedObjects) {
<span class="nc" id="L3074">        this.serializableVariableTypeTrackDeserializedObjects = serializableVariableTypeTrackDeserializedObjects;</span>
<span class="nc" id="L3075">        return this;</span>
    }

    public boolean isJsonVariableTypeTrackObjects() {
<span class="nc" id="L3079">        return jsonVariableTypeTrackObjects;</span>
    }

    public CmmnEngineConfiguration setJsonVariableTypeTrackObjects(boolean jsonVariableTypeTrackObjects) {
<span class="nc" id="L3083">        this.jsonVariableTypeTrackObjects = jsonVariableTypeTrackObjects;</span>
<span class="nc" id="L3084">        return this;</span>
    }

    public CaseDiagramGenerator getCaseDiagramGenerator() {
<span class="nc" id="L3088">        return caseDiagramGenerator;</span>
    }

    public CmmnEngineConfiguration setCaseDiagramGenerator(CaseDiagramGenerator caseDiagramGenerator) {
<span class="nc" id="L3092">        this.caseDiagramGenerator = caseDiagramGenerator;</span>
<span class="nc" id="L3093">        return this;</span>
    }

    public boolean isCreateDiagramOnDeploy() {
<span class="nc" id="L3097">        return isCreateDiagramOnDeploy;</span>
    }

    public CmmnEngineConfiguration setCreateDiagramOnDeploy(boolean isCreateDiagramOnDeploy) {
<span class="nc" id="L3101">        this.isCreateDiagramOnDeploy = isCreateDiagramOnDeploy;</span>
<span class="nc" id="L3102">        return this;</span>
    }

    public String getActivityFontName() {
<span class="nc" id="L3106">        return activityFontName;</span>
    }

    public CmmnEngineConfiguration setActivityFontName(String activityFontName) {
<span class="nc" id="L3110">        this.activityFontName = activityFontName;</span>
<span class="nc" id="L3111">        return this;</span>
    }

    public String getLabelFontName() {
<span class="nc" id="L3115">        return labelFontName;</span>
    }

    public CmmnEngineConfiguration setLabelFontName(String labelFontName) {
<span class="nc" id="L3119">        this.labelFontName = labelFontName;</span>
<span class="nc" id="L3120">        return this;</span>
    }

    public String getAnnotationFontName() {
<span class="nc" id="L3124">        return annotationFontName;</span>
    }

    public CmmnEngineConfiguration setAnnotationFontName(String annotationFontName) {
<span class="nc" id="L3128">        this.annotationFontName = annotationFontName;</span>
<span class="nc" id="L3129">        return this;</span>
    }

    public boolean isDisableIdmEngine() {
<span class="nc" id="L3133">        return disableIdmEngine;</span>
    }

    public CmmnEngineConfiguration setDisableIdmEngine(boolean disableIdmEngine) {
<span class="nc" id="L3137">        this.disableIdmEngine = disableIdmEngine;</span>
<span class="nc" id="L3138">        return this;</span>
    }
    
    public boolean isDisableEventRegistry() {
<span class="nc" id="L3142">        return disableEventRegistry;</span>
    }

    public CmmnEngineConfiguration setDisableEventRegistry(boolean disableEventRegistry) {
<span class="nc" id="L3146">        this.disableEventRegistry = disableEventRegistry;</span>
<span class="nc" id="L3147">        return this;</span>
    }

    public JobServiceConfiguration getJobServiceConfiguration() {
<span class="nc" id="L3151">        return jobServiceConfiguration;</span>
    }

    public CmmnEngineConfiguration setJobServiceConfiguration(JobServiceConfiguration jobServiceConfiguration) {
<span class="nc" id="L3155">        this.jobServiceConfiguration = jobServiceConfiguration;</span>
<span class="nc" id="L3156">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;JobServiceConfiguration&gt;&gt; getJobServiceConfigurators() {
<span class="nc" id="L3160">        return jobServiceConfigurators;</span>
    }

    public CmmnEngineConfiguration setJobServiceConfigurators(Collection&lt;ServiceConfigurator&lt;JobServiceConfiguration&gt;&gt; jobServiceConfigurators) {
<span class="nc" id="L3164">        this.jobServiceConfigurators = jobServiceConfigurators;</span>
<span class="nc" id="L3165">        return this;</span>
    }

    public CmmnEngineConfiguration addJobServiceConfigurator(ServiceConfigurator&lt;JobServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L3169" title="All 2 branches missed.">        if (this.jobServiceConfigurators == null) {</span>
<span class="nc" id="L3170">            this.jobServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L3173">        this.jobServiceConfigurators.add(configurator);</span>
<span class="nc" id="L3174">        return this;</span>
    }

    public JobManager getJobManager() {
<span class="nc" id="L3178">        return jobManager;</span>
    }

    public CmmnEngineConfiguration setJobManager(JobManager jobManager) {
<span class="nc" id="L3182">        this.jobManager = jobManager;</span>
<span class="nc" id="L3183">        return this;</span>
    }

    public List&lt;JobHandler&gt; getCustomJobHandlers() {
<span class="nc" id="L3187">        return customJobHandlers;</span>
    }

    public CmmnEngineConfiguration setCustomJobHandlers(List&lt;JobHandler&gt; customJobHandlers) {
<span class="nc" id="L3191">        this.customJobHandlers = customJobHandlers;</span>
<span class="nc" id="L3192">        return this;</span>
    }

    public Map&lt;String, JobHandler&gt; getJobHandlers() {
<span class="nc" id="L3196">        return jobHandlers;</span>
    }

    public CmmnEngineConfiguration setJobHandlers(Map&lt;String, JobHandler&gt; jobHandlers) {
<span class="nc" id="L3200">        this.jobHandlers = jobHandlers;</span>
<span class="nc" id="L3201">        return this;</span>
    }

    public InternalJobManager getInternalJobManager() {
<span class="nc" id="L3205">        return internalJobManager;</span>
    }

    public CmmnEngineConfiguration setInternalJobManager(InternalJobManager internalJobManager) {
<span class="nc" id="L3209">        this.internalJobManager = internalJobManager;</span>
<span class="nc" id="L3210">        return this;</span>
    }

    public List&lt;AsyncRunnableExecutionExceptionHandler&gt; getCustomAsyncRunnableExecutionExceptionHandlers() {
<span class="nc" id="L3214">        return customAsyncRunnableExecutionExceptionHandlers;</span>
    }

    public CmmnEngineConfiguration setCustomAsyncRunnableExecutionExceptionHandlers(
            List&lt;AsyncRunnableExecutionExceptionHandler&gt; customAsyncRunnableExecutionExceptionHandlers) {
<span class="nc" id="L3219">        this.customAsyncRunnableExecutionExceptionHandlers = customAsyncRunnableExecutionExceptionHandlers;</span>
<span class="nc" id="L3220">        return this;</span>
    }

    public boolean isAddDefaultExceptionHandler() {
<span class="nc" id="L3224">        return addDefaultExceptionHandler;</span>
    }

    public CmmnEngineConfiguration setAddDefaultExceptionHandler(boolean addDefaultExceptionHandler) {
<span class="nc" id="L3228">        this.addDefaultExceptionHandler = addDefaultExceptionHandler;</span>
<span class="nc" id="L3229">        return this;</span>
    }

    public FailedJobCommandFactory getFailedJobCommandFactory() {
<span class="nc" id="L3233">        return failedJobCommandFactory;</span>
    }

    public CmmnEngineConfiguration setFailedJobCommandFactory(FailedJobCommandFactory failedJobCommandFactory) {
<span class="nc" id="L3237">        this.failedJobCommandFactory = failedJobCommandFactory;</span>
<span class="nc" id="L3238">        return this;</span>
    }

    public BusinessCalendarManager getBusinessCalendarManager() {
<span class="nc" id="L3242">        return businessCalendarManager;</span>
    }

    public CmmnEngineConfiguration setBusinessCalendarManager(BusinessCalendarManager businessCalendarManager) {
<span class="nc" id="L3246">        this.businessCalendarManager = businessCalendarManager;</span>
<span class="nc" id="L3247">        return this;</span>
    }
    
    public EventRegistryEventConsumer getEventRegistryEventConsumer() {
<span class="nc" id="L3251">        return eventRegistryEventConsumer;</span>
    }

    public CmmnEngineConfiguration setEventRegistryEventConsumer(EventRegistryEventConsumer eventRegistryEventConsumer) {
<span class="nc" id="L3255">        this.eventRegistryEventConsumer = eventRegistryEventConsumer;</span>
<span class="nc" id="L3256">        return this;</span>
    }

    public boolean isEventRegistryStartCaseInstanceAsync() {
<span class="nc" id="L3260">        return eventRegistryStartCaseInstanceAsync;</span>
    }

    public CmmnEngineConfiguration setEventRegistryStartCaseInstanceAsync(boolean eventRegistryStartCaseInstanceAsync) {
<span class="nc" id="L3264">        this.eventRegistryStartCaseInstanceAsync = eventRegistryStartCaseInstanceAsync;</span>
<span class="nc" id="L3265">        return this;</span>
    }

    public boolean isEventRegistryUniqueCaseInstanceCheckWithLock() {
<span class="nc" id="L3269">        return eventRegistryUniqueCaseInstanceCheckWithLock;</span>
    }

    public CmmnEngineConfiguration setEventRegistryUniqueCaseInstanceCheckWithLock(boolean eventRegistryUniqueCaseInstanceCheckWithLock) {
<span class="nc" id="L3273">        this.eventRegistryUniqueCaseInstanceCheckWithLock = eventRegistryUniqueCaseInstanceCheckWithLock;</span>
<span class="nc" id="L3274">        return this;</span>
    }

    public Duration getEventRegistryUniqueCaseInstanceStartLockTime() {
<span class="nc" id="L3278">        return eventRegistryUniqueCaseInstanceStartLockTime;</span>
    }

    public CmmnEngineConfiguration setEventRegistryUniqueCaseInstanceStartLockTime(Duration eventRegistryUniqueCaseInstanceStartLockTime) {
<span class="nc" id="L3282">        this.eventRegistryUniqueCaseInstanceStartLockTime = eventRegistryUniqueCaseInstanceStartLockTime;</span>
<span class="nc" id="L3283">        return this;</span>
    }

    public AsyncJobExecutorConfiguration getAsyncExecutorConfiguration() {
<span class="nc" id="L3287">        return asyncExecutorConfiguration;</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorConfiguration(AsyncJobExecutorConfiguration asyncExecutorConfiguration) {
<span class="nc" id="L3291">        this.asyncExecutorConfiguration = asyncExecutorConfiguration;</span>
<span class="nc" id="L3292">        return this;</span>
    }

    public AsyncExecutor getAsyncExecutor() {
<span class="nc" id="L3296">        return asyncExecutor;</span>
    }

    public CmmnEngineConfiguration setAsyncExecutor(AsyncExecutor asyncExecutor) {
<span class="nc" id="L3300">        this.asyncExecutor = asyncExecutor;</span>
<span class="nc" id="L3301">        return this;</span>
    }

    public AsyncTaskExecutor getAsyncTaskExecutor() {
<span class="nc" id="L3305">        return asyncTaskExecutor;</span>
    }

    public CmmnEngineConfiguration setAsyncTaskExecutor(AsyncTaskExecutor asyncTaskExecutor) {
<span class="nc" id="L3309">        this.asyncTaskExecutor = asyncTaskExecutor;</span>
<span class="nc" id="L3310">        return this;</span>
    }

    public AsyncTaskExecutor getAsyncTaskInvokerTaskExecutor() {
<span class="nc" id="L3314">        return asyncTaskInvokerTaskExecutor;</span>
    }

    public CmmnEngineConfiguration setAsyncTaskInvokerTaskExecutor(AsyncTaskExecutor asyncTaskInvokerTaskExecutor) {
<span class="nc" id="L3318">        this.asyncTaskInvokerTaskExecutor = asyncTaskInvokerTaskExecutor;</span>
<span class="nc" id="L3319">        return this;</span>
    }

    public AsyncTaskInvoker getAsyncTaskInvoker() {
<span class="nc" id="L3323">        return asyncTaskInvoker;</span>
    }

    public CmmnEngineConfiguration setAsyncTaskInvoker(AsyncTaskInvoker asyncTaskInvoker) {
<span class="nc" id="L3327">        this.asyncTaskInvoker = asyncTaskInvoker;</span>
<span class="nc" id="L3328">        return this;</span>
    }

    public boolean isAsyncExecutorActivate() {
<span class="nc" id="L3332">        return asyncExecutorActivate;</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorActivate(boolean asyncExecutorActivate) {
<span class="nc" id="L3336">        this.asyncExecutorActivate = asyncExecutorActivate;</span>
<span class="nc" id="L3337">        return this;</span>
    }

    public int getAsyncExecutorNumberOfRetries() {
<span class="nc" id="L3341">        return asyncExecutorNumberOfRetries;</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorNumberOfRetries(int asyncExecutorNumberOfRetries) {
<span class="nc" id="L3345">        this.asyncExecutorNumberOfRetries = asyncExecutorNumberOfRetries;</span>
<span class="nc" id="L3346">        return this;</span>
    }

    public int getLockTimeAsyncJobWaitTime() {
<span class="nc" id="L3350">        return lockTimeAsyncJobWaitTime;</span>
    }

    public CmmnEngineConfiguration setLockTimeAsyncJobWaitTime(int lockTimeAsyncJobWaitTime) {
<span class="nc" id="L3354">        this.lockTimeAsyncJobWaitTime = lockTimeAsyncJobWaitTime;</span>
<span class="nc" id="L3355">        return this;</span>
    }

    public int getDefaultFailedJobWaitTime() {
<span class="nc" id="L3359">        return defaultFailedJobWaitTime;</span>
    }

    public CmmnEngineConfiguration setDefaultFailedJobWaitTime(int defaultFailedJobWaitTime) {
<span class="nc" id="L3363">        this.defaultFailedJobWaitTime = defaultFailedJobWaitTime;</span>
<span class="nc" id="L3364">        return this;</span>
    }

    public int getAsyncFailedJobWaitTime() {
<span class="nc" id="L3368">        return asyncFailedJobWaitTime;</span>
    }

    public CmmnEngineConfiguration setAsyncFailedJobWaitTime(int asyncFailedJobWaitTime) {
<span class="nc" id="L3372">        this.asyncFailedJobWaitTime = asyncFailedJobWaitTime;</span>
<span class="nc" id="L3373">        return this;</span>
    }

    protected AsyncTaskExecutorConfiguration getOrCreateAsyncTaskInvokerTaskExecutorConfiguration() {
<span class="nc bnc" id="L3377" title="All 2 branches missed.">        if (asyncTaskInvokerTaskExecutorConfiguration == null) {</span>
<span class="nc" id="L3378">            asyncTaskInvokerTaskExecutorConfiguration = new AsyncTaskExecutorConfiguration();</span>
<span class="nc" id="L3379">            asyncTaskInvokerTaskExecutorConfiguration.setQueueSize(100);</span>
<span class="nc" id="L3380">            asyncTaskInvokerTaskExecutorConfiguration.setThreadPoolNamingPattern(&quot;flowable-async-task-invoker-thread-%d&quot;);</span>
        }
<span class="nc" id="L3382">        return asyncTaskInvokerTaskExecutorConfiguration;</span>
    }

    public AsyncTaskExecutorConfiguration getAsyncTaskInvokerTaskExecutorConfiguration() {
<span class="nc" id="L3386">        return asyncTaskInvokerTaskExecutorConfiguration;</span>
    }

    public CmmnEngineConfiguration setAsyncTaskInvokerTaskExecutorConfiguration(AsyncTaskExecutorConfiguration asyncTaskInvokerTaskExecutorConfiguration) {
<span class="nc" id="L3390">        this.asyncTaskInvokerTaskExecutorConfiguration = asyncTaskInvokerTaskExecutorConfiguration;</span>
<span class="nc" id="L3391">        return this;</span>
    }

    protected AsyncTaskExecutorConfiguration getOrCreateAsyncExecutorTaskExecutorConfiguration() {
<span class="nc bnc" id="L3395" title="All 2 branches missed.">        if (asyncExecutorTaskExecutorConfiguration == null) {</span>
<span class="nc" id="L3396">            asyncExecutorTaskExecutorConfiguration = new AsyncTaskExecutorConfiguration();</span>
<span class="nc" id="L3397">            asyncExecutorTaskExecutorConfiguration.setThreadPoolNamingPattern(&quot;flowable-async-job-executor-thread-%d&quot;);</span>
        }
<span class="nc" id="L3399">        return asyncExecutorTaskExecutorConfiguration;</span>
    }

    public AsyncTaskExecutorConfiguration getAsyncExecutorTaskExecutorConfiguration() {
<span class="nc" id="L3403">        return asyncExecutorTaskExecutorConfiguration;</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorTaskExecutorConfiguration(AsyncTaskExecutorConfiguration asyncExecutorTaskExecutorConfiguration) {
<span class="nc" id="L3407">        this.asyncExecutorTaskExecutorConfiguration = asyncExecutorTaskExecutorConfiguration;</span>
<span class="nc" id="L3408">        return this;</span>
    }

    public int getAsyncExecutorCorePoolSize() {
<span class="nc" id="L3412">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().getCorePoolSize();</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorCorePoolSize(int asyncExecutorCorePoolSize) {
<span class="nc" id="L3416">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setCorePoolSize(asyncExecutorCorePoolSize);</span>
<span class="nc" id="L3417">        return this;</span>
    }

    public int getAsyncExecutorMaxPoolSize() {
<span class="nc" id="L3421">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().getMaxPoolSize();</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorMaxPoolSize(int asyncExecutorMaxPoolSize) {
<span class="nc" id="L3425">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setMaxPoolSize(asyncExecutorMaxPoolSize);</span>
<span class="nc" id="L3426">        return this;</span>
    }

    public long getAsyncExecutorThreadKeepAliveTime() {
<span class="nc" id="L3430">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().getKeepAlive().toMillis();</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorThreadKeepAliveTime(long asyncExecutorThreadKeepAliveTime) {
<span class="nc" id="L3434">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setKeepAlive(Duration.ofMillis(asyncExecutorThreadKeepAliveTime));</span>
<span class="nc" id="L3435">        return this;</span>
    }

    public int getAsyncExecutorThreadPoolQueueSize() {
<span class="nc" id="L3439">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().getQueueSize();</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorThreadPoolQueueSize(int asyncExecutorThreadPoolQueueSize) {
<span class="nc" id="L3443">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setQueueSize(asyncExecutorThreadPoolQueueSize);</span>
<span class="nc" id="L3444">        return this;</span>
    }

    public BlockingQueue&lt;Runnable&gt; getAsyncExecutorThreadPoolQueue() {
<span class="nc" id="L3448">        return asyncExecutorThreadPoolQueue;</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorThreadPoolQueue(BlockingQueue&lt;Runnable&gt; asyncExecutorThreadPoolQueue) {
<span class="nc" id="L3452">        this.asyncExecutorThreadPoolQueue = asyncExecutorThreadPoolQueue;</span>
<span class="nc" id="L3453">        return this;</span>
    }

    public long getAsyncExecutorSecondsToWaitOnShutdown() {
<span class="nc" id="L3457">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().getAwaitTerminationPeriod().getSeconds();</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorSecondsToWaitOnShutdown(long asyncExecutorSecondsToWaitOnShutdown) {
<span class="nc" id="L3461">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setAwaitTerminationPeriod(Duration.ofSeconds(asyncExecutorSecondsToWaitOnShutdown));</span>
<span class="nc" id="L3462">        return this;</span>
    }

    public boolean isAsyncExecutorAllowCoreThreadTimeout() {
<span class="nc" id="L3466">        return getOrCreateAsyncExecutorTaskExecutorConfiguration().isAllowCoreThreadTimeout();</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorAllowCoreThreadTimeout(boolean asyncExecutorAllowCoreThreadTimeout) {
<span class="nc" id="L3470">        getOrCreateAsyncExecutorTaskExecutorConfiguration().setAllowCoreThreadTimeout(asyncExecutorAllowCoreThreadTimeout);</span>
<span class="nc" id="L3471">        return this;</span>
    }

    public ThreadFactory getAsyncExecutorThreadFactory() {
<span class="nc" id="L3475">        return asyncExecutorThreadFactory;</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorThreadFactory(ThreadFactory asyncExecutorThreadFactory) {
<span class="nc" id="L3479">        this.asyncExecutorThreadFactory = asyncExecutorThreadFactory;</span>
<span class="nc" id="L3480">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getMaxTimerJobsPerAcquisition()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorMaxTimerJobsPerAcquisition() {
<span class="nc" id="L3488">        return asyncExecutorConfiguration.getMaxTimerJobsPerAcquisition();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setMaxTimerJobsPerAcquisition(int)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorMaxTimerJobsPerAcquisition(int asyncExecutorMaxTimerJobsPerAcquisition) {
<span class="nc" id="L3496">        asyncExecutorConfiguration.setMaxTimerJobsPerAcquisition(asyncExecutorMaxTimerJobsPerAcquisition);</span>
<span class="nc" id="L3497">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getMaxAsyncJobsDuePerAcquisition()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorMaxAsyncJobsDuePerAcquisition() {
<span class="nc" id="L3505">        return asyncExecutorConfiguration.getMaxAsyncJobsDuePerAcquisition();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setMaxAsyncJobsDuePerAcquisition(int)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorMaxAsyncJobsDuePerAcquisition(int asyncExecutorMaxAsyncJobsDuePerAcquisition) {
<span class="nc" id="L3513">        asyncExecutorConfiguration.setMaxAsyncJobsDuePerAcquisition(asyncExecutorMaxAsyncJobsDuePerAcquisition);</span>
<span class="nc" id="L3514">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getDefaultTimerJobAcquireWaitTime()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorDefaultTimerJobAcquireWaitTime() {
<span class="nc" id="L3522">        return (int) asyncExecutorConfiguration.getDefaultTimerJobAcquireWaitTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setDefaultTimerJobAcquireWaitTime(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorDefaultTimerJobAcquireWaitTime(int asyncExecutorDefaultTimerJobAcquireWaitTime) {
<span class="nc" id="L3530">        asyncExecutorConfiguration.setDefaultTimerJobAcquireWaitTime(Duration.ofMillis(asyncExecutorDefaultTimerJobAcquireWaitTime));</span>
<span class="nc" id="L3531">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getDefaultAsyncJobAcquireWaitTime()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorDefaultAsyncJobAcquireWaitTime() {
<span class="nc" id="L3539">        return (int) asyncExecutorConfiguration.getDefaultAsyncJobAcquireWaitTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setDefaultAsyncJobAcquireWaitTime(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorDefaultAsyncJobAcquireWaitTime(int asyncExecutorDefaultAsyncJobAcquireWaitTime) {
<span class="nc" id="L3547">        asyncExecutorConfiguration.setDefaultAsyncJobAcquireWaitTime(Duration.ofMillis(asyncExecutorDefaultAsyncJobAcquireWaitTime));</span>
<span class="nc" id="L3548">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getDefaultQueueSizeFullWaitTime()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorDefaultQueueSizeFullWaitTime() {
<span class="nc" id="L3556">        return (int) asyncExecutorConfiguration.getDefaultQueueSizeFullWaitTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setDefaultQueueSizeFullWaitTime(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorDefaultQueueSizeFullWaitTime(int asyncExecutorDefaultQueueSizeFullWaitTime) {
<span class="nc" id="L3564">        asyncExecutorConfiguration.setDefaultQueueSizeFullWaitTime(Duration.ofMillis(asyncExecutorDefaultQueueSizeFullWaitTime));</span>
<span class="nc" id="L3565">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getLockOwner()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public String getAsyncExecutorLockOwner() {
<span class="nc" id="L3573">        return asyncExecutorConfiguration.getLockOwner();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setLockOwner(String)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorLockOwner(String asyncExecutorLockOwner) {
<span class="nc" id="L3581">        asyncExecutorConfiguration.setLockOwner(asyncExecutorLockOwner);</span>
<span class="nc" id="L3582">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isUnlockOwnedJobs()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncExecutorUnlockOwnedJobs() {
<span class="nc" id="L3590">        return asyncExecutorConfiguration.isUnlockOwnedJobs();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setUnlockOwnedJobs(boolean)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public void setAsyncExecutorUnlockOwnedJobs(boolean asyncExecutorUnlockOwnedJobs) {
<span class="nc" id="L3598">        asyncExecutorConfiguration.setUnlockOwnedJobs(asyncExecutorUnlockOwnedJobs);</span>
<span class="nc" id="L3599">    }</span>

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getTimerLockTime()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorTimerLockTimeInMillis() {
<span class="nc" id="L3606">        return (int) asyncExecutorConfiguration.getTimerLockTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setTimerLockTime(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorTimerLockTimeInMillis(int asyncExecutorTimerLockTimeInMillis) {
<span class="nc" id="L3614">        asyncExecutorConfiguration.setTimerLockTime(Duration.ofMillis(asyncExecutorTimerLockTimeInMillis));</span>
<span class="nc" id="L3615">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getAsyncJobLockTime()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorAsyncJobLockTimeInMillis() {
<span class="nc" id="L3623">        return (int) asyncExecutorConfiguration.getAsyncJobLockTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setAsyncJobLockTime(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorAsyncJobLockTimeInMillis(int asyncExecutorAsyncJobLockTimeInMillis) {
<span class="nc" id="L3631">        asyncExecutorConfiguration.setAsyncJobLockTime(Duration.ofMillis(asyncExecutorAsyncJobLockTimeInMillis));</span>
<span class="nc" id="L3632">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getResetExpiredJobsInterval()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorResetExpiredJobsInterval() {
<span class="nc" id="L3640">        return (int) asyncExecutorConfiguration.getResetExpiredJobsInterval().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobsInterval(Duration)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorResetExpiredJobsInterval(int asyncExecutorResetExpiredJobsInterval) {
<span class="nc" id="L3648">        asyncExecutorConfiguration.setResetExpiredJobsInterval(Duration.ofMillis(asyncExecutorResetExpiredJobsInterval));</span>
<span class="nc" id="L3649">        return this;</span>
    }

    public int getAsyncExecutorResetExpiredJobsMaxTimeout() {
<span class="nc" id="L3653">        return asyncExecutorResetExpiredJobsMaxTimeout;</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorResetExpiredJobsMaxTimeout(int asyncExecutorResetExpiredJobsMaxTimeout) {
<span class="nc" id="L3657">        this.asyncExecutorResetExpiredJobsMaxTimeout = asyncExecutorResetExpiredJobsMaxTimeout;</span>
<span class="nc" id="L3658">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getResetExpiredJobsPageSize()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncExecutorResetExpiredJobsPageSize() {
<span class="nc" id="L3666">        return asyncExecutorConfiguration.getResetExpiredJobsPageSize();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobsPageSize(int)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorResetExpiredJobsPageSize(int asyncExecutorResetExpiredJobsPageSize) {
<span class="nc" id="L3674">        asyncExecutorConfiguration.setResetExpiredJobsPageSize(asyncExecutorResetExpiredJobsPageSize);</span>
<span class="nc" id="L3675">        return this;</span>
    }

    public ExecuteAsyncRunnableFactory getAsyncExecutorExecuteAsyncRunnableFactory() {
<span class="nc" id="L3679">        return asyncExecutorExecuteAsyncRunnableFactory;</span>
    }

    public CmmnEngineConfiguration setAsyncExecutorExecuteAsyncRunnableFactory(
            ExecuteAsyncRunnableFactory asyncExecutorExecuteAsyncRunnableFactory) {
<span class="nc" id="L3684">        this.asyncExecutorExecuteAsyncRunnableFactory = asyncExecutorExecuteAsyncRunnableFactory;</span>
<span class="nc" id="L3685">        return this;</span>
    }

    public AsyncJobExecutorConfiguration getAsyncHistoryExecutorConfiguration() {
<span class="nc" id="L3689">        return asyncHistoryExecutorConfiguration;</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutorConfiguration(AsyncJobExecutorConfiguration asyncHistoryExecutorConfiguration) {
<span class="nc" id="L3693">        this.asyncHistoryExecutorConfiguration = asyncHistoryExecutorConfiguration;</span>
<span class="nc" id="L3694">        return this;</span>
    }

    public AsyncExecutor getAsyncHistoryExecutor() {
<span class="nc" id="L3698">        return asyncHistoryExecutor;</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutor(AsyncExecutor asyncHistoryExecutor) {
<span class="nc" id="L3702">        this.asyncHistoryExecutor = asyncHistoryExecutor;</span>
<span class="nc" id="L3703">        return this;</span>
    }
    
    public AsyncTaskExecutor getAsyncHistoryTaskExecutor() {
<span class="nc" id="L3707">        return asyncHistoryTaskExecutor;</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryTaskExecutor(AsyncTaskExecutor asyncHistoryTaskExecutor) {
<span class="nc" id="L3711">        this.asyncHistoryTaskExecutor = asyncHistoryTaskExecutor;</span>
<span class="nc" id="L3712">        return this;</span>
    }

    public HistoricPlanItemInstanceDataManager getHistoricPlanItemInstanceDataManager() {
<span class="nc" id="L3716">        return historicPlanItemInstanceDataManager;</span>
    }

    public CmmnEngineConfiguration setHistoricPlanItemInstanceDataManager(HistoricPlanItemInstanceDataManager historicPlanItemInstanceDataManager) {
<span class="nc" id="L3720">        this.historicPlanItemInstanceDataManager = historicPlanItemInstanceDataManager;</span>
<span class="nc" id="L3721">        return this;</span>
    }

    public InternalTaskAssignmentManager getInternalTaskAssignmentManager() {
<span class="nc" id="L3725">        return internalTaskAssignmentManager;</span>
    }

    public CmmnEngineConfiguration setInternalTaskAssignmentManager(InternalTaskAssignmentManager internalTaskAssignmentManager) {
<span class="nc" id="L3729">        this.internalTaskAssignmentManager = internalTaskAssignmentManager;</span>
<span class="nc" id="L3730">        return this;</span>
    }

    public IdentityLinkEventHandler getIdentityLinkEventHandler() {
<span class="nc" id="L3734">        return identityLinkEventHandler;</span>
    }

    public CmmnEngineConfiguration setIdentityLinkEventHandler(IdentityLinkEventHandler identityLinkEventHandler) {
<span class="nc" id="L3738">        this.identityLinkEventHandler = identityLinkEventHandler;</span>
<span class="nc" id="L3739">        return this;</span>
    }

    public InternalJobParentStateResolver getInternalJobParentStateResolver() {
<span class="nc" id="L3743">        return internalJobParentStateResolver;</span>
    }

    public CmmnEngineConfiguration setInternalJobParentStateResolver(InternalJobParentStateResolver internalJobParentStateResolver) {
<span class="nc" id="L3747">        this.internalJobParentStateResolver = internalJobParentStateResolver;</span>
<span class="nc" id="L3748">        return this;</span>
    }

    public boolean isAsyncHistoryEnabled() {
<span class="nc" id="L3752">        return isAsyncHistoryEnabled;</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryEnabled(boolean isAsyncHistoryEnabled) {
<span class="nc" id="L3756">        this.isAsyncHistoryEnabled = isAsyncHistoryEnabled;</span>
<span class="nc" id="L3757">        return this;</span>
    }
    
    public boolean isAsyncHistoryExecutorActivate() {
<span class="nc" id="L3761">        return asyncHistoryExecutorActivate;</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutorActivate(boolean asyncHistoryExecutorActivate) {
<span class="nc" id="L3765">        this.asyncHistoryExecutorActivate = asyncHistoryExecutorActivate;</span>
<span class="nc" id="L3766">        return this;</span>
    }

    public int getAsyncHistoryExecutorNumberOfRetries() {
<span class="nc" id="L3770">        return asyncHistoryExecutorNumberOfRetries;</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutorNumberOfRetries(int asyncHistoryExecutorNumberOfRetries) {
<span class="nc" id="L3774">        this.asyncHistoryExecutorNumberOfRetries = asyncHistoryExecutorNumberOfRetries;</span>
<span class="nc" id="L3775">        return this;</span>
    }

    protected AsyncTaskExecutorConfiguration getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration() {
<span class="nc bnc" id="L3779" title="All 2 branches missed.">        if (asyncHistoryExecutorTaskExecutorConfiguration == null) {</span>
<span class="nc" id="L3780">            asyncHistoryExecutorTaskExecutorConfiguration = new AsyncTaskExecutorConfiguration();</span>
<span class="nc" id="L3781">            asyncHistoryExecutorTaskExecutorConfiguration.setThreadPoolNamingPattern(&quot;flowable-async-history-job-executor-thread-%d&quot;);</span>
        }
<span class="nc" id="L3783">        return asyncHistoryExecutorTaskExecutorConfiguration;</span>
    }

    public AsyncTaskExecutorConfiguration getAsyncHistoryExecutorTaskExecutorConfiguration() {
<span class="nc" id="L3787">        return asyncHistoryExecutorTaskExecutorConfiguration;</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutorTaskExecutorConfiguration(AsyncTaskExecutorConfiguration asyncHistoryExecutorTaskExecutorConfiguration) {
<span class="nc" id="L3791">        this.asyncHistoryExecutorTaskExecutorConfiguration = asyncHistoryExecutorTaskExecutorConfiguration;</span>
<span class="nc" id="L3792">        return this;</span>
    }

    public int getAsyncHistoryExecutorCorePoolSize() {
<span class="nc" id="L3796">        return getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().getCorePoolSize();</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutorCorePoolSize(int asyncHistoryExecutorCorePoolSize) {
<span class="nc" id="L3800">        getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().setCorePoolSize(asyncHistoryExecutorCorePoolSize);</span>
<span class="nc" id="L3801">        return this;</span>
    }

    public int getAsyncHistoryExecutorMaxPoolSize() {
<span class="nc" id="L3805">        return getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().getMaxPoolSize();</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutorMaxPoolSize(int asyncHistoryExecutorMaxPoolSize) {
<span class="nc" id="L3809">        getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().setMaxPoolSize(asyncHistoryExecutorMaxPoolSize);</span>
<span class="nc" id="L3810">        return this;</span>
    }

    public long getAsyncHistoryExecutorThreadKeepAliveTime() {
<span class="nc" id="L3814">        return getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().getKeepAlive().toMillis();</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutorThreadKeepAliveTime(long asyncHistoryExecutorThreadKeepAliveTime) {
<span class="nc" id="L3818">        getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().setKeepAlive(Duration.ofMillis(asyncHistoryExecutorThreadKeepAliveTime));</span>
<span class="nc" id="L3819">        return this;</span>
    }

    public int getAsyncHistoryExecutorThreadPoolQueueSize() {
<span class="nc" id="L3823">        return getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().getQueueSize();</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutorThreadPoolQueueSize(int asyncHistoryExecutorThreadPoolQueueSize) {
<span class="nc" id="L3827">        getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().setQueueSize(asyncHistoryExecutorThreadPoolQueueSize);</span>
<span class="nc" id="L3828">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getMaxAsyncJobsDuePerAcquisition()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorMaxJobsDuePerAcquisition() {
<span class="nc" id="L3836">        return getOrCreateAsyncHistoryExecutorConfiguration().getMaxAsyncJobsDuePerAcquisition();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setMaxAsyncJobsDuePerAcquisition(int)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncHistoryExecutorMaxJobsDuePerAcquisition(int asyncHistoryExecutorMaxJobsDuePerAcquisition) {
<span class="nc" id="L3844">        getOrCreateAsyncHistoryExecutorConfiguration().setMaxAsyncJobsDuePerAcquisition(asyncHistoryExecutorMaxJobsDuePerAcquisition);</span>
<span class="nc" id="L3845">        return this;</span>
    }

    public BlockingQueue&lt;Runnable&gt; getAsyncHistoryExecutorThreadPoolQueue() {
<span class="nc" id="L3849">        return asyncHistoryExecutorThreadPoolQueue;</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutorThreadPoolQueue(BlockingQueue&lt;Runnable&gt; asyncHistoryExecutorThreadPoolQueue) {
<span class="nc" id="L3853">        this.asyncHistoryExecutorThreadPoolQueue = asyncHistoryExecutorThreadPoolQueue;</span>
<span class="nc" id="L3854">        return this;</span>
    }

    public long getAsyncHistoryExecutorSecondsToWaitOnShutdown() {
<span class="nc" id="L3858">        return getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().getAwaitTerminationPeriod().getSeconds();</span>
    }

    public CmmnEngineConfiguration setAsyncHistoryExecutorSecondsToWaitOnShutdown(long asyncHistoryExecutorSecondsToWaitOnShutdown) {
<span class="nc" id="L3862">        getOrCreateAsyncHistoryExecutorTaskExecutorConfiguration().setAwaitTerminationPeriod(Duration.ofSeconds(asyncHistoryExecutorSecondsToWaitOnShutdown));</span>
<span class="nc" id="L3863">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getDefaultAsyncJobAcquireWaitTime()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorDefaultAsyncJobAcquireWaitTime() {
<span class="nc" id="L3871">        return (int) getOrCreateAsyncHistoryExecutorConfiguration().getDefaultAsyncJobAcquireWaitTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setDefaultAsyncJobAcquireWaitTime(Duration)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncHistoryExecutorDefaultAsyncJobAcquireWaitTime(int asyncHistoryExecutorDefaultAsyncJobAcquireWaitTime) {
<span class="nc" id="L3879">        getOrCreateAsyncHistoryExecutorConfiguration().setDefaultAsyncJobAcquireWaitTime(Duration.ofMillis(asyncHistoryExecutorDefaultAsyncJobAcquireWaitTime));</span>
<span class="nc" id="L3880">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getDefaultQueueSizeFullWaitTime()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorDefaultQueueSizeFullWaitTime() {
<span class="nc" id="L3888">        return (int) getOrCreateAsyncHistoryExecutorConfiguration().getDefaultQueueSizeFullWaitTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setDefaultQueueSizeFullWaitTime(Duration)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncHistoryExecutorDefaultQueueSizeFullWaitTime(int asyncHistoryExecutorDefaultQueueSizeFullWaitTime) {
<span class="nc" id="L3896">        getOrCreateAsyncHistoryExecutorConfiguration().setDefaultQueueSizeFullWaitTime(Duration.ofMillis(asyncHistoryExecutorDefaultQueueSizeFullWaitTime));</span>
<span class="nc" id="L3897">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getLockOwner()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public String getAsyncHistoryExecutorLockOwner() {
<span class="nc" id="L3905">        return getOrCreateAsyncHistoryExecutorConfiguration().getLockOwner();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setLockOwner(String)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncHistoryExecutorLockOwner(String asyncHistoryExecutorLockOwner) {
<span class="nc" id="L3913">        getOrCreateAsyncHistoryExecutorConfiguration().setLockOwner(asyncHistoryExecutorLockOwner);</span>
<span class="nc" id="L3914">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getAsyncJobLockTime()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorAsyncJobLockTimeInMillis() {
<span class="nc" id="L3922">        return (int) getOrCreateAsyncHistoryExecutorConfiguration().getAsyncJobLockTime().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setAsyncJobLockTime(Duration)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncHistoryExecutorAsyncJobLockTimeInMillis(int asyncHistoryExecutorAsyncJobLockTimeInMillis) {
<span class="nc" id="L3930">        getOrCreateAsyncHistoryExecutorConfiguration().setAsyncJobLockTime(Duration.ofMillis(asyncHistoryExecutorAsyncJobLockTimeInMillis));</span>
<span class="nc" id="L3931">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getResetExpiredJobsInterval()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorResetExpiredJobsInterval() {
<span class="nc" id="L3939">        return (int) getOrCreateAsyncHistoryExecutorConfiguration().getResetExpiredJobsInterval().toMillis();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobsInterval(Duration)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncHistoryExecutorResetExpiredJobsInterval(int asyncHistoryExecutorResetExpiredJobsInterval) {
<span class="nc" id="L3947">        getOrCreateAsyncHistoryExecutorConfiguration().setResetExpiredJobsInterval(Duration.ofMillis(asyncHistoryExecutorResetExpiredJobsInterval));</span>
<span class="nc" id="L3948">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#getResetExpiredJobsPageSize()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public int getAsyncHistoryExecutorResetExpiredJobsPageSize() {
<span class="nc" id="L3956">        return getOrCreateAsyncHistoryExecutorConfiguration().getResetExpiredJobsPageSize();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobsPageSize(int)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncHistoryExecutorResetExpiredJobsPageSize(int asyncHistoryExecutorResetExpiredJobsPageSize) {
<span class="nc" id="L3964">        getOrCreateAsyncHistoryExecutorConfiguration().setResetExpiredJobsPageSize(asyncHistoryExecutorResetExpiredJobsPageSize);</span>
<span class="nc" id="L3965">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isAsyncJobAcquisitionEnabled()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncHistoryExecutorAsyncJobAcquisitionEnabled() {
<span class="nc" id="L3973">        return getOrCreateAsyncHistoryExecutorConfiguration().isAsyncJobAcquisitionEnabled();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setAsyncJobAcquisitionEnabled(boolean)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncHistoryExecutorAsyncJobAcquisitionEnabled(boolean isAsyncHistoryExecutorAsyncJobAcquisitionEnabled) {
<span class="nc" id="L3981">        getOrCreateAsyncHistoryExecutorConfiguration().setAsyncJobAcquisitionEnabled(isAsyncHistoryExecutorAsyncJobAcquisitionEnabled);</span>
<span class="nc" id="L3982">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isResetExpiredJobEnabled()} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncHistoryExecutorResetExpiredJobsEnabled() {
<span class="nc" id="L3990">        return getOrCreateAsyncHistoryExecutorConfiguration().isResetExpiredJobEnabled();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobEnabled(boolean)} via {@link #getAsyncHistoryExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncHistoryExecutorResetExpiredJobsEnabled(boolean isAsyncHistoryExecutorResetExpiredJobsEnabled) {
<span class="nc" id="L3998">        getOrCreateAsyncHistoryExecutorConfiguration().setResetExpiredJobEnabled(isAsyncHistoryExecutorResetExpiredJobsEnabled);</span>
<span class="nc" id="L3999">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isAsyncJobAcquisitionEnabled()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncExecutorAsyncJobAcquisitionEnabled() {
<span class="nc" id="L4007">        return asyncExecutorConfiguration.isAsyncJobAcquisitionEnabled();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setAsyncJobAcquisitionEnabled(boolean)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorAsyncJobAcquisitionEnabled(boolean isAsyncExecutorAsyncJobAcquisitionEnabled) {
<span class="nc" id="L4015">        asyncExecutorConfiguration.setAsyncJobAcquisitionEnabled(isAsyncExecutorAsyncJobAcquisitionEnabled);</span>
<span class="nc" id="L4016">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isTimerJobAcquisitionEnabled()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncExecutorTimerJobAcquisitionEnabled() {
<span class="nc" id="L4024">        return asyncExecutorConfiguration.isTimerJobAcquisitionEnabled();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setTimerJobAcquisitionEnabled(boolean)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorTimerJobAcquisitionEnabled(boolean isAsyncExecutorTimerJobAcquisitionEnabled) {
<span class="nc" id="L4032">        asyncExecutorConfiguration.setTimerJobAcquisitionEnabled(isAsyncExecutorTimerJobAcquisitionEnabled);</span>
<span class="nc" id="L4033">        return this;</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#isResetExpiredJobEnabled()} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public boolean isAsyncExecutorResetExpiredJobsEnabled() {
<span class="nc" id="L4041">        return asyncExecutorConfiguration.isResetExpiredJobEnabled();</span>
    }

    /**
     * @deprecated use {@link AsyncJobExecutorConfiguration#setResetExpiredJobEnabled(boolean)} via {@link #getAsyncExecutorConfiguration()}
     */
    @Deprecated
    public CmmnEngineConfiguration setAsyncExecutorResetExpiredJobsEnabled(boolean isAsyncExecutorResetExpiredJobsEnabled) {
<span class="nc" id="L4049">        asyncExecutorConfiguration.setResetExpiredJobEnabled(isAsyncExecutorResetExpiredJobsEnabled);</span>
<span class="nc" id="L4050">        return this;</span>
    }

    public boolean isEnableEntityLinks() {
<span class="nc" id="L4054">        return enableEntityLinks;</span>
    }

    public CmmnEngineConfiguration setEnableEntityLinks(boolean enableEntityLinks) {
<span class="nc" id="L4058">        this.enableEntityLinks = enableEntityLinks;</span>
<span class="nc" id="L4059">        return this;</span>
    }

    public EventSubscriptionServiceConfiguration getEventSubscriptionServiceConfiguration() {
<span class="nc" id="L4063">        return eventSubscriptionServiceConfiguration;</span>
    }

    public CmmnEngineConfiguration setEventSubscriptionServiceConfiguration(EventSubscriptionServiceConfiguration eventSubscriptionServiceConfiguration) {
<span class="nc" id="L4067">        this.eventSubscriptionServiceConfiguration = eventSubscriptionServiceConfiguration;</span>
<span class="nc" id="L4068">        return this;</span>
    }

    public Collection&lt;ServiceConfigurator&lt;EventSubscriptionServiceConfiguration&gt;&gt; getEventSubscriptionServiceConfigurators() {
<span class="nc" id="L4072">        return eventSubscriptionServiceConfigurators;</span>
    }

    public CmmnEngineConfiguration setEventSubscriptionServiceConfigurators(
                    Collection&lt;ServiceConfigurator&lt;EventSubscriptionServiceConfiguration&gt;&gt; eventSubscriptionServiceConfigurators) {
<span class="nc" id="L4077">        this.eventSubscriptionServiceConfigurators = eventSubscriptionServiceConfigurators;</span>
<span class="nc" id="L4078">        return this;</span>
    }

    public CmmnEngineConfiguration addEventSubscriptionServiceConfigurator(
                    ServiceConfigurator&lt;EventSubscriptionServiceConfiguration&gt; configurator) {
<span class="nc bnc" id="L4083" title="All 2 branches missed.">        if (this.eventSubscriptionServiceConfigurators == null) {</span>
<span class="nc" id="L4084">            this.eventSubscriptionServiceConfigurators = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L4087">        this.eventSubscriptionServiceConfigurators.add(configurator);</span>
<span class="nc" id="L4088">        return this;</span>
    }

    public Map&lt;String, HistoryJobHandler&gt; getHistoryJobHandlers() {
<span class="nc" id="L4092">        return historyJobHandlers;</span>
    }

    public CmmnEngineConfiguration setHistoryJobHandlers(Map&lt;String, HistoryJobHandler&gt; historyJobHandlers) {
<span class="nc" id="L4096">        this.historyJobHandlers = historyJobHandlers;</span>
<span class="nc" id="L4097">        return this;</span>
    }

    public List&lt;HistoryJobHandler&gt; getCustomHistoryJobHandlers() {
<span class="nc" id="L4101">        return customHistoryJobHandlers;</span>
    }

    public CmmnEngineConfiguration setCustomHistoryJobHandlers(List&lt;HistoryJobHandler&gt; customHistoryJobHandlers) {
<span class="nc" id="L4105">        this.customHistoryJobHandlers = customHistoryJobHandlers;</span>
<span class="nc" id="L4106">        return this;</span>
    }

    public List&lt;String&gt; getEnabledJobCategories() {
<span class="nc" id="L4110">        return enabledJobCategories;</span>
    }

    public CmmnEngineConfiguration setEnabledJobCategories(List&lt;String&gt; enabledJobCategories) {
<span class="nc" id="L4114">        this.enabledJobCategories = enabledJobCategories;</span>
<span class="nc" id="L4115">        return this;</span>
    }
    
    public CmmnEngineConfiguration addEnabledJobCategory(String jobCategory) {
<span class="nc bnc" id="L4119" title="All 2 branches missed.">        if (enabledJobCategories == null) {</span>
<span class="nc" id="L4120">            enabledJobCategories = new ArrayList&lt;&gt;();</span>
        }
        
<span class="nc" id="L4123">        enabledJobCategories.add(jobCategory);</span>
<span class="nc" id="L4124">        return this;</span>
    }

    public String getJobExecutionScope() {
<span class="nc" id="L4128">        return jobExecutionScope;</span>
    }

    public CmmnEngineConfiguration setJobExecutionScope(String jobExecutionScope) {
<span class="nc" id="L4132">        this.jobExecutionScope = jobExecutionScope;</span>
<span class="nc" id="L4133">        return this;</span>
    }
    
    public String getHistoryJobExecutionScope() {
<span class="nc" id="L4137">        return historyJobExecutionScope;</span>
    }

    public CmmnEngineConfiguration setHistoryJobExecutionScope(String historyJobExecutionScope) {
<span class="nc" id="L4141">        this.historyJobExecutionScope = historyJobExecutionScope;</span>
<span class="nc" id="L4142">        return this;</span>
    }

    public List&lt;CaseInstanceMigrationCallback&gt; getCaseInstanceMigrationCallbacks() {
<span class="nc" id="L4146">        return caseInstanceMigrationCallbacks;</span>
    }

    public CmmnEngineConfiguration setCaseInstanceMigrationCallbacks(List&lt;CaseInstanceMigrationCallback&gt; caseInstanceMigrationCallbacks) {
<span class="nc" id="L4150">        this.caseInstanceMigrationCallbacks = caseInstanceMigrationCallbacks;</span>
<span class="nc" id="L4151">        return this;</span>
    }

    public HttpClientConfig getHttpClientConfig() {
<span class="nc" id="L4155">        return httpClientConfig;</span>
    }

    public CmmnEngineConfiguration setHttpClientConfig(HttpClientConfig httpClientConfig) {
<span class="nc" id="L4159">        this.httpClientConfig.merge(httpClientConfig);</span>
<span class="nc" id="L4160">        return this;</span>
    }

    public FlowableMailClient getDefaultMailClient() {
<span class="nc" id="L4164">        return defaultMailClient;</span>
    }

    public CmmnEngineConfiguration setDefaultMailClient(FlowableMailClient defaultMailClient) {
<span class="nc" id="L4168">        this.defaultMailClient = defaultMailClient;</span>
<span class="nc" id="L4169">        return this;</span>
    }

    public MailServerInfo getDefaultMailServer() {
<span class="nc" id="L4173">        return getOrCreateDefaultMaiLServer();</span>
    }

    public CmmnEngineConfiguration setDefaultMailServer(MailServerInfo defaultMailServer) {
<span class="nc" id="L4177">        this.defaultMailServer = defaultMailServer;</span>
<span class="nc" id="L4178">        return this;</span>
    }

    protected MailServerInfo getOrCreateDefaultMaiLServer() {
<span class="nc bnc" id="L4182" title="All 2 branches missed.">        if (defaultMailServer == null) {</span>
<span class="nc" id="L4183">            defaultMailServer = new MailServerInfo();</span>
<span class="nc" id="L4184">            defaultMailServer.setMailServerHost(&quot;localhost&quot;);</span>
<span class="nc" id="L4185">            defaultMailServer.setMailServerPort(25);</span>
<span class="nc" id="L4186">            defaultMailServer.setMailServerSSLPort(465);</span>
<span class="nc" id="L4187">            defaultMailServer.setMailServerDefaultFrom(&quot;flowable@localhost&quot;);</span>
        }
<span class="nc" id="L4189">        return defaultMailServer;</span>
    }

    public String getMailServerHost() {
<span class="nc" id="L4193">        return getOrCreateDefaultMaiLServer().getMailServerHost();</span>
    }

    public CmmnEngineConfiguration setMailServerHost(String mailServerHost) {
<span class="nc" id="L4197">        getOrCreateDefaultMaiLServer().setMailServerHost(mailServerHost);</span>
<span class="nc" id="L4198">        return this;</span>
    }

    public String getMailServerUsername() {
<span class="nc" id="L4202">        return getOrCreateDefaultMaiLServer().getMailServerUsername();</span>
    }

    public CmmnEngineConfiguration setMailServerUsername(String mailServerUsername) {
<span class="nc" id="L4206">        getOrCreateDefaultMaiLServer().setMailServerUsername(mailServerUsername);</span>
<span class="nc" id="L4207">        return this;</span>
    }

    public String getMailServerPassword() {
<span class="nc" id="L4211">        return getOrCreateDefaultMaiLServer().getMailServerPassword();</span>
    }

    public CmmnEngineConfiguration setMailServerPassword(String mailServerPassword) {
<span class="nc" id="L4215">        getOrCreateDefaultMaiLServer().setMailServerPassword(mailServerPassword);</span>
<span class="nc" id="L4216">        return this;</span>
    }

    public int getMailServerPort() {
<span class="nc" id="L4220">        return getOrCreateDefaultMaiLServer().getMailServerPort();</span>
    }

    public CmmnEngineConfiguration setMailServerPort(int mailServerPort) {
<span class="nc" id="L4224">        getOrCreateDefaultMaiLServer().setMailServerPort(mailServerPort);</span>
<span class="nc" id="L4225">        return this;</span>
    }

    public int getMailServerSSLPort() {
<span class="nc" id="L4229">        return getOrCreateDefaultMaiLServer().getMailServerSSLPort();</span>
    }

    public CmmnEngineConfiguration setMailServerSSLPort(int mailServerSSLPort) {
<span class="nc" id="L4233">        getOrCreateDefaultMaiLServer().setMailServerSSLPort(mailServerSSLPort);</span>
<span class="nc" id="L4234">        return this;</span>
    }

    public boolean getMailServerUseSSL() {
<span class="nc" id="L4238">        return getOrCreateDefaultMaiLServer().isMailServerUseSSL();</span>
    }

    public CmmnEngineConfiguration setMailServerUseSSL(boolean useSSL) {
<span class="nc" id="L4242">        getOrCreateDefaultMaiLServer().setMailServerUseSSL(useSSL);</span>
<span class="nc" id="L4243">        return this;</span>
    }

    public boolean getMailServerUseTLS() {
<span class="nc" id="L4247">        return getOrCreateDefaultMaiLServer().isMailServerUseTLS();</span>
    }

    public CmmnEngineConfiguration setMailServerUseTLS(boolean useTLS) {
<span class="nc" id="L4251">        getOrCreateDefaultMaiLServer().setMailServerUseTLS(useTLS);</span>
<span class="nc" id="L4252">        return this;</span>
    }

    public String getMailServerDefaultFrom() {
<span class="nc" id="L4256">        return getOrCreateDefaultMaiLServer().getMailServerDefaultFrom();</span>
    }

    public CmmnEngineConfiguration setMailServerDefaultFrom(String mailServerDefaultFrom) {
<span class="nc" id="L4260">        getOrCreateDefaultMaiLServer().setMailServerDefaultFrom(mailServerDefaultFrom);</span>
<span class="nc" id="L4261">        return this;</span>
    }

    public String getMailServerForceTo() {
<span class="nc" id="L4265">        return getOrCreateDefaultMaiLServer().getMailServerForceTo();</span>
    }

    public CmmnEngineConfiguration setMailServerForceTo(String mailServerForceTo) {
<span class="nc" id="L4269">        getOrCreateDefaultMaiLServer().setMailServerForceTo(mailServerForceTo);</span>
<span class="nc" id="L4270">        return this;</span>
    }

    public Charset getMailServerDefaultCharset() {
<span class="nc" id="L4274">        return getOrCreateDefaultMaiLServer().getMailServerDefaultCharset();</span>
    }

    public CmmnEngineConfiguration setMailServerDefaultCharset(Charset mailServerDefaultCharset){
<span class="nc" id="L4278">        getOrCreateDefaultMaiLServer().setMailServerDefaultCharset(mailServerDefaultCharset);</span>
<span class="nc" id="L4279">        return this;</span>
    }

    public String getMailSessionJndi() {
<span class="nc" id="L4283">        return mailSessionJndi;</span>
    }

    public CmmnEngineConfiguration setMailSessionJndi(String mailSessionJndi) {
<span class="nc" id="L4287">        this.mailSessionJndi = mailSessionJndi;</span>
<span class="nc" id="L4288">        return this;</span>
    }

    public Map&lt;String, MailServerInfo&gt; getMailServers() {
<span class="nc" id="L4292">        return mailServers;</span>
    }

    public CmmnEngineConfiguration setMailServers(Map&lt;String, MailServerInfo&gt; mailServers) {
<span class="nc" id="L4296">        this.mailServers = mailServers;</span>
<span class="nc" id="L4297">        return this;</span>
    }

    public MailServerInfo getMailServer(String tenantId) {
<span class="nc" id="L4301">        return mailServers.get(tenantId);</span>
    }

    public Map&lt;String, FlowableMailClient&gt; getMailClients() {
<span class="nc" id="L4305">        return mailClients;</span>
    }

    public CmmnEngineConfiguration setMailClients(Map&lt;String, FlowableMailClient&gt; mailClients) {
<span class="nc" id="L4309">        this.mailClients = mailClients;</span>
<span class="nc" id="L4310">        return this;</span>
    }

    public FlowableMailClient getMailClient(String tenantId) {
<span class="nc" id="L4314">        return mailClients.get(tenantId);</span>
    }

    public Map&lt;String, String&gt; getMailSessionsJndi() {
<span class="nc" id="L4318">        return mailSessionsJndi;</span>
    }

    public CmmnEngineConfiguration setMailSessionsJndi(Map&lt;String, String&gt; mailSessionsJndi) {
<span class="nc" id="L4322">        this.mailSessionsJndi = mailSessionsJndi;</span>
<span class="nc" id="L4323">        return this;</span>
    }

    public String getMailSessionJndi(String tenantId) {
<span class="nc" id="L4327">        return mailSessionsJndi.get(tenantId);</span>
    }

    public FormFieldHandler getFormFieldHandler() {
<span class="nc" id="L4331">        return formFieldHandler;</span>
    }

    public CmmnEngineConfiguration setFormFieldHandler(FormFieldHandler formFieldHandler) {
<span class="nc" id="L4335">        this.formFieldHandler = formFieldHandler;</span>
<span class="nc" id="L4336">        return this;</span>
    }

    public CmmnIdentityLinkInterceptor getIdentityLinkInterceptor() {
<span class="nc" id="L4340">        return identityLinkInterceptor;</span>
    }

    public CmmnEngineConfiguration setIdentityLinkInterceptor(CmmnIdentityLinkInterceptor identityLinkInterceptor) {
<span class="nc" id="L4344">        this.identityLinkInterceptor = identityLinkInterceptor;</span>
<span class="nc" id="L4345">        return this;</span>
    }

    public boolean isFormFieldValidationEnabled() {
<span class="nc" id="L4349">        return this.isFormFieldValidationEnabled;</span>
    }

    public CmmnEngineConfiguration setFormFieldValidationEnabled(boolean flag) {
<span class="nc" id="L4353">        this.isFormFieldValidationEnabled = flag;</span>
<span class="nc" id="L4354">        return this;</span>
    }

    public TaskPostProcessor getTaskPostProcessor() {
<span class="nc" id="L4358">        return taskPostProcessor;</span>
    }

    public CmmnEngineConfiguration setTaskPostProcessor(TaskPostProcessor processor) {
<span class="nc" id="L4362">        this.taskPostProcessor = processor;</span>
<span class="nc" id="L4363">        return this;</span>
    }

    @Override
    public ScriptingEngines getScriptingEngines() {
<span class="nc" id="L4368">        return scriptingEngines;</span>
    }

    @Override
    public CmmnEngineConfiguration setScriptingEngines(ScriptingEngines scriptingEngines) {
<span class="nc" id="L4373">        this.scriptingEngines = scriptingEngines;</span>
<span class="nc" id="L4374">        return this;</span>
    }

    public List&lt;ResolverFactory&gt; getResolverFactories() {
<span class="nc" id="L4378">        return resolverFactories;</span>
    }

    public void setResolverFactories(List&lt;ResolverFactory&gt; resolverFactories) {
<span class="nc" id="L4382">        this.resolverFactories = resolverFactories;</span>
<span class="nc" id="L4383">    }</span>

    public Collection&lt;ResolverFactory&gt; getPreDefaultResolverFactories() {
<span class="nc" id="L4386">        return preDefaultResolverFactories;</span>
    }

    public CmmnEngineConfiguration setPreDefaultResolverFactories(Collection&lt;ResolverFactory&gt; preDefaultResolverFactories) {
<span class="nc" id="L4390">        this.preDefaultResolverFactories = preDefaultResolverFactories;</span>
<span class="nc" id="L4391">        return this;</span>
    }

    public CmmnEngineConfiguration addPreDefaultResolverFactory(ResolverFactory resolverFactory) {
<span class="nc bnc" id="L4395" title="All 2 branches missed.">        if (this.preDefaultResolverFactories == null) {</span>
<span class="nc" id="L4396">            this.preDefaultResolverFactories = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L4399">        this.preDefaultResolverFactories.add(resolverFactory);</span>
<span class="nc" id="L4400">        return this;</span>
    }

    public Collection&lt;ResolverFactory&gt; getPostDefaultResolverFactories() {
<span class="nc" id="L4404">        return postDefaultResolverFactories;</span>
    }

    public CmmnEngineConfiguration setPostDefaultResolverFactories(Collection&lt;ResolverFactory&gt; postDefaultResolverFactories) {
<span class="nc" id="L4408">        this.postDefaultResolverFactories = postDefaultResolverFactories;</span>
<span class="nc" id="L4409">        return this;</span>
    }

    public CmmnEngineConfiguration addPostDefaultResolverFactory(ResolverFactory resolverFactory) {
<span class="nc bnc" id="L4413" title="All 2 branches missed.">        if (this.postDefaultResolverFactories == null) {</span>
<span class="nc" id="L4414">            this.postDefaultResolverFactories = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L4417">        this.postDefaultResolverFactories.add(resolverFactory);</span>
<span class="nc" id="L4418">        return this;</span>
    }
    
    public void resetClock() {
<span class="nc bnc" id="L4422" title="All 2 branches missed.">        if (this.clock != null) {</span>
<span class="nc" id="L4423">            clock.reset();</span>
        }
<span class="nc" id="L4425">    }</span>

    public boolean isEnableHistoricTaskLogging() {
<span class="nc" id="L4428">        return enableHistoricTaskLogging;</span>
    }

    public void setEnableHistoricTaskLogging(boolean enableHistoricTaskLogging) {
<span class="nc" id="L4432">        this.enableHistoricTaskLogging = enableHistoricTaskLogging;</span>
<span class="nc" id="L4433">    }</span>

    public String getBatchStatusTimeCycleConfig() {
<span class="nc" id="L4436">        return batchStatusTimeCycleConfig;</span>
    }

    public CmmnEngineConfiguration setBatchStatusTimeCycleConfig(String batchStatusTimeCycleConfig) {
<span class="nc" id="L4440">        this.batchStatusTimeCycleConfig = batchStatusTimeCycleConfig;</span>
<span class="nc" id="L4441">        return this;</span>
    }

    public boolean isEnableHistoryCleaning() {
<span class="nc" id="L4445">        return enableHistoryCleaning;</span>
    }

    public CmmnEngineConfiguration setEnableHistoryCleaning(boolean enableHistoryCleaning) {
<span class="nc" id="L4449">        this.enableHistoryCleaning = enableHistoryCleaning;</span>
<span class="nc" id="L4450">        return this;</span>
    }

    public String getHistoryCleaningTimeCycleConfig() {
<span class="nc" id="L4454">        return historyCleaningTimeCycleConfig;</span>
    }

    public CmmnEngineConfiguration setHistoryCleaningTimeCycleConfig(String historyCleaningTimeCycleConfig) {
<span class="nc" id="L4458">        this.historyCleaningTimeCycleConfig = historyCleaningTimeCycleConfig;</span>
<span class="nc" id="L4459">        return this;</span>
    }

    /**
     * @deprecated use {@link #getCleanInstancesEndedAfter()} instead
     */
    @Deprecated
    public int getCleanInstancesEndedAfterNumberOfDays() {
<span class="nc" id="L4467">        return (int) cleanInstancesEndedAfter.toDays();</span>
    }

    /**
     * @deprecated use {@link #setCleanInstancesEndedAfter(Duration)} instead
     */
    @Deprecated
    public CmmnEngineConfiguration setCleanInstancesEndedAfterNumberOfDays(int cleanInstancesEndedAfterNumberOfDays) {
<span class="nc" id="L4475">        return setCleanInstancesEndedAfter(Duration.ofDays(cleanInstancesEndedAfterNumberOfDays));</span>
    }

    public Duration getCleanInstancesEndedAfter() {
<span class="nc" id="L4479">        return cleanInstancesEndedAfter;</span>
    }

    public CmmnEngineConfiguration setCleanInstancesEndedAfter(Duration cleanInstancesEndedAfter) {
<span class="nc" id="L4483">        this.cleanInstancesEndedAfter = cleanInstancesEndedAfter;</span>
<span class="nc" id="L4484">        return this;</span>
    }

    public int getCleanInstancesBatchSize() {
<span class="nc" id="L4488">        return cleanInstancesBatchSize;</span>
    }

    public CmmnEngineConfiguration setCleanInstancesBatchSize(int cleanInstancesBatchSize) {
<span class="nc" id="L4492">        this.cleanInstancesBatchSize = cleanInstancesBatchSize;</span>
<span class="nc" id="L4493">        return this;</span>
    }

    public CmmnHistoryCleaningManager getCmmnHistoryCleaningManager() {
<span class="nc" id="L4497">        return cmmnHistoryCleaningManager;</span>
    }

    public CmmnEngineConfiguration setCmmnHistoryCleaningManager(CmmnHistoryCleaningManager cmmnHistoryCleaningManager) {
<span class="nc" id="L4501">        this.cmmnHistoryCleaningManager = cmmnHistoryCleaningManager;</span>
<span class="nc" id="L4502">        return this;</span>
    }

    public boolean isHandleCmmnEngineExecutorsAfterEngineCreate() {
<span class="nc" id="L4506">        return handleCmmnEngineExecutorsAfterEngineCreate;</span>
    }

    public CmmnEngineConfiguration setHandleCmmnEngineExecutorsAfterEngineCreate(boolean handleCmmnEngineExecutorsAfterEngineCreate) {
<span class="nc" id="L4510">        this.handleCmmnEngineExecutorsAfterEngineCreate = handleCmmnEngineExecutorsAfterEngineCreate;</span>
<span class="nc" id="L4511">        return this;</span>
    }

    public boolean isAlwaysUseArraysForDmnMultiHitPolicies() {
<span class="nc" id="L4515">        return alwaysUseArraysForDmnMultiHitPolicies;</span>
    }

    public CmmnEngineConfiguration setAlwaysUseArraysForDmnMultiHitPolicies(boolean alwaysUseArraysForDmnMultiHitPolicies) {
<span class="nc" id="L4519">        this.alwaysUseArraysForDmnMultiHitPolicies = alwaysUseArraysForDmnMultiHitPolicies;</span>
<span class="nc" id="L4520">        return this;</span>
    }

    public CaseDefinitionLocalizationManager getCaseDefinitionLocalizationManager() {
<span class="nc" id="L4524">        return caseDefinitionLocalizationManager;</span>
    }

    public CmmnEngineConfiguration setCaseDefinitionLocalizationManager(CaseDefinitionLocalizationManager caseDefinitionLocalizationManager) {
<span class="nc" id="L4528">        this.caseDefinitionLocalizationManager = caseDefinitionLocalizationManager;</span>
<span class="nc" id="L4529">        return this;</span>
    }

    public CaseLocalizationManager getCaseLocalizationManager() {
<span class="nc" id="L4533">        return caseLocalizationManager;</span>
    }

    public CmmnEngineConfiguration setCaseLocalizationManager(CaseLocalizationManager caseLocalizationManager) {
<span class="nc" id="L4537">        this.caseLocalizationManager = caseLocalizationManager;</span>
<span class="nc" id="L4538">        return this;</span>
    }

    public PlanItemLocalizationManager getPlanItemLocalizationManager() {
<span class="nc" id="L4542">        return planItemLocalizationManager;</span>
    }

    public CmmnEngineConfiguration setPlanItemLocalizationManager(PlanItemLocalizationManager planItemLocalizationManager) {
<span class="nc" id="L4546">        this.planItemLocalizationManager = planItemLocalizationManager;</span>
<span class="nc" id="L4547">        return this;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>