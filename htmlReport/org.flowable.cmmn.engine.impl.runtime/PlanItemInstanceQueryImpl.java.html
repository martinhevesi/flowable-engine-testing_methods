<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PlanItemInstanceQueryImpl.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jacoco.exec</a> &gt; <a href="index.source.html" class="el_package">org.flowable.cmmn.engine.impl.runtime</a> &gt; <span class="el_source">PlanItemInstanceQueryImpl.java</span></div><h1>PlanItemInstanceQueryImpl.java</h1><pre class="source lang-java linenums">/* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *      http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.flowable.cmmn.engine.impl.runtime;

import java.util.Collection;
import java.util.Date;
import java.util.List;

import org.flowable.cmmn.api.runtime.PlanItemInstance;
import org.flowable.cmmn.api.runtime.PlanItemInstanceQuery;
import org.flowable.cmmn.api.runtime.PlanItemInstanceState;
import org.flowable.cmmn.engine.CmmnEngineConfiguration;
import org.flowable.cmmn.engine.impl.persistence.entity.PlanItemInstanceEntity;
import org.flowable.common.engine.api.FlowableIllegalArgumentException;
import org.flowable.common.engine.api.query.CacheAwareQuery;
import org.flowable.common.engine.impl.interceptor.CommandContext;
import org.flowable.common.engine.impl.interceptor.CommandExecutor;
import org.flowable.variable.service.impl.AbstractVariableQueryImpl;

/**
 * @author Joram Barrez
 */
public class PlanItemInstanceQueryImpl extends AbstractVariableQueryImpl&lt;PlanItemInstanceQuery, PlanItemInstance&gt; implements PlanItemInstanceQuery,
        CacheAwareQuery&lt;PlanItemInstanceEntity&gt; {
    
    protected CmmnEngineConfiguration cmmnEngineConfiguration;
    
    protected String caseDefinitionId;
    protected String derivedCaseDefinitionId;
    protected String caseInstanceId;
    protected String stageInstanceId;
    protected String planItemInstanceId;
    protected String elementId;
    protected String planItemDefinitionId;
    protected String planItemDefinitionType;
    protected List&lt;String&gt; planItemDefinitionTypes;
    protected String name;
    protected String state;
    protected Date createdBefore;
    protected Date createdAfter;
    protected Date lastAvailableBefore;
    protected Date lastAvailableAfter;
    protected Date lastUnavailableBefore;
    protected Date lastUnavailableAfter;
    protected Date lastEnabledBefore;
    protected Date lastEnabledAfter;
    protected Date lastDisabledBefore;
    protected Date lastDisabledAfter;
    protected Date lastStartedBefore;
    protected Date lastStartedAfter;
    protected Date lastSuspendedBefore;
    protected Date lastSuspendedAfter;
    protected Date completedBefore;
    protected Date completedAfter;
    protected Date terminatedBefore;
    protected Date terminatedAfter;
    protected Date occurredBefore;
    protected Date occurredAfter;
    protected Date exitBefore;
    protected Date exitAfter;
    protected Date endedBefore;
    protected Date endedAfter;
    protected boolean ended;
    protected boolean includeEnded;
    protected String startUserId;
    protected String referenceId;
    protected String referenceType;
    protected boolean completable;
    protected boolean onlyStages;
    protected String entryCriterionId;
    protected String exitCriterionId;
    protected String formKey;
    protected String extraValue;
    protected String involvedUser;
    protected Collection&lt;String&gt; involvedGroups;
    private List&lt;List&lt;String&gt;&gt; safeInvolvedGroups;
    protected String tenantId;
    protected boolean withoutTenantId;
    protected String locale;
    protected boolean withLocalizationFallback;

<span class="nc" id="L92">    public PlanItemInstanceQueryImpl() {</span>
        
<span class="nc" id="L94">    }</span>
    
    public PlanItemInstanceQueryImpl(CommandContext commandContext, CmmnEngineConfiguration cmmnEngineConfiguration) {
<span class="nc" id="L97">        super(commandContext, cmmnEngineConfiguration.getVariableServiceConfiguration());</span>
<span class="nc" id="L98">        this.cmmnEngineConfiguration = cmmnEngineConfiguration;</span>
<span class="nc" id="L99">    }</span>

    public PlanItemInstanceQueryImpl(CommandExecutor commandExecutor, CmmnEngineConfiguration cmmnEngineConfiguration) {
<span class="nc" id="L102">        super(commandExecutor, cmmnEngineConfiguration.getVariableServiceConfiguration());</span>
<span class="nc" id="L103">        this.cmmnEngineConfiguration = cmmnEngineConfiguration;</span>
<span class="nc" id="L104">    }</span>

    @Override
    public PlanItemInstanceQuery caseDefinitionId(String caseDefinitionId) {
<span class="nc bnc" id="L108" title="All 2 branches missed.">        if (caseDefinitionId == null) {</span>
<span class="nc" id="L109">            throw new FlowableIllegalArgumentException(&quot;Case definition id is null&quot;);</span>
        }
<span class="nc" id="L111">        this.caseDefinitionId = caseDefinitionId;</span>
<span class="nc" id="L112">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery derivedCaseDefinitionId(String derivedCaseDefinitionId) {
<span class="nc bnc" id="L117" title="All 2 branches missed.">        if (derivedCaseDefinitionId == null) {</span>
<span class="nc" id="L118">            throw new FlowableIllegalArgumentException(&quot;Derived case definition id is null&quot;);</span>
        }
<span class="nc" id="L120">        this.derivedCaseDefinitionId = derivedCaseDefinitionId;</span>
<span class="nc" id="L121">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery caseInstanceId(String caseInstanceId) {
<span class="nc bnc" id="L126" title="All 2 branches missed.">        if (caseInstanceId == null) {</span>
<span class="nc" id="L127">            throw new FlowableIllegalArgumentException(&quot;Case instance id is null&quot;);</span>
        }
<span class="nc" id="L129">        this.caseInstanceId = caseInstanceId;</span>
<span class="nc" id="L130">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery stageInstanceId(String stageInstanceId) {
<span class="nc bnc" id="L135" title="All 2 branches missed.">        if (stageInstanceId == null) {</span>
<span class="nc" id="L136">            throw new FlowableIllegalArgumentException(&quot;Stage instance id is null&quot;);</span>
        }
<span class="nc" id="L138">        this.stageInstanceId = stageInstanceId;</span>
<span class="nc" id="L139">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceId(String planItemInstanceId) {
<span class="nc bnc" id="L144" title="All 2 branches missed.">        if (planItemInstanceId == null) {</span>
<span class="nc" id="L145">            throw new FlowableIllegalArgumentException(&quot;Plan Item instance id is null&quot;);</span>
        }
<span class="nc" id="L147">        this.planItemInstanceId = planItemInstanceId;</span>
<span class="nc" id="L148">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceElementId(String elementId) {
<span class="nc bnc" id="L153" title="All 2 branches missed.">        if (elementId == null) {</span>
<span class="nc" id="L154">            throw new FlowableIllegalArgumentException(&quot;Element id is null&quot;);</span>
        }
<span class="nc" id="L156">        this.elementId = elementId;</span>
<span class="nc" id="L157">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemDefinitionId(String planItemDefinitionId) {
<span class="nc bnc" id="L162" title="All 2 branches missed.">        if (planItemDefinitionId == null) {</span>
<span class="nc" id="L163">            throw new FlowableIllegalArgumentException(&quot;Plan item definition id is null&quot;);</span>
        }
<span class="nc" id="L165">        this.planItemDefinitionId = planItemDefinitionId;</span>
<span class="nc" id="L166">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemDefinitionType(String planItemDefinitionType) {
<span class="nc bnc" id="L171" title="All 2 branches missed.">        if (planItemDefinitionType == null) {</span>
<span class="nc" id="L172">            throw new FlowableIllegalArgumentException(&quot;Plan item definition type is null&quot;);</span>
        }
<span class="nc" id="L174">        this.planItemDefinitionType = planItemDefinitionType;</span>
<span class="nc" id="L175">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemDefinitionTypes(List&lt;String&gt; planItemDefinitionTypes) {
<span class="nc bnc" id="L180" title="All 2 branches missed.">        if (planItemDefinitionTypes == null) {</span>
<span class="nc" id="L181">            throw new FlowableIllegalArgumentException(&quot;Plan item definition types is null&quot;);</span>
        }
<span class="nc bnc" id="L183" title="All 2 branches missed.">        if (planItemDefinitionTypes.isEmpty()) {</span>
<span class="nc" id="L184">            throw new FlowableIllegalArgumentException(&quot;Plan item definition types is empty&quot;);</span>
        }
<span class="nc" id="L186">        this.planItemDefinitionTypes = planItemDefinitionTypes;</span>
<span class="nc" id="L187">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceName(String name) {
<span class="nc bnc" id="L192" title="All 2 branches missed.">        if (name == null) {</span>
<span class="nc" id="L193">            throw new FlowableIllegalArgumentException(&quot;Name is null&quot;);</span>
        }
<span class="nc" id="L195">        this.name = name;</span>
<span class="nc" id="L196">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceState(String state) {
<span class="nc bnc" id="L201" title="All 2 branches missed.">        if (state == null) {</span>
<span class="nc" id="L202">            throw new FlowableIllegalArgumentException(&quot;State is null&quot;);</span>
        }
<span class="nc" id="L204">        this.state = state;</span>
<span class="nc" id="L205">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceStateWaitingForRepetition() {
<span class="nc" id="L210">        return planItemInstanceState(PlanItemInstanceState.WAITING_FOR_REPETITION);</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceStateActive() {
<span class="nc" id="L215">        return planItemInstanceState(PlanItemInstanceState.ACTIVE);</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceStateEnabled() {
<span class="nc" id="L220">        return planItemInstanceState(PlanItemInstanceState.ENABLED);</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceStateDisabled() {
<span class="nc" id="L225">        return planItemInstanceState(PlanItemInstanceState.DISABLED);</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceStateAsyncActive() {
<span class="nc" id="L230">        return planItemInstanceState(PlanItemInstanceState.ASYNC_ACTIVE);</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceStateAsyncActiveLeave() {
<span class="nc" id="L235">        return planItemInstanceState(PlanItemInstanceState.ASYNC_ACTIVE_LEAVE);</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceStateAvailable() {
<span class="nc" id="L240">        return planItemInstanceState(PlanItemInstanceState.AVAILABLE);</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceStateUnavailable() {
<span class="nc" id="L245">        return planItemInstanceState(PlanItemInstanceState.UNAVAILABLE);</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceStateCompleted() {
<span class="nc" id="L250">        return planItemInstanceState(PlanItemInstanceState.COMPLETED);</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceStateTerminated() {
<span class="nc" id="L255">        return planItemInstanceState(PlanItemInstanceState.TERMINATED);</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceCreatedBefore(Date createdBefore) {
<span class="nc bnc" id="L260" title="All 2 branches missed.">        if (createdBefore == null) {</span>
<span class="nc" id="L261">            throw new FlowableIllegalArgumentException(&quot;createdBefore is null&quot;);</span>
        }
<span class="nc" id="L263">        this.createdBefore = createdBefore;</span>
<span class="nc" id="L264">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceCreatedAfter(Date createdAfter) {
<span class="nc bnc" id="L269" title="All 2 branches missed.">        if (createdAfter == null) {</span>
<span class="nc" id="L270">            throw new FlowableIllegalArgumentException(&quot;createdAfter is null&quot;);</span>
        }
<span class="nc" id="L272">        this.createdAfter = createdAfter;</span>
<span class="nc" id="L273">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastAvailableBefore(Date availableBefore) {
<span class="nc bnc" id="L278" title="All 2 branches missed.">        if (availableBefore == null) {</span>
<span class="nc" id="L279">            throw new FlowableIllegalArgumentException(&quot;availableBefore is null&quot;);</span>
        }
<span class="nc" id="L281">        this.lastAvailableBefore = availableBefore;</span>
<span class="nc" id="L282">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastAvailableAfter(Date availableAfter) {
<span class="nc bnc" id="L287" title="All 2 branches missed.">        if (availableAfter == null) {</span>
<span class="nc" id="L288">            throw new FlowableIllegalArgumentException(&quot;availableAfter is null&quot;);</span>
        }
<span class="nc" id="L290">        this.lastAvailableAfter = availableAfter;</span>
<span class="nc" id="L291">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastUnavailableBefore(Date unavailableBefore) {
<span class="nc bnc" id="L296" title="All 2 branches missed.">        if (unavailableBefore == null) {</span>
<span class="nc" id="L297">            throw new FlowableIllegalArgumentException(&quot;unavailableBefore is null&quot;);</span>
        }
<span class="nc" id="L299">        this.lastUnavailableBefore = unavailableBefore;</span>
<span class="nc" id="L300">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastUnavailableAfter(Date unavailableAfter) {
<span class="nc bnc" id="L305" title="All 2 branches missed.">        if (unavailableAfter == null) {</span>
<span class="nc" id="L306">            throw new FlowableIllegalArgumentException(&quot;unavailableAfter is null&quot;);</span>
        }
<span class="nc" id="L308">        this.lastUnavailableAfter = unavailableAfter;</span>
<span class="nc" id="L309">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastEnabledBefore(Date enabledBefore) {
<span class="nc bnc" id="L314" title="All 2 branches missed.">        if (enabledBefore == null) {</span>
<span class="nc" id="L315">            throw new FlowableIllegalArgumentException(&quot;enabledBefore is null&quot;);</span>
        }
<span class="nc" id="L317">        this.lastEnabledBefore = enabledBefore;</span>
<span class="nc" id="L318">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastEnabledAfter(Date enabledAfter) {
<span class="nc bnc" id="L323" title="All 2 branches missed.">        if (enabledAfter == null) {</span>
<span class="nc" id="L324">            throw new FlowableIllegalArgumentException(&quot;enabledAfter is null&quot;);</span>
        }
<span class="nc" id="L326">        this.lastEnabledAfter = enabledAfter;</span>
<span class="nc" id="L327">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastDisabledBefore(Date disabledBefore) {
<span class="nc bnc" id="L332" title="All 2 branches missed.">        if (disabledBefore == null) {</span>
<span class="nc" id="L333">            throw new FlowableIllegalArgumentException(&quot;disabledBefore is null&quot;);</span>
        }
<span class="nc" id="L335">        this.lastDisabledBefore = disabledBefore;</span>
<span class="nc" id="L336">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastDisabledAfter(Date disabledAfter) {
<span class="nc bnc" id="L341" title="All 2 branches missed.">        if (disabledAfter == null) {</span>
<span class="nc" id="L342">            throw new FlowableIllegalArgumentException(&quot;disabledAfter is null&quot;);</span>
        }
<span class="nc" id="L344">        this.lastDisabledAfter = disabledAfter;</span>
<span class="nc" id="L345">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastStartedBefore(Date startedBefore) {
<span class="nc bnc" id="L350" title="All 2 branches missed.">        if (startedBefore == null) {</span>
<span class="nc" id="L351">            throw new FlowableIllegalArgumentException(&quot;activatedBefore is null&quot;);</span>
        }
<span class="nc" id="L353">        this.lastStartedBefore = startedBefore;</span>
<span class="nc" id="L354">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastStartedAfter(Date startedAfter) {
<span class="nc bnc" id="L359" title="All 2 branches missed.">        if (startedAfter == null) {</span>
<span class="nc" id="L360">            throw new FlowableIllegalArgumentException(&quot;startedAfter is null&quot;);</span>
        }
<span class="nc" id="L362">        this.lastStartedAfter = startedAfter;</span>
<span class="nc" id="L363">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastSuspendedBefore(Date suspendedBefore) {
<span class="nc bnc" id="L368" title="All 2 branches missed.">        if (suspendedBefore == null) {</span>
<span class="nc" id="L369">            throw new FlowableIllegalArgumentException(&quot;suspendedBefore is null&quot;);</span>
        }
<span class="nc" id="L371">        this.lastSuspendedBefore = suspendedBefore;</span>
<span class="nc" id="L372">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceLastSuspendedAfter(Date suspendedAfter) {
<span class="nc bnc" id="L377" title="All 2 branches missed.">        if (suspendedAfter == null) {</span>
<span class="nc" id="L378">            throw new FlowableIllegalArgumentException(&quot;suspendedAfter is null&quot;);</span>
        }
<span class="nc" id="L380">        this.lastSuspendedAfter = suspendedAfter;</span>
<span class="nc" id="L381">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceCompletedBefore(Date completedBefore) {
<span class="nc bnc" id="L386" title="All 2 branches missed.">        if (completedBefore == null) {</span>
<span class="nc" id="L387">            throw new FlowableIllegalArgumentException(&quot;completedBefore is null&quot;);</span>
        }
<span class="nc" id="L389">        this.completedBefore = completedBefore;</span>
<span class="nc" id="L390">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceCompletedAfter(Date completedAfter) {
<span class="nc bnc" id="L395" title="All 2 branches missed.">        if (completedAfter == null) {</span>
<span class="nc" id="L396">            throw new FlowableIllegalArgumentException(&quot;completedAfter is null&quot;);</span>
        }
<span class="nc" id="L398">        this.completedAfter = completedAfter;</span>
<span class="nc" id="L399">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceOccurredBefore(Date occurredBefore) {
<span class="nc bnc" id="L404" title="All 2 branches missed.">        if (occurredBefore == null) {</span>
<span class="nc" id="L405">            throw new FlowableIllegalArgumentException(&quot;occurredBefore is null&quot;);</span>
        }
<span class="nc" id="L407">        this.occurredBefore = occurredBefore;</span>
<span class="nc" id="L408">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceOccurredAfter(Date occurredAfter) {
<span class="nc bnc" id="L413" title="All 2 branches missed.">        if (occurredAfter == null) {</span>
<span class="nc" id="L414">            throw new FlowableIllegalArgumentException(&quot;occurredAfter is null&quot;);</span>
        }
<span class="nc" id="L416">        this.occurredAfter = occurredAfter;</span>
<span class="nc" id="L417">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceTerminatedBefore(Date terminatedBefore) {
<span class="nc bnc" id="L422" title="All 2 branches missed.">        if (terminatedBefore == null) {</span>
<span class="nc" id="L423">            throw new FlowableIllegalArgumentException(&quot;terminatedBefore is null&quot;);</span>
        }
<span class="nc" id="L425">        this.terminatedBefore = terminatedBefore;</span>
<span class="nc" id="L426">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceTerminatedAfter(Date terminatedAfter) {
<span class="nc bnc" id="L431" title="All 2 branches missed.">        if (terminatedAfter == null) {</span>
<span class="nc" id="L432">            throw new FlowableIllegalArgumentException(&quot;terminatedAfter is null&quot;);</span>
        }
<span class="nc" id="L434">        this.terminatedAfter = terminatedAfter;</span>
<span class="nc" id="L435">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceExitBefore(Date exitBefore) {
<span class="nc bnc" id="L440" title="All 2 branches missed.">        if (exitBefore == null) {</span>
<span class="nc" id="L441">            throw new FlowableIllegalArgumentException(&quot;exitBefore is null&quot;);</span>
        }
<span class="nc" id="L443">        this.exitBefore = exitBefore;</span>
<span class="nc" id="L444">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceExitAfter(Date exitAfter) {
<span class="nc bnc" id="L449" title="All 2 branches missed.">        if (exitAfter == null) {</span>
<span class="nc" id="L450">            throw new FlowableIllegalArgumentException(&quot;exitAfter is null&quot;);</span>
        }
<span class="nc" id="L452">        this.exitAfter = exitAfter;</span>
<span class="nc" id="L453">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceEndedBefore(Date endedBefore) {
<span class="nc bnc" id="L458" title="All 2 branches missed.">        if (endedBefore == null) {</span>
<span class="nc" id="L459">            throw new FlowableIllegalArgumentException(&quot;endedBefore is null&quot;);</span>
        }
<span class="nc" id="L461">        this.endedBefore = endedBefore;</span>
<span class="nc" id="L462">        return this;</span>
    }
    @Override
    public PlanItemInstanceQuery planItemInstanceEndedAfter(Date endedAfter) {
<span class="nc bnc" id="L466" title="All 2 branches missed.">        if (endedAfter == null) {</span>
<span class="nc" id="L467">            throw new FlowableIllegalArgumentException(&quot;endedAfter is null&quot;);</span>
        }
<span class="nc" id="L469">        this.endedAfter = endedAfter;</span>
<span class="nc" id="L470">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery ended() {
<span class="nc" id="L475">        this.ended = true;</span>
<span class="nc" id="L476">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery includeEnded() {
<span class="nc" id="L481">        this.includeEnded = true;</span>
<span class="nc" id="L482">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceStartUserId(String startUserId) {
<span class="nc bnc" id="L487" title="All 2 branches missed.">        if (startUserId == null) {</span>
<span class="nc" id="L488">            throw new FlowableIllegalArgumentException(&quot;Start user id is null&quot;);</span>
        }
<span class="nc" id="L490">        this.startUserId = startUserId;</span>
<span class="nc" id="L491">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceReferenceId(String referenceId) {
<span class="nc" id="L496">        this.referenceId = referenceId;</span>
<span class="nc" id="L497">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceReferenceType(String referenceType) {
<span class="nc" id="L502">        this.referenceType = referenceType;</span>
<span class="nc" id="L503">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceCompletable() {
<span class="nc" id="L508">        this.completable = true;</span>
<span class="nc" id="L509">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery onlyStages() {
<span class="nc" id="L514">        this.onlyStages = true;</span>
<span class="nc" id="L515">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceEntryCriterionId(String entryCriterionId) {
<span class="nc bnc" id="L520" title="All 2 branches missed.">        if (entryCriterionId == null) {</span>
<span class="nc" id="L521">            throw new FlowableIllegalArgumentException(&quot;EntryCriterionId is null&quot;);</span>
        }
<span class="nc" id="L523">        this.entryCriterionId = entryCriterionId;</span>
<span class="nc" id="L524">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceExitCriterionId(String exitCriterionId) {
<span class="nc bnc" id="L529" title="All 2 branches missed.">        if (exitCriterionId == null) {</span>
<span class="nc" id="L530">            throw new FlowableIllegalArgumentException(&quot;ExitCriterionId is null&quot;);</span>
        }
<span class="nc" id="L532">        this.exitCriterionId = exitCriterionId;</span>
<span class="nc" id="L533">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceFormKey(String formKey) {
<span class="nc bnc" id="L538" title="All 2 branches missed.">        if (formKey == null) {</span>
<span class="nc" id="L539">            throw new FlowableIllegalArgumentException(&quot;formKey is null&quot;);</span>
        }
<span class="nc" id="L541">        this.formKey = formKey;</span>
<span class="nc" id="L542">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceExtraValue(String extraValue) {
<span class="nc bnc" id="L547" title="All 2 branches missed.">        if (extraValue == null) {</span>
<span class="nc" id="L548">            throw new FlowableIllegalArgumentException(&quot;extraValue is null&quot;);</span>
        }
<span class="nc" id="L550">        this.extraValue = extraValue;</span>
<span class="nc" id="L551">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery involvedUser(String involvedUser) {
<span class="nc bnc" id="L556" title="All 2 branches missed.">        if (involvedUser == null) {</span>
<span class="nc" id="L557">            throw new FlowableIllegalArgumentException(&quot;involvedUser is null&quot;);</span>
        }
<span class="nc" id="L559">        this.involvedUser = involvedUser;</span>
<span class="nc" id="L560">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery involvedGroups(Collection&lt;String&gt; involvedGroups) {
<span class="nc bnc" id="L565" title="All 2 branches missed.">        if (involvedGroups == null) {</span>
<span class="nc" id="L566">            throw new FlowableIllegalArgumentException(&quot;involvedGroups is null&quot;);</span>
        }
<span class="nc" id="L568">        this.involvedGroups = involvedGroups;</span>
<span class="nc" id="L569">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery planItemInstanceTenantId(String tenantId) {
<span class="nc bnc" id="L574" title="All 2 branches missed.">        if (tenantId == null) {</span>
<span class="nc" id="L575">            throw new FlowableIllegalArgumentException(&quot;Tenant id is null&quot;);</span>
        }
<span class="nc" id="L577">        this.tenantId = tenantId;</span>
<span class="nc" id="L578">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery planItemInstanceWithoutTenantId() {
<span class="nc" id="L583">        this.withoutTenantId = true;</span>
<span class="nc" id="L584">        return this;</span>
    }
    
    @Override
    public PlanItemInstanceQuery caseVariableValueEquals(String name, Object value) {
<span class="nc" id="L589">        return variableValueEquals(name, value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableValueEquals(Object value) {
<span class="nc" id="L594">        return variableValueEquals(value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableValueEqualsIgnoreCase(String name, String value) {
<span class="nc" id="L599">        return variableValueEqualsIgnoreCase(name, value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableValueNotEquals(String name, Object value) {
<span class="nc" id="L604">        return variableValueNotEquals(name, value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableValueNotEqualsIgnoreCase(String name, String value) {
<span class="nc" id="L609">        return variableValueNotEqualsIgnoreCase(name, value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableValueGreaterThan(String name, Object value) {
<span class="nc" id="L614">        return variableValueGreaterThan(name, value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableValueGreaterThanOrEqual(String name, Object value) {
<span class="nc" id="L619">        return variableValueGreaterThanOrEqual(name, value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableValueLessThan(String name, Object value) {
<span class="nc" id="L624">        return variableValueLessThan(name, value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableValueLessThanOrEqual(String name, Object value) {
<span class="nc" id="L629">        return variableValueLessThanOrEqual(name, value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableValueLike(String name, String value) {
<span class="nc" id="L634">        return variableValueLike(name, value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableValueLikeIgnoreCase(String name, String value) {
<span class="nc" id="L639">        return variableValueLikeIgnoreCase(name, value, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableExists(String name) {
<span class="nc" id="L644">        return variableExists(name, false);</span>
    }

    @Override
    public PlanItemInstanceQuery caseVariableNotExists(String name) {
<span class="nc" id="L649">        return variableNotExists(name, false);</span>
    }

    @Override
    public PlanItemInstanceQuery locale(String locale) {
<span class="nc" id="L654">        this.locale = locale;</span>
<span class="nc" id="L655">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery withLocalizationFallback() {
<span class="nc" id="L660">        this.withLocalizationFallback = true;</span>
<span class="nc" id="L661">        return this;</span>
    }

    @Override
    public long executeCount(CommandContext commandContext) {
<span class="nc" id="L666">        ensureVariablesInitialized();</span>
<span class="nc" id="L667">        return cmmnEngineConfiguration.getPlanItemInstanceEntityManager().countByCriteria(this);</span>
    }

    @Override
    public List&lt;PlanItemInstance&gt; executeList(CommandContext commandContext) {
<span class="nc" id="L672">        ensureVariablesInitialized();</span>
<span class="nc" id="L673">        List&lt;PlanItemInstance&gt; planItems = cmmnEngineConfiguration.getPlanItemInstanceEntityManager().findByCriteria(this);</span>
      
<span class="nc bnc" id="L675" title="All 2 branches missed.">        if (cmmnEngineConfiguration.getPlanItemLocalizationManager() != null) {</span>
<span class="nc bnc" id="L676" title="All 2 branches missed.">            for (PlanItemInstance planItemInstance : planItems) {</span>
<span class="nc" id="L677">                cmmnEngineConfiguration.getPlanItemLocalizationManager().localize(planItemInstance, locale, withLocalizationFallback);</span>
<span class="nc" id="L678">            }</span>
        }

<span class="nc" id="L681">        return planItems;</span>
    }
    
    @Override
    public PlanItemInstanceQuery orderByCreateTime() {
<span class="nc" id="L686">        this.orderProperty = PlanItemInstanceQueryProperty.CREATE_TIME;</span>
<span class="nc" id="L687">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery orderByEndTime() {
<span class="nc" id="L692">        this.orderProperty = PlanItemInstanceQueryProperty.END_TIME;</span>
<span class="nc" id="L693">        return this;</span>
    }

    @Override
    public PlanItemInstanceQuery orderByName() {
<span class="nc" id="L698">        this.orderProperty = PlanItemInstanceQueryProperty.NAME;</span>
<span class="nc" id="L699">        return this;</span>
    }

    public String getCaseDefinitionId() {
<span class="nc" id="L703">        return caseDefinitionId;</span>
    }
    public String getDerivedCaseDefinitionId() {
<span class="nc" id="L706">        return derivedCaseDefinitionId;</span>
    }
    public String getCaseInstanceId() {
<span class="nc" id="L709">        return caseInstanceId;</span>
    }
    public String getStageInstanceId() {
<span class="nc" id="L712">        return stageInstanceId;</span>
    }
    public String getPlanItemInstanceId() {
<span class="nc" id="L715">        return planItemInstanceId;</span>
    }
    @Override
    public String getId() {
<span class="nc" id="L719">        return planItemInstanceId;</span>
    }
    public String getElementId() {
<span class="nc" id="L722">        return elementId;</span>
    }
    public String getPlanItemDefinitionId() {
<span class="nc" id="L725">        return planItemDefinitionId;</span>
    }
    public String getPlanItemDefinitionType() {
<span class="nc" id="L728">        return planItemDefinitionType;</span>
    }
    public List&lt;String&gt; getPlanItemDefinitionTypes() {
<span class="nc" id="L731">        return planItemDefinitionTypes;</span>
    }
    public String getName() {
<span class="nc" id="L734">        return name;</span>
    }
    public String getState() {
<span class="nc" id="L737">        return state;</span>
    }
    public Date getCreatedBefore() {
<span class="nc" id="L740">        return createdBefore;</span>
    }
    public Date getCreatedAfter() {
<span class="nc" id="L743">        return createdAfter;</span>
    }
    public Date getLastAvailableBefore() {
<span class="nc" id="L746">        return lastAvailableBefore;</span>
    }
    public Date getLastAvailableAfter() {
<span class="nc" id="L749">        return lastAvailableAfter;</span>
    }
    public Date getLastUnavailableBefore() {
<span class="nc" id="L752">        return lastUnavailableBefore;</span>
    }
    public Date getLastUnavailableAfter() {
<span class="nc" id="L755">        return lastUnavailableAfter;</span>
    }
    public Date getLastEnabledBefore() {
<span class="nc" id="L758">        return lastEnabledBefore;</span>
    }
    public Date getLastEnabledAfter() {
<span class="nc" id="L761">        return lastEnabledAfter;</span>
    }
    public Date getLastDisabledBefore() {
<span class="nc" id="L764">        return lastDisabledBefore;</span>
    }
    public Date getLastDisabledAfter() {
<span class="nc" id="L767">        return lastDisabledAfter;</span>
    }
    public Date getLastStartedBefore() {
<span class="nc" id="L770">        return lastStartedBefore;</span>
    }
    public Date getLastStartedAfter() {
<span class="nc" id="L773">        return lastStartedAfter;</span>
    }
    public Date getLastSuspendedBefore() {
<span class="nc" id="L776">        return lastSuspendedBefore;</span>
    }
    public Date getLastSuspendedAfter() {
<span class="nc" id="L779">        return lastSuspendedAfter;</span>
    }
    public Date getCompletedBefore() {
<span class="nc" id="L782">        return completedBefore;</span>
    }
    public Date getCompletedAfter() {
<span class="nc" id="L785">        return completedAfter;</span>
    }
    public Date getTerminatedBefore() {
<span class="nc" id="L788">        return terminatedBefore;</span>
    }
    public Date getTerminatedAfter() {
<span class="nc" id="L791">        return terminatedAfter;</span>
    }
    public Date getOccurredBefore() {
<span class="nc" id="L794">        return occurredBefore;</span>
    }
    public Date getOccurredAfter() {
<span class="nc" id="L797">        return occurredAfter;</span>
    }
    public Date getExitBefore() {
<span class="nc" id="L800">        return exitBefore;</span>
    }
    public Date getExitAfter() {
<span class="nc" id="L803">        return exitAfter;</span>
    }
    public Date getEndedBefore() {
<span class="nc" id="L806">        return endedBefore;</span>
    }
    public Date getEndedAfter() {
<span class="nc" id="L809">        return endedAfter;</span>
    }
    public boolean isEnded() {
<span class="nc" id="L812">        return ended;</span>
    }
    public boolean isIncludeEnded() {
<span class="nc" id="L815">        return includeEnded;</span>
    }
    public String getStartUserId() {
<span class="nc" id="L818">        return startUserId;</span>
    }
    public String getReferenceId() {
<span class="nc" id="L821">        return referenceId;</span>
    }
    public String getReferenceType() {
<span class="nc" id="L824">        return referenceType;</span>
    }
    public boolean isCompletable() {
<span class="nc" id="L827">        return completable;</span>
    }
    public boolean isOnlyStages() {
<span class="nc" id="L830">        return onlyStages;</span>
    }
    public String getEntryCriterionId() {
<span class="nc" id="L833">        return entryCriterionId;</span>
    }
    public String getExitCriterionId() {
<span class="nc" id="L836">        return exitCriterionId;</span>
    }
    public String getFormKey() {
<span class="nc" id="L839">        return formKey;</span>
    }
    public String getExtraValue() {
<span class="nc" id="L842">        return extraValue;</span>
    }
    public String getInvolvedUser() {
<span class="nc" id="L845">        return involvedUser;</span>
    }
    public Collection&lt;String&gt; getInvolvedGroups() {
<span class="nc" id="L848">        return involvedGroups;</span>
    }
    public String getTenantId() {
<span class="nc" id="L851">        return tenantId;</span>
    }
    public boolean isWithoutTenantId() {
<span class="nc" id="L854">        return withoutTenantId;</span>
    }

    public List&lt;List&lt;String&gt;&gt; getSafeInvolvedGroups() {
<span class="nc" id="L858">        return safeInvolvedGroups;</span>
    }

    public void setSafeInvolvedGroups(List&lt;List&lt;String&gt;&gt; safeInvolvedGroups) {
<span class="nc" id="L862">        this.safeInvolvedGroups = safeInvolvedGroups;</span>
<span class="nc" id="L863">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>