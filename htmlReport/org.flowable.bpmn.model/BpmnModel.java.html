<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BpmnModel.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jacoco.exec</a> &gt; <a href="index.source.html" class="el_package">org.flowable.bpmn.model</a> &gt; <span class="el_source">BpmnModel.java</span></div><h1>BpmnModel.java</h1><pre class="source lang-java linenums">/* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *      http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.flowable.bpmn.model;

import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;

import org.apache.commons.lang3.StringUtils;

import com.fasterxml.jackson.annotation.JsonIgnore;

/**
 * @author Tijs Rademakers
 * @author Joram Barrez
 */
<span class="nc" id="L30">public class BpmnModel {</span>

<span class="nc" id="L32">    protected Map&lt;String, List&lt;ExtensionAttribute&gt;&gt; definitionsAttributes = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L33">    protected List&lt;Process&gt; processes = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L34">    protected Map&lt;String, GraphicInfo&gt; locationMap = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L35">    protected Map&lt;String, GraphicInfo&gt; labelLocationMap = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L36">    protected Map&lt;String, List&lt;GraphicInfo&gt;&gt; flowLocationMap = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L37">    protected Map&lt;String, BpmnDiEdge&gt; edgeMap = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L38">    protected List&lt;Signal&gt; signals = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L39">    protected Map&lt;String, MessageFlow&gt; messageFlowMap = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L40">    protected Map&lt;String, Message&gt; messageMap = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L41">    protected Map&lt;String, List&lt;String&gt;&gt; variableListenerToActivityMap = new HashMap&lt;&gt;();</span>
<span class="nc" id="L42">    protected Map&lt;String, String&gt; errorMap = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L43">    protected Map&lt;String, Escalation&gt; escalationMap = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L44">    protected Map&lt;String, ItemDefinition&gt; itemDefinitionMap = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L45">    protected Map&lt;String, DataStore&gt; dataStoreMap = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L46">    protected List&lt;Pool&gt; pools = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L47">    protected List&lt;Import&gt; imports = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L48">    protected List&lt;Interface&gt; interfaces = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L49">    protected List&lt;Artifact&gt; globalArtifacts = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L50">    protected List&lt;Resource&gt; resources = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L51">    protected Map&lt;String, String&gt; namespaceMap = new LinkedHashMap&lt;&gt;();</span>
    protected String targetNamespace;
    protected String sourceSystemId;
    protected List&lt;String&gt; userTaskFormTypes;
    protected List&lt;String&gt; startEventFormTypes;
    protected Object eventSupport;
    protected String exporter;
    protected String exporterVersion;

    public Map&lt;String, List&lt;ExtensionAttribute&gt;&gt; getDefinitionsAttributes() {
<span class="nc" id="L61">        return definitionsAttributes;</span>
    }

    public String getDefinitionsAttributeValue(String namespace, String name) {
<span class="nc" id="L65">        List&lt;ExtensionAttribute&gt; attributes = getDefinitionsAttributes().get(name);</span>
<span class="nc bnc" id="L66" title="All 4 branches missed.">        if (attributes != null &amp;&amp; !attributes.isEmpty()) {</span>
<span class="nc bnc" id="L67" title="All 2 branches missed.">            for (ExtensionAttribute attribute : attributes) {</span>
<span class="nc bnc" id="L68" title="All 2 branches missed.">                if (namespace.equals(attribute.getNamespace())) {</span>
<span class="nc" id="L69">                    return attribute.getValue();</span>
                }
<span class="nc" id="L71">            }</span>
        }
<span class="nc" id="L73">        return null;</span>
    }

    public void addDefinitionsAttribute(ExtensionAttribute attribute) {
<span class="nc bnc" id="L77" title="All 4 branches missed.">        if (attribute != null &amp;&amp; StringUtils.isNotEmpty(attribute.getName())) {</span>
<span class="nc" id="L78">            List&lt;ExtensionAttribute&gt; attributeList = null;</span>
<span class="nc bnc" id="L79" title="All 2 branches missed.">            if (!this.definitionsAttributes.containsKey(attribute.getName())) {</span>
<span class="nc" id="L80">                attributeList = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L81">                this.definitionsAttributes.put(attribute.getName(), attributeList);</span>
            }
<span class="nc" id="L83">            this.definitionsAttributes.get(attribute.getName()).add(attribute);</span>
        }
<span class="nc" id="L85">    }</span>

    public void setDefinitionsAttributes(Map&lt;String, List&lt;ExtensionAttribute&gt;&gt; attributes) {
<span class="nc" id="L88">        this.definitionsAttributes = attributes;</span>
<span class="nc" id="L89">    }</span>

    public Process getMainProcess() {
<span class="nc bnc" id="L92" title="All 2 branches missed.">        if (!getPools().isEmpty()) {</span>
<span class="nc" id="L93">            Process process = getProcess(getPools().get(0).getId());</span>
<span class="nc bnc" id="L94" title="All 2 branches missed.">            if (process != null) {</span>
<span class="nc" id="L95">                return process;</span>
            }
        }
<span class="nc" id="L98">        return getProcessWithoutPool();</span>
    }

    private Process getProcessWithoutPool() {
<span class="nc" id="L102">        return getProcess(null);</span>
    }

    public Process getProcess(String poolRef) {
<span class="nc bnc" id="L106" title="All 2 branches missed.">        for (Process process : processes) {</span>
<span class="nc" id="L107">            boolean foundPool = false;</span>
<span class="nc bnc" id="L108" title="All 2 branches missed.">            for (Pool pool : pools) {</span>
<span class="nc bnc" id="L109" title="All 4 branches missed.">                if (StringUtils.isNotEmpty(pool.getProcessRef()) &amp;&amp; pool.getProcessRef().equalsIgnoreCase(process.getId())) {</span>

<span class="nc bnc" id="L111" title="All 2 branches missed.">                    if (poolRef != null) {</span>
<span class="nc bnc" id="L112" title="All 2 branches missed.">                        if (pool.getId().equalsIgnoreCase(poolRef)) {</span>
<span class="nc" id="L113">                            foundPool = true;</span>
                        }
                    } else {
<span class="nc" id="L116">                        foundPool = true;</span>
                    }
                }
<span class="nc" id="L119">            }</span>

<span class="nc bnc" id="L121" title="All 6 branches missed.">            if (poolRef == null &amp;&amp; !foundPool &amp;&amp; process.isExecutable()) {</span>
<span class="nc" id="L122">                return process;</span>
<span class="nc bnc" id="L123" title="All 4 branches missed.">            } else if (poolRef != null &amp;&amp; foundPool) {</span>
<span class="nc" id="L124">                return process;</span>
            }
<span class="nc" id="L126">        }</span>
        
<span class="nc bnc" id="L128" title="All 4 branches missed.">        if (poolRef == null &amp;&amp; !processes.isEmpty()) {</span>
<span class="nc" id="L129">            return processes.get(0);</span>
        }

<span class="nc" id="L132">        return null;</span>
    }

    public Process getProcessById(String id) {
<span class="nc bnc" id="L136" title="All 2 branches missed.">        for (Process process : processes) {</span>
<span class="nc bnc" id="L137" title="All 2 branches missed.">            if (process.getId().equals(id)) {</span>
<span class="nc" id="L138">                return process;</span>
            }
<span class="nc" id="L140">        }</span>
<span class="nc" id="L141">        return null;</span>
    }

    public List&lt;Process&gt; getProcesses() {
<span class="nc" id="L145">        return processes;</span>
    }

    public void addProcess(Process process) {
<span class="nc" id="L149">        processes.add(process);</span>
<span class="nc" id="L150">    }</span>

    public Pool getPool(String id) {
<span class="nc" id="L153">        Pool foundPool = null;</span>
<span class="nc bnc" id="L154" title="All 2 branches missed.">        if (StringUtils.isNotEmpty(id)) {</span>
<span class="nc bnc" id="L155" title="All 2 branches missed.">            for (Pool pool : pools) {</span>
<span class="nc bnc" id="L156" title="All 2 branches missed.">                if (id.equals(pool.getId())) {</span>
<span class="nc" id="L157">                    foundPool = pool;</span>
<span class="nc" id="L158">                    break;</span>
                }
<span class="nc" id="L160">            }</span>
        }
<span class="nc" id="L162">        return foundPool;</span>
    }

    public Lane getLane(String id) {
<span class="nc" id="L166">        Lane foundLane = null;</span>
<span class="nc bnc" id="L167" title="All 2 branches missed.">        if (StringUtils.isNotEmpty(id)) {</span>
<span class="nc bnc" id="L168" title="All 2 branches missed.">            for (Process process : processes) {</span>
<span class="nc bnc" id="L169" title="All 2 branches missed.">                for (Lane lane : process.getLanes()) {</span>
<span class="nc bnc" id="L170" title="All 2 branches missed.">                    if (id.equals(lane.getId())) {</span>
<span class="nc" id="L171">                        foundLane = lane;</span>
<span class="nc" id="L172">                        break;</span>
                    }
<span class="nc" id="L174">                }</span>
<span class="nc bnc" id="L175" title="All 2 branches missed.">                if (foundLane != null) {</span>
<span class="nc" id="L176">                    break;</span>
                }
<span class="nc" id="L178">            }</span>
        }
<span class="nc" id="L180">        return foundLane;</span>
    }

    public FlowElement getFlowElement(String id) {
<span class="nc" id="L184">        FlowElement foundFlowElement = null;</span>
<span class="nc bnc" id="L185" title="All 2 branches missed.">        for (Process process : processes) {</span>
<span class="nc" id="L186">            foundFlowElement = process.getFlowElement(id);</span>
<span class="nc bnc" id="L187" title="All 2 branches missed.">            if (foundFlowElement != null) {</span>
<span class="nc" id="L188">                break;</span>
            }
<span class="nc" id="L190">        }</span>

<span class="nc bnc" id="L192" title="All 2 branches missed.">        if (foundFlowElement == null) {</span>
<span class="nc bnc" id="L193" title="All 2 branches missed.">            for (Process process : processes) {</span>
<span class="nc bnc" id="L194" title="All 2 branches missed.">                for (FlowElement flowElement : process.findFlowElementsOfType(SubProcess.class)) {</span>
<span class="nc" id="L195">                    foundFlowElement = getFlowElementInSubProcess(id, (SubProcess) flowElement);</span>
<span class="nc bnc" id="L196" title="All 2 branches missed.">                    if (foundFlowElement != null) {</span>
<span class="nc" id="L197">                        break;</span>
                    }
<span class="nc" id="L199">                }</span>
<span class="nc bnc" id="L200" title="All 2 branches missed.">                if (foundFlowElement != null) {</span>
<span class="nc" id="L201">                    break;</span>
                }
<span class="nc" id="L203">            }</span>
        }

<span class="nc" id="L206">        return foundFlowElement;</span>
    }

    protected FlowElement getFlowElementInSubProcess(String id, SubProcess subProcess) {
<span class="nc" id="L210">        FlowElement foundFlowElement = subProcess.getFlowElement(id);</span>
<span class="nc bnc" id="L211" title="All 2 branches missed.">        if (foundFlowElement == null) {</span>
<span class="nc bnc" id="L212" title="All 2 branches missed.">            for (FlowElement flowElement : subProcess.getFlowElements()) {</span>
<span class="nc bnc" id="L213" title="All 2 branches missed.">                if (flowElement instanceof SubProcess) {</span>
<span class="nc" id="L214">                    foundFlowElement = getFlowElementInSubProcess(id, (SubProcess) flowElement);</span>
<span class="nc bnc" id="L215" title="All 2 branches missed.">                    if (foundFlowElement != null) {</span>
<span class="nc" id="L216">                        break;</span>
                    }
                }
<span class="nc" id="L219">            }</span>
        }
<span class="nc" id="L221">        return foundFlowElement;</span>
    }

    public Artifact getArtifact(String id) {
<span class="nc" id="L225">        Artifact foundArtifact = null;</span>
<span class="nc bnc" id="L226" title="All 2 branches missed.">        for (Process process : processes) {</span>
<span class="nc" id="L227">            foundArtifact = process.getArtifact(id);</span>
<span class="nc bnc" id="L228" title="All 2 branches missed.">            if (foundArtifact != null) {</span>
<span class="nc" id="L229">                break;</span>
            }
<span class="nc" id="L231">        }</span>

<span class="nc bnc" id="L233" title="All 2 branches missed.">        if (foundArtifact == null) {</span>
<span class="nc bnc" id="L234" title="All 2 branches missed.">            for (Process process : processes) {</span>
<span class="nc bnc" id="L235" title="All 2 branches missed.">                for (FlowElement flowElement : process.findFlowElementsOfType(SubProcess.class)) {</span>
<span class="nc" id="L236">                    foundArtifact = getArtifactInSubProcess(id, (SubProcess) flowElement);</span>
<span class="nc bnc" id="L237" title="All 2 branches missed.">                    if (foundArtifact != null) {</span>
<span class="nc" id="L238">                        break;</span>
                    }
<span class="nc" id="L240">                }</span>
<span class="nc bnc" id="L241" title="All 2 branches missed.">                if (foundArtifact != null) {</span>
<span class="nc" id="L242">                    break;</span>
                }
<span class="nc" id="L244">            }</span>
        }

<span class="nc" id="L247">        return foundArtifact;</span>
    }

    protected Artifact getArtifactInSubProcess(String id, SubProcess subProcess) {
<span class="nc" id="L251">        Artifact foundArtifact = subProcess.getArtifact(id);</span>
<span class="nc bnc" id="L252" title="All 2 branches missed.">        if (foundArtifact == null) {</span>
<span class="nc bnc" id="L253" title="All 2 branches missed.">            for (FlowElement flowElement : subProcess.getFlowElements()) {</span>
<span class="nc bnc" id="L254" title="All 2 branches missed.">                if (flowElement instanceof SubProcess) {</span>
<span class="nc" id="L255">                    foundArtifact = getArtifactInSubProcess(id, (SubProcess) flowElement);</span>
<span class="nc bnc" id="L256" title="All 2 branches missed.">                    if (foundArtifact != null) {</span>
<span class="nc" id="L257">                        break;</span>
                    }
                }
<span class="nc" id="L260">            }</span>
        }
<span class="nc" id="L262">        return foundArtifact;</span>
    }

    public void addGraphicInfo(String key, GraphicInfo graphicInfo) {
<span class="nc" id="L266">        locationMap.put(key, graphicInfo);</span>
<span class="nc" id="L267">    }</span>

    public GraphicInfo getGraphicInfo(String key) {
<span class="nc" id="L270">        return locationMap.get(key);</span>
    }

    public void removeGraphicInfo(String key) {
<span class="nc" id="L274">        locationMap.remove(key);</span>
<span class="nc" id="L275">    }</span>

    public List&lt;GraphicInfo&gt; getFlowLocationGraphicInfo(String key) {
<span class="nc" id="L278">        return flowLocationMap.get(key);</span>
    }

    public void removeFlowGraphicInfoList(String key) {
<span class="nc" id="L282">        flowLocationMap.remove(key);</span>
<span class="nc" id="L283">    }</span>
    
    public BpmnDiEdge getEdgeInfo(String key) {
<span class="nc" id="L286">        return edgeMap.get(key);</span>
    }
    
    public void addEdgeInfo(String key, BpmnDiEdge edgeInfo) {
<span class="nc" id="L290">        edgeMap.put(key, edgeInfo);</span>
<span class="nc" id="L291">    }</span>

    public Map&lt;String, GraphicInfo&gt; getLocationMap() {
<span class="nc" id="L294">        return locationMap;</span>
    }

    public Map&lt;String, List&lt;GraphicInfo&gt;&gt; getFlowLocationMap() {
<span class="nc" id="L298">        return flowLocationMap;</span>
    }

    public Map&lt;String, BpmnDiEdge&gt; getEdgeMap() {
<span class="nc" id="L302">        return edgeMap;</span>
    }

    public GraphicInfo getLabelGraphicInfo(String key) {
<span class="nc" id="L306">        return labelLocationMap.get(key);</span>
    }

    public void addLabelGraphicInfo(String key, GraphicInfo graphicInfo) {
<span class="nc" id="L310">        labelLocationMap.put(key, graphicInfo);</span>
<span class="nc" id="L311">    }</span>

    public void removeLabelGraphicInfo(String key) {
<span class="nc" id="L314">        labelLocationMap.remove(key);</span>
<span class="nc" id="L315">    }</span>

    public Map&lt;String, GraphicInfo&gt; getLabelLocationMap() {
<span class="nc" id="L318">        return labelLocationMap;</span>
    }

    public void addFlowGraphicInfoList(String key, List&lt;GraphicInfo&gt; graphicInfoList) {
<span class="nc" id="L322">        flowLocationMap.put(key, graphicInfoList);</span>
<span class="nc" id="L323">    }</span>

    public Collection&lt;Resource&gt; getResources() {
<span class="nc" id="L326">        return resources;</span>
    }

    public void setResources(Collection&lt;Resource&gt; resourceList) {
<span class="nc bnc" id="L330" title="All 2 branches missed.">        if (resourceList != null) {</span>
<span class="nc" id="L331">            resources.clear();</span>
<span class="nc" id="L332">            resources.addAll(resourceList);</span>
        }
<span class="nc" id="L334">    }</span>

    public void addResource(Resource resource) {
<span class="nc bnc" id="L337" title="All 2 branches missed.">        if (resource != null) {</span>
<span class="nc" id="L338">            resources.add(resource);</span>
        }
<span class="nc" id="L340">    }</span>

    public boolean containsResourceId(String resourceId) {
<span class="nc bnc" id="L343" title="All 2 branches missed.">        return getResource(resourceId) != null;</span>
    }

    public Resource getResource(String id) {
<span class="nc bnc" id="L347" title="All 2 branches missed.">        for (Resource resource : resources) {</span>
<span class="nc bnc" id="L348" title="All 2 branches missed.">            if (id.equals(resource.getId())) {</span>
<span class="nc" id="L349">                return resource;</span>
            }
<span class="nc" id="L351">        }</span>
<span class="nc" id="L352">        return null;</span>
    }

    public Collection&lt;Signal&gt; getSignals() {
<span class="nc" id="L356">        return signals;</span>
    }

    public void setSignals(Collection&lt;Signal&gt; signalList) {
<span class="nc bnc" id="L360" title="All 2 branches missed.">        if (signalList != null) {</span>
<span class="nc" id="L361">            signals.clear();</span>
<span class="nc" id="L362">            signals.addAll(signalList);</span>
        }
<span class="nc" id="L364">    }</span>

    public void addSignal(Signal signal) {
<span class="nc bnc" id="L367" title="All 2 branches missed.">        if (signal != null) {</span>
<span class="nc" id="L368">            signals.add(signal);</span>
        }
<span class="nc" id="L370">    }</span>

    public boolean containsSignalId(String signalId) {
<span class="nc bnc" id="L373" title="All 2 branches missed.">        return getSignal(signalId) != null;</span>
    }

    public Signal getSignal(String id) {
<span class="nc" id="L377">        Signal foundSignal = null;</span>
<span class="nc bnc" id="L378" title="All 2 branches missed.">        if (StringUtils.isNotEmpty(id)) {</span>
<span class="nc bnc" id="L379" title="All 2 branches missed.">            for (Signal signal : signals) {</span>
<span class="nc bnc" id="L380" title="All 2 branches missed.">                if (id.equals(signal.getId())) {</span>
<span class="nc" id="L381">                    foundSignal = signal;</span>
<span class="nc" id="L382">                    break;</span>
                }
<span class="nc" id="L384">            }</span>
        }
<span class="nc" id="L386">        return foundSignal;</span>
    }

    public Map&lt;String, MessageFlow&gt; getMessageFlows() {
<span class="nc" id="L390">        return messageFlowMap;</span>
    }

    public void setMessageFlows(Map&lt;String, MessageFlow&gt; messageFlows) {
<span class="nc" id="L394">        this.messageFlowMap = messageFlows;</span>
<span class="nc" id="L395">    }</span>

    public void addMessageFlow(MessageFlow messageFlow) {
<span class="nc bnc" id="L398" title="All 4 branches missed.">        if (messageFlow != null &amp;&amp; StringUtils.isNotEmpty(messageFlow.getId())) {</span>
<span class="nc" id="L399">            messageFlowMap.put(messageFlow.getId(), messageFlow);</span>
        }
<span class="nc" id="L401">    }</span>

    public MessageFlow getMessageFlow(String id) {
<span class="nc" id="L404">        return messageFlowMap.get(id);</span>
    }

    public boolean containsMessageFlowId(String messageFlowId) {
<span class="nc" id="L408">        return messageFlowMap.containsKey(messageFlowId);</span>
    }

    public Collection&lt;Message&gt; getMessages() {
<span class="nc" id="L412">        return messageMap.values();</span>
    }

    public void setMessages(Collection&lt;Message&gt; messageList) {
<span class="nc bnc" id="L416" title="All 2 branches missed.">        if (messageList != null) {</span>
<span class="nc" id="L417">            messageMap.clear();</span>
<span class="nc bnc" id="L418" title="All 2 branches missed.">            for (Message message : messageList) {</span>
<span class="nc" id="L419">                addMessage(message);</span>
<span class="nc" id="L420">            }</span>
        }
<span class="nc" id="L422">    }</span>

    public void addMessage(Message message) {
<span class="nc bnc" id="L425" title="All 4 branches missed.">        if (message != null &amp;&amp; StringUtils.isNotEmpty(message.getId())) {</span>
<span class="nc" id="L426">            messageMap.put(message.getId(), message);</span>
        }
<span class="nc" id="L428">    }</span>

    public Message getMessage(String id) {
<span class="nc" id="L431">        Message result = messageMap.get(id);</span>
<span class="nc bnc" id="L432" title="All 2 branches missed.">        if (result == null) {</span>
<span class="nc" id="L433">            int indexOfNS = id.indexOf(':');</span>
<span class="nc bnc" id="L434" title="All 2 branches missed.">            if (indexOfNS &gt; 0) {</span>
<span class="nc" id="L435">                String idNamespace = id.substring(0, indexOfNS);</span>
<span class="nc bnc" id="L436" title="All 2 branches missed.">                if (idNamespace.equalsIgnoreCase(this.getTargetNamespace())) {</span>
<span class="nc" id="L437">                    id = id.substring(indexOfNS + 1);</span>
                }
<span class="nc" id="L439">                result = messageMap.get(id);</span>
            }
        }
<span class="nc" id="L442">        return result;</span>
    }
    
    public boolean containsMessageId(String messageId) {
<span class="nc" id="L446">        return messageMap.containsKey(messageId);</span>
    }
    
    public List&lt;String&gt; getActivityIdsForVariableListenerName(String variableName) {
<span class="nc" id="L450">        return variableListenerToActivityMap.get(variableName);</span>
    }

    public void addActivityIdForVariableListenerName(String variableName, String activityId) {
<span class="nc" id="L454">        List&lt;String&gt; activityIds = null;</span>
<span class="nc bnc" id="L455" title="All 2 branches missed.">        if (variableListenerToActivityMap.containsKey(variableName)) {</span>
<span class="nc" id="L456">            activityIds = variableListenerToActivityMap.get(variableName);</span>
        }
        
<span class="nc bnc" id="L459" title="All 2 branches missed.">        if (activityIds == null) {</span>
<span class="nc" id="L460">            activityIds = new ArrayList&lt;&gt;();</span>
        }
        
<span class="nc" id="L463">        activityIds.add(activityId);</span>
<span class="nc" id="L464">        variableListenerToActivityMap.put(variableName, activityIds);</span>
<span class="nc" id="L465">    }</span>

    public boolean containsVariableListenerForVariableName(String variableName) {
<span class="nc" id="L468">        return variableListenerToActivityMap.containsKey(variableName);</span>
    }
    
    public boolean hasVariableListeners() {
<span class="nc bnc" id="L472" title="All 2 branches missed.">        return !variableListenerToActivityMap.isEmpty();</span>
    }

    public Map&lt;String, String&gt; getErrors() {
<span class="nc" id="L476">        return errorMap;</span>
    }

    public void setErrors(Map&lt;String, String&gt; errorMap) {
<span class="nc" id="L480">        this.errorMap = errorMap;</span>
<span class="nc" id="L481">    }</span>

    public void addError(String errorRef, String errorCode) {
<span class="nc bnc" id="L484" title="All 2 branches missed.">        if (StringUtils.isNotEmpty(errorRef)) {</span>
<span class="nc" id="L485">            errorMap.put(errorRef, errorCode);</span>
        }
<span class="nc" id="L487">    }</span>

    public boolean containsErrorRef(String errorRef) {
<span class="nc" id="L490">        return errorMap.containsKey(errorRef);</span>
    }
    
    public Collection&lt;Escalation&gt; getEscalations() {
<span class="nc" id="L494">        return escalationMap.values();</span>
    }

    public void setEscalations(Map&lt;String, Escalation&gt; escalationMap) {
<span class="nc" id="L498">        this.escalationMap = escalationMap;</span>
<span class="nc" id="L499">    }</span>

    public void addEscalation(String escalationRef, String escalationCode, String name) {
<span class="nc bnc" id="L502" title="All 2 branches missed.">        if (StringUtils.isNotEmpty(escalationRef)) {</span>
<span class="nc" id="L503">            escalationMap.put(escalationRef, new Escalation(escalationRef, name, escalationCode));</span>
        }
<span class="nc" id="L505">    }</span>
    
    public void addEscalation(Escalation escalation) {
<span class="nc bnc" id="L508" title="All 2 branches missed.">        if (StringUtils.isNotEmpty(escalation.getEscalationCode())) {</span>
<span class="nc" id="L509">            escalationMap.put(escalation.getEscalationCode(), escalation);</span>
        }
<span class="nc" id="L511">    }</span>

    public boolean containsEscalationRef(String escalationRef) {
<span class="nc" id="L514">        return escalationMap.containsKey(escalationRef);</span>
    }
    
    public Escalation getEscalation(String escalationRef) {
<span class="nc" id="L518">        return escalationMap.get(escalationRef);</span>
    }

    public Map&lt;String, ItemDefinition&gt; getItemDefinitions() {
<span class="nc" id="L522">        return itemDefinitionMap;</span>
    }

    public void setItemDefinitions(Map&lt;String, ItemDefinition&gt; itemDefinitionMap) {
<span class="nc" id="L526">        this.itemDefinitionMap = itemDefinitionMap;</span>
<span class="nc" id="L527">    }</span>

    public void addItemDefinition(String id, ItemDefinition item) {
<span class="nc bnc" id="L530" title="All 2 branches missed.">        if (StringUtils.isNotEmpty(id)) {</span>
<span class="nc" id="L531">            itemDefinitionMap.put(id, item);</span>
        }
<span class="nc" id="L533">    }</span>

    public boolean containsItemDefinitionId(String id) {
<span class="nc" id="L536">        return itemDefinitionMap.containsKey(id);</span>
    }

    public Map&lt;String, DataStore&gt; getDataStores() {
<span class="nc" id="L540">        return dataStoreMap;</span>
    }

    public void setDataStores(Map&lt;String, DataStore&gt; dataStoreMap) {
<span class="nc" id="L544">        this.dataStoreMap = dataStoreMap;</span>
<span class="nc" id="L545">    }</span>

    public DataStore getDataStore(String id) {
<span class="nc" id="L548">        DataStore dataStore = null;</span>
<span class="nc bnc" id="L549" title="All 2 branches missed.">        if (dataStoreMap.containsKey(id)) {</span>
<span class="nc" id="L550">            dataStore = dataStoreMap.get(id);</span>
        }
<span class="nc" id="L552">        return dataStore;</span>
    }

    public void addDataStore(String id, DataStore dataStore) {
<span class="nc bnc" id="L556" title="All 2 branches missed.">        if (StringUtils.isNotEmpty(id)) {</span>
<span class="nc" id="L557">            dataStoreMap.put(id, dataStore);</span>
        }
<span class="nc" id="L559">    }</span>

    public boolean containsDataStore(String id) {
<span class="nc" id="L562">        return dataStoreMap.containsKey(id);</span>
    }

    public List&lt;Pool&gt; getPools() {
<span class="nc" id="L566">        return pools;</span>
    }

    public void setPools(List&lt;Pool&gt; pools) {
<span class="nc" id="L570">        this.pools = pools;</span>
<span class="nc" id="L571">    }</span>

    public List&lt;Import&gt; getImports() {
<span class="nc" id="L574">        return imports;</span>
    }

    public void setImports(List&lt;Import&gt; imports) {
<span class="nc" id="L578">        this.imports = imports;</span>
<span class="nc" id="L579">    }</span>

    public List&lt;Interface&gt; getInterfaces() {
<span class="nc" id="L582">        return interfaces;</span>
    }

    public void setInterfaces(List&lt;Interface&gt; interfaces) {
<span class="nc" id="L586">        this.interfaces = interfaces;</span>
<span class="nc" id="L587">    }</span>

    public List&lt;Artifact&gt; getGlobalArtifacts() {
<span class="nc" id="L590">        return globalArtifacts;</span>
    }

    public void setGlobalArtifacts(List&lt;Artifact&gt; globalArtifacts) {
<span class="nc" id="L594">        this.globalArtifacts = globalArtifacts;</span>
<span class="nc" id="L595">    }</span>

    public void addNamespace(String prefix, String uri) {
<span class="nc" id="L598">        namespaceMap.put(prefix, uri);</span>
<span class="nc" id="L599">    }</span>

    public boolean containsNamespacePrefix(String prefix) {
<span class="nc" id="L602">        return namespaceMap.containsKey(prefix);</span>
    }

    public String getNamespace(String prefix) {
<span class="nc" id="L606">        return namespaceMap.get(prefix);</span>
    }

    public Map&lt;String, String&gt; getNamespaces() {
<span class="nc" id="L610">        return namespaceMap;</span>
    }

    public String getTargetNamespace() {
<span class="nc" id="L614">        return targetNamespace;</span>
    }

    public void setTargetNamespace(String targetNamespace) {
<span class="nc" id="L618">        this.targetNamespace = targetNamespace;</span>
<span class="nc" id="L619">    }</span>

    public String getSourceSystemId() {
<span class="nc" id="L622">        return sourceSystemId;</span>
    }

    public void setSourceSystemId(String sourceSystemId) {
<span class="nc" id="L626">        this.sourceSystemId = sourceSystemId;</span>
<span class="nc" id="L627">    }</span>

    public List&lt;String&gt; getUserTaskFormTypes() {
<span class="nc" id="L630">        return userTaskFormTypes;</span>
    }

    public void setUserTaskFormTypes(List&lt;String&gt; userTaskFormTypes) {
<span class="nc" id="L634">        this.userTaskFormTypes = userTaskFormTypes;</span>
<span class="nc" id="L635">    }</span>

    public List&lt;String&gt; getStartEventFormTypes() {
<span class="nc" id="L638">        return startEventFormTypes;</span>
    }

    public void setStartEventFormTypes(List&lt;String&gt; startEventFormTypes) {
<span class="nc" id="L642">        this.startEventFormTypes = startEventFormTypes;</span>
<span class="nc" id="L643">    }</span>

    @JsonIgnore
    public Object getEventSupport() {
<span class="nc" id="L647">        return eventSupport;</span>
    }

    public void setEventSupport(Object eventSupport) {
<span class="nc" id="L651">        this.eventSupport = eventSupport;</span>
<span class="nc" id="L652">    }</span>

    public String getExporter() {
<span class="nc" id="L655">        return exporter;</span>
    }
    public void setExporter(String exporter) {
<span class="nc" id="L658">        this.exporter = exporter;</span>
<span class="nc" id="L659">    }</span>
    public String getExporterVersion() {
<span class="nc" id="L661">        return exporterVersion;</span>
    }
    public void setExporterVersion(String exporterVersion) {
<span class="nc" id="L664">        this.exporterVersion = exporterVersion;</span>
<span class="nc" id="L665">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>