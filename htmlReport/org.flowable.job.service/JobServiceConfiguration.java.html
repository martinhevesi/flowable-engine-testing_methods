<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>JobServiceConfiguration.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jacoco.exec</a> &gt; <a href="index.source.html" class="el_package">org.flowable.job.service</a> &gt; <span class="el_source">JobServiceConfiguration.java</span></div><h1>JobServiceConfiguration.java</h1><pre class="source lang-java linenums">/* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.flowable.job.service;

import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.flowable.common.engine.impl.AbstractServiceConfiguration;
import org.flowable.common.engine.impl.calendar.BusinessCalendarManager;
import org.flowable.common.engine.impl.el.ExpressionManager;
import org.flowable.common.engine.impl.interceptor.CommandExecutor;
import org.flowable.job.service.impl.HistoryJobServiceImpl;
import org.flowable.job.service.impl.JobServiceImpl;
import org.flowable.job.service.impl.TimerJobServiceImpl;
import org.flowable.job.service.impl.asyncexecutor.AsyncExecutor;
import org.flowable.job.service.impl.asyncexecutor.AsyncRunnableExecutionExceptionHandler;
import org.flowable.job.service.impl.asyncexecutor.DefaultJobManager;
import org.flowable.job.service.impl.asyncexecutor.FailedJobCommandFactory;
import org.flowable.job.service.impl.asyncexecutor.JobManager;
import org.flowable.job.service.impl.asyncexecutor.TimerJobScheduler;
import org.flowable.job.service.impl.asyncexecutor.TimerJobSchedulerImpl;
import org.flowable.job.service.impl.persistence.entity.DeadLetterJobEntityManager;
import org.flowable.job.service.impl.persistence.entity.DeadLetterJobEntityManagerImpl;
import org.flowable.job.service.impl.persistence.entity.ExternalWorkerJobEntityManager;
import org.flowable.job.service.impl.persistence.entity.ExternalWorkerJobEntityManagerImpl;
import org.flowable.job.service.impl.persistence.entity.HistoryJobEntityManager;
import org.flowable.job.service.impl.persistence.entity.HistoryJobEntityManagerImpl;
import org.flowable.job.service.impl.persistence.entity.JobEntityManager;
import org.flowable.job.service.impl.persistence.entity.JobEntityManagerImpl;
import org.flowable.job.service.impl.persistence.entity.SuspendedJobEntityManager;
import org.flowable.job.service.impl.persistence.entity.SuspendedJobEntityManagerImpl;
import org.flowable.job.service.impl.persistence.entity.TimerJobEntityManager;
import org.flowable.job.service.impl.persistence.entity.TimerJobEntityManagerImpl;
import org.flowable.job.service.impl.persistence.entity.data.DeadLetterJobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.ExternalWorkerJobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.HistoryJobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.JobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.SuspendedJobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.TimerJobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.impl.MybatisDeadLetterJobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.impl.MybatisExternalWorkerJobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.impl.MybatisHistoryJobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.impl.MybatisJobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.impl.MybatisSuspendedJobDataManager;
import org.flowable.job.service.impl.persistence.entity.data.impl.MybatisTimerJobDataManager;

import com.fasterxml.jackson.databind.ObjectMapper;

/**
 * This service configuration contains all settings and instances around job execution and management. Note that a {@link JobServiceConfiguration} is
 * not shared between engines and instantiated for each engine.
 * 
 * @author Tijs Rademakers
 */
public class JobServiceConfiguration extends AbstractServiceConfiguration&lt;JobServiceConfiguration&gt; {

    public static final String JOB_EXECUTION_SCOPE_ALL = &quot;all&quot;;
    public static final String JOB_EXECUTION_SCOPE_CMMN = &quot;cmmn&quot;;

    // SERVICES
    // /////////////////////////////////////////////////////////////////

<span class="nc" id="L76">    protected JobService jobService = new JobServiceImpl(this);</span>
<span class="nc" id="L77">    protected TimerJobService timerJobService = new TimerJobServiceImpl(this);</span>
<span class="nc" id="L78">    protected HistoryJobService historyJobService = new HistoryJobServiceImpl(this);</span>

    protected JobManager jobManager;

    protected TimerJobScheduler timerJobScheduler;

    // DATA MANAGERS ///////////////////////////////////////////////////

    protected JobDataManager jobDataManager;
    protected DeadLetterJobDataManager deadLetterJobDataManager;
    protected SuspendedJobDataManager suspendedJobDataManager;
    protected TimerJobDataManager timerJobDataManager;
    protected HistoryJobDataManager historyJobDataManager;
    protected ExternalWorkerJobDataManager externalWorkerJobDataManager;

    // ENTITY MANAGERS /////////////////////////////////////////////////

    protected JobEntityManager jobEntityManager;
    protected DeadLetterJobEntityManager deadLetterJobEntityManager;
    protected SuspendedJobEntityManager suspendedJobEntityManager;
    protected TimerJobEntityManager timerJobEntityManager;
    protected HistoryJobEntityManager historyJobEntityManager;
    protected ExternalWorkerJobEntityManager externalWorkerJobEntityManager;

    protected CommandExecutor commandExecutor;

    protected ExpressionManager expressionManager;
    protected BusinessCalendarManager businessCalendarManager;

    protected InternalJobManager internalJobManager;
    protected InternalJobCompatibilityManager internalJobCompatibilityManager;
    protected InternalJobParentStateResolver jobParentStateResolver;

    protected AsyncExecutor asyncExecutor;
    protected int asyncExecutorNumberOfRetries;
    protected int asyncExecutorResetExpiredJobsMaxTimeout;

    protected String jobExecutionScope;
    protected Map&lt;String, JobHandler&gt; jobHandlers;
    protected FailedJobCommandFactory failedJobCommandFactory;
    protected List&lt;AsyncRunnableExecutionExceptionHandler&gt; asyncRunnableExecutionExceptionHandlers;
    protected List&lt;JobProcessor&gt; jobProcessors;

    protected List&lt;String&gt; enabledJobCategories;

    protected AsyncExecutor asyncHistoryExecutor;
    protected int asyncHistoryExecutorNumberOfRetries;
    protected String historyJobExecutionScope;

    protected Map&lt;String, HistoryJobHandler&gt; historyJobHandlers;
    protected List&lt;HistoryJobProcessor&gt; historyJobProcessors;

    public JobServiceConfiguration(String engineName) {
<span class="nc" id="L131">        super(engineName);</span>
<span class="nc" id="L132">    }</span>

    @Override
    protected JobServiceConfiguration getService() {
<span class="nc" id="L136">        return this;</span>
    }

    // init
    // /////////////////////////////////////////////////////////////////////

    public void init() {
<span class="nc" id="L143">        configuratorsBeforeInit();</span>

<span class="nc" id="L145">        initTimerJobScheduler();</span>
<span class="nc" id="L146">        initJobManager();</span>
<span class="nc" id="L147">        initDataManagers();</span>
<span class="nc" id="L148">        initEntityManagers();</span>

<span class="nc" id="L150">        configuratorsAfterInit();</span>
<span class="nc" id="L151">    }</span>

    protected void initTimerJobScheduler() {
<span class="nc bnc" id="L154" title="All 2 branches missed.">        if (timerJobScheduler == null) {</span>
<span class="nc" id="L155">            timerJobScheduler = new TimerJobSchedulerImpl(this);</span>
        }
<span class="nc" id="L157">    }</span>

    // Job manager ///////////////////////////////////////////////////////////

    public void initJobManager() {
<span class="nc bnc" id="L162" title="All 2 branches missed.">        if (jobManager == null) {</span>
<span class="nc" id="L163">            jobManager = new DefaultJobManager(this);</span>
        }

<span class="nc" id="L166">        jobManager.setJobServiceConfiguration(this);</span>
<span class="nc" id="L167">    }</span>

    // Data managers
    ///////////////////////////////////////////////////////////

    public void initDataManagers() {
<span class="nc bnc" id="L173" title="All 2 branches missed.">        if (jobDataManager == null) {</span>
<span class="nc" id="L174">            jobDataManager = new MybatisJobDataManager(this);</span>
        }
<span class="nc bnc" id="L176" title="All 2 branches missed.">        if (deadLetterJobDataManager == null) {</span>
<span class="nc" id="L177">            deadLetterJobDataManager = new MybatisDeadLetterJobDataManager(this);</span>
        }
<span class="nc bnc" id="L179" title="All 2 branches missed.">        if (suspendedJobDataManager == null) {</span>
<span class="nc" id="L180">            suspendedJobDataManager = new MybatisSuspendedJobDataManager(this);</span>
        }
<span class="nc bnc" id="L182" title="All 2 branches missed.">        if (timerJobDataManager == null) {</span>
<span class="nc" id="L183">            timerJobDataManager = new MybatisTimerJobDataManager(this);</span>
        }
<span class="nc bnc" id="L185" title="All 2 branches missed.">        if (historyJobDataManager == null) {</span>
<span class="nc" id="L186">            historyJobDataManager = new MybatisHistoryJobDataManager(this);</span>
        }
<span class="nc bnc" id="L188" title="All 2 branches missed.">        if (externalWorkerJobDataManager == null) {</span>
<span class="nc" id="L189">            externalWorkerJobDataManager = new MybatisExternalWorkerJobDataManager(this);</span>
        }
<span class="nc" id="L191">    }</span>

    public void initEntityManagers() {
<span class="nc bnc" id="L194" title="All 2 branches missed.">        if (jobEntityManager == null) {</span>
<span class="nc" id="L195">            jobEntityManager = new JobEntityManagerImpl(this, jobDataManager);</span>
        }
<span class="nc bnc" id="L197" title="All 2 branches missed.">        if (deadLetterJobEntityManager == null) {</span>
<span class="nc" id="L198">            deadLetterJobEntityManager = new DeadLetterJobEntityManagerImpl(this, deadLetterJobDataManager);</span>
        }
<span class="nc bnc" id="L200" title="All 2 branches missed.">        if (suspendedJobEntityManager == null) {</span>
<span class="nc" id="L201">            suspendedJobEntityManager = new SuspendedJobEntityManagerImpl(this, suspendedJobDataManager);</span>
        }
<span class="nc bnc" id="L203" title="All 2 branches missed.">        if (timerJobEntityManager == null) {</span>
<span class="nc" id="L204">            timerJobEntityManager = new TimerJobEntityManagerImpl(this, timerJobDataManager);</span>
        }
<span class="nc bnc" id="L206" title="All 2 branches missed.">        if (historyJobEntityManager == null) {</span>
<span class="nc" id="L207">            historyJobEntityManager = new HistoryJobEntityManagerImpl(this, historyJobDataManager);</span>
        }
<span class="nc bnc" id="L209" title="All 2 branches missed.">        if (externalWorkerJobEntityManager == null) {</span>
<span class="nc" id="L210">            externalWorkerJobEntityManager = new ExternalWorkerJobEntityManagerImpl(this, externalWorkerJobDataManager);</span>
        }
<span class="nc" id="L212">    }</span>

    // getters and setters
    // //////////////////////////////////////////////////////

    public JobServiceConfiguration getIdentityLinkServiceConfiguration() {
<span class="nc" id="L218">        return this;</span>
    }

    public JobService getJobService() {
<span class="nc" id="L222">        return jobService;</span>
    }

    public JobServiceConfiguration setJobService(JobService jobService) {
<span class="nc" id="L226">        this.jobService = jobService;</span>
<span class="nc" id="L227">        return this;</span>
    }

    public TimerJobService getTimerJobService() {
<span class="nc" id="L231">        return timerJobService;</span>
    }

    public JobServiceConfiguration setTimerJobService(TimerJobService timerJobService) {
<span class="nc" id="L235">        this.timerJobService = timerJobService;</span>
<span class="nc" id="L236">        return this;</span>
    }

    public HistoryJobService getHistoryJobService() {
<span class="nc" id="L240">        return historyJobService;</span>
    }

    public JobServiceConfiguration setHistoryJobService(HistoryJobService historyJobService) {
<span class="nc" id="L244">        this.historyJobService = historyJobService;</span>
<span class="nc" id="L245">        return this;</span>
    }

    public JobManager getJobManager() {
<span class="nc" id="L249">        return jobManager;</span>
    }

    public void setJobManager(JobManager jobManager) {
<span class="nc" id="L253">        this.jobManager = jobManager;</span>
<span class="nc" id="L254">    }</span>

    public TimerJobScheduler getTimerJobScheduler() {
<span class="nc" id="L257">        return timerJobScheduler;</span>
    }

    public void setTimerJobScheduler(TimerJobScheduler timerJobScheduler) {
<span class="nc" id="L261">        this.timerJobScheduler = timerJobScheduler;</span>
<span class="nc" id="L262">    }</span>

    public JobDataManager getJobDataManager() {
<span class="nc" id="L265">        return jobDataManager;</span>
    }

    public JobServiceConfiguration setJobDataManager(JobDataManager jobDataManager) {
<span class="nc" id="L269">        this.jobDataManager = jobDataManager;</span>
<span class="nc" id="L270">        return this;</span>
    }

    public DeadLetterJobDataManager getDeadLetterJobDataManager() {
<span class="nc" id="L274">        return deadLetterJobDataManager;</span>
    }

    public JobServiceConfiguration setDeadLetterJobDataManager(DeadLetterJobDataManager deadLetterJobDataManager) {
<span class="nc" id="L278">        this.deadLetterJobDataManager = deadLetterJobDataManager;</span>
<span class="nc" id="L279">        return this;</span>
    }

    public SuspendedJobDataManager getSuspendedJobDataManager() {
<span class="nc" id="L283">        return suspendedJobDataManager;</span>
    }

    public JobServiceConfiguration setSuspendedJobDataManager(SuspendedJobDataManager suspendedJobDataManager) {
<span class="nc" id="L287">        this.suspendedJobDataManager = suspendedJobDataManager;</span>
<span class="nc" id="L288">        return this;</span>
    }

    public TimerJobDataManager getTimerJobDataManager() {
<span class="nc" id="L292">        return timerJobDataManager;</span>
    }

    public JobServiceConfiguration setTimerJobDataManager(TimerJobDataManager timerJobDataManager) {
<span class="nc" id="L296">        this.timerJobDataManager = timerJobDataManager;</span>
<span class="nc" id="L297">        return this;</span>
    }

    public HistoryJobDataManager getHistoryJobDataManager() {
<span class="nc" id="L301">        return historyJobDataManager;</span>
    }

    public JobServiceConfiguration setHistoryJobDataManager(HistoryJobDataManager historyJobDataManager) {
<span class="nc" id="L305">        this.historyJobDataManager = historyJobDataManager;</span>
<span class="nc" id="L306">        return this;</span>
    }

    public ExternalWorkerJobDataManager getExternalWorkerJobDataManager() {
<span class="nc" id="L310">        return externalWorkerJobDataManager;</span>
    }

    public JobServiceConfiguration setExternalWorkerJobDataManager(ExternalWorkerJobDataManager externalWorkerJobDataManager) {
<span class="nc" id="L314">        this.externalWorkerJobDataManager = externalWorkerJobDataManager;</span>
<span class="nc" id="L315">        return this;</span>
    }

    public JobEntityManager getJobEntityManager() {
<span class="nc" id="L319">        return jobEntityManager;</span>
    }

    public JobServiceConfiguration setJobEntityManager(JobEntityManager jobEntityManager) {
<span class="nc" id="L323">        this.jobEntityManager = jobEntityManager;</span>
<span class="nc" id="L324">        return this;</span>
    }

    public DeadLetterJobEntityManager getDeadLetterJobEntityManager() {
<span class="nc" id="L328">        return deadLetterJobEntityManager;</span>
    }

    public JobServiceConfiguration setDeadLetterJobEntityManager(DeadLetterJobEntityManager deadLetterJobEntityManager) {
<span class="nc" id="L332">        this.deadLetterJobEntityManager = deadLetterJobEntityManager;</span>
<span class="nc" id="L333">        return this;</span>
    }

    public SuspendedJobEntityManager getSuspendedJobEntityManager() {
<span class="nc" id="L337">        return suspendedJobEntityManager;</span>
    }

    public JobServiceConfiguration setSuspendedJobEntityManager(SuspendedJobEntityManager suspendedJobEntityManager) {
<span class="nc" id="L341">        this.suspendedJobEntityManager = suspendedJobEntityManager;</span>
<span class="nc" id="L342">        return this;</span>
    }

    public TimerJobEntityManager getTimerJobEntityManager() {
<span class="nc" id="L346">        return timerJobEntityManager;</span>
    }

    public JobServiceConfiguration setTimerJobEntityManager(TimerJobEntityManager timerJobEntityManager) {
<span class="nc" id="L350">        this.timerJobEntityManager = timerJobEntityManager;</span>
<span class="nc" id="L351">        return this;</span>
    }

    public HistoryJobEntityManager getHistoryJobEntityManager() {
<span class="nc" id="L355">        return historyJobEntityManager;</span>
    }

    public JobServiceConfiguration setHistoryJobEntityManager(HistoryJobEntityManager historyJobEntityManager) {
<span class="nc" id="L359">        this.historyJobEntityManager = historyJobEntityManager;</span>
<span class="nc" id="L360">        return this;</span>
    }

    public ExternalWorkerJobEntityManager getExternalWorkerJobEntityManager() {
<span class="nc" id="L364">        return externalWorkerJobEntityManager;</span>
    }

    public JobServiceConfiguration setExternalWorkerJobEntityManager(ExternalWorkerJobEntityManager externalWorkerJobEntityManager) {
<span class="nc" id="L368">        this.externalWorkerJobEntityManager = externalWorkerJobEntityManager;</span>
<span class="nc" id="L369">        return this;</span>
    }

    public CommandExecutor getCommandExecutor() {
<span class="nc" id="L373">        return commandExecutor;</span>
    }

    public void setCommandExecutor(CommandExecutor commandExecutor) {
<span class="nc" id="L377">        this.commandExecutor = commandExecutor;</span>
<span class="nc" id="L378">    }</span>

    public InternalJobManager getInternalJobManager() {
<span class="nc" id="L381">        return internalJobManager;</span>
    }

    public void setInternalJobManager(InternalJobManager internalJobManager) {
<span class="nc" id="L385">        this.internalJobManager = internalJobManager;</span>
<span class="nc" id="L386">    }</span>

    public InternalJobCompatibilityManager getInternalJobCompatibilityManager() {
<span class="nc" id="L389">        return internalJobCompatibilityManager;</span>
    }

    public void setInternalJobCompatibilityManager(InternalJobCompatibilityManager internalJobCompatibilityManager) {
<span class="nc" id="L393">        this.internalJobCompatibilityManager = internalJobCompatibilityManager;</span>
<span class="nc" id="L394">    }</span>

    public AsyncExecutor getAsyncExecutor() {
<span class="nc" id="L397">        return asyncExecutor;</span>
    }

    public JobServiceConfiguration setAsyncExecutor(AsyncExecutor asyncExecutor) {
<span class="nc" id="L401">        this.asyncExecutor = asyncExecutor;</span>
<span class="nc" id="L402">        return this;</span>
    }

    public AsyncExecutor getAsyncHistoryExecutor() {
<span class="nc" id="L406">        return asyncHistoryExecutor;</span>
    }

    public JobServiceConfiguration setAsyncHistoryExecutor(AsyncExecutor asyncHistoryExecutor) {
<span class="nc" id="L410">        this.asyncHistoryExecutor = asyncHistoryExecutor;</span>
<span class="nc" id="L411">        return this;</span>
    }

    public int getAsyncHistoryExecutorNumberOfRetries() {
<span class="nc" id="L415">        return asyncHistoryExecutorNumberOfRetries;</span>
    }

    public JobServiceConfiguration setAsyncHistoryExecutorNumberOfRetries(int asyncHistoryExecutorNumberOfRetries) {
<span class="nc" id="L419">        this.asyncHistoryExecutorNumberOfRetries = asyncHistoryExecutorNumberOfRetries;</span>
<span class="nc" id="L420">        return this;</span>
    }

    public String getJobExecutionScope() {
<span class="nc" id="L424">        return jobExecutionScope;</span>
    }

    public JobServiceConfiguration setJobExecutionScope(String jobExecutionScope) {
<span class="nc" id="L428">        this.jobExecutionScope = jobExecutionScope;</span>
<span class="nc" id="L429">        return this;</span>
    }

    public String getHistoryJobExecutionScope() {
<span class="nc" id="L433">        return historyJobExecutionScope;</span>
    }

    public JobServiceConfiguration setHistoryJobExecutionScope(String historyJobExecutionScope) {
<span class="nc" id="L437">        this.historyJobExecutionScope = historyJobExecutionScope;</span>
<span class="nc" id="L438">        return this;</span>
    }

    public ExpressionManager getExpressionManager() {
<span class="nc" id="L442">        return expressionManager;</span>
    }

    public JobServiceConfiguration setExpressionManager(ExpressionManager expressionManager) {
<span class="nc" id="L446">        this.expressionManager = expressionManager;</span>
<span class="nc" id="L447">        return this;</span>
    }

    public BusinessCalendarManager getBusinessCalendarManager() {
<span class="nc" id="L451">        return businessCalendarManager;</span>
    }

    public JobServiceConfiguration setBusinessCalendarManager(BusinessCalendarManager businessCalendarManager) {
<span class="nc" id="L455">        this.businessCalendarManager = businessCalendarManager;</span>
<span class="nc" id="L456">        return this;</span>
    }

    public Map&lt;String, JobHandler&gt; getJobHandlers() {
<span class="nc" id="L460">        return jobHandlers;</span>
    }

    public JobServiceConfiguration setJobHandlers(Map&lt;String, JobHandler&gt; jobHandlers) {
<span class="nc" id="L464">        this.jobHandlers = jobHandlers;</span>
<span class="nc" id="L465">        return this;</span>
    }

    public JobServiceConfiguration addJobHandler(String type, JobHandler jobHandler) {
<span class="nc bnc" id="L469" title="All 2 branches missed.">        if (this.jobHandlers == null) {</span>
<span class="nc" id="L470">            this.jobHandlers = new HashMap&lt;&gt;();</span>
        }
<span class="nc" id="L472">        this.jobHandlers.put(type, jobHandler);</span>
<span class="nc" id="L473">        return this;</span>
    }

    public FailedJobCommandFactory getFailedJobCommandFactory() {
<span class="nc" id="L477">        return failedJobCommandFactory;</span>
    }

    public JobServiceConfiguration setFailedJobCommandFactory(FailedJobCommandFactory failedJobCommandFactory) {
<span class="nc" id="L481">        this.failedJobCommandFactory = failedJobCommandFactory;</span>
<span class="nc" id="L482">        return this;</span>
    }

    public List&lt;AsyncRunnableExecutionExceptionHandler&gt; getAsyncRunnableExecutionExceptionHandlers() {
<span class="nc" id="L486">        return asyncRunnableExecutionExceptionHandlers;</span>
    }

    public JobServiceConfiguration setAsyncRunnableExecutionExceptionHandlers(List&lt;AsyncRunnableExecutionExceptionHandler&gt; asyncRunnableExecutionExceptionHandlers) {
<span class="nc" id="L490">        this.asyncRunnableExecutionExceptionHandlers = asyncRunnableExecutionExceptionHandlers;</span>
<span class="nc" id="L491">        return this;</span>
    }

    public Map&lt;String, HistoryJobHandler&gt; getHistoryJobHandlers() {
<span class="nc" id="L495">        return historyJobHandlers;</span>
    }

    public JobServiceConfiguration setHistoryJobHandlers(Map&lt;String, HistoryJobHandler&gt; historyJobHandlers) {
<span class="nc" id="L499">        this.historyJobHandlers = historyJobHandlers;</span>
<span class="nc" id="L500">        return this;</span>
    }

    public JobServiceConfiguration addHistoryJobHandler(String type, HistoryJobHandler historyJobHandler) {
<span class="nc bnc" id="L504" title="All 2 branches missed.">        if (this.historyJobHandlers == null) {</span>
<span class="nc" id="L505">            this.historyJobHandlers = new HashMap&lt;&gt;();</span>
        }
<span class="nc" id="L507">        this.historyJobHandlers.put(type, historyJobHandler);</span>
<span class="nc" id="L508">        return this;</span>
    }

    public int getAsyncExecutorNumberOfRetries() {
<span class="nc" id="L512">        return asyncExecutorNumberOfRetries;</span>
    }

    public JobServiceConfiguration setAsyncExecutorNumberOfRetries(int asyncExecutorNumberOfRetries) {
<span class="nc" id="L516">        this.asyncExecutorNumberOfRetries = asyncExecutorNumberOfRetries;</span>
<span class="nc" id="L517">        return this;</span>
    }

    public int getAsyncExecutorResetExpiredJobsMaxTimeout() {
<span class="nc" id="L521">        return asyncExecutorResetExpiredJobsMaxTimeout;</span>
    }

    public JobServiceConfiguration setAsyncExecutorResetExpiredJobsMaxTimeout(int asyncExecutorResetExpiredJobsMaxTimeout) {
<span class="nc" id="L525">        this.asyncExecutorResetExpiredJobsMaxTimeout = asyncExecutorResetExpiredJobsMaxTimeout;</span>
<span class="nc" id="L526">        return this;</span>
    }

    @Override
    public ObjectMapper getObjectMapper() {
<span class="nc" id="L531">        return objectMapper;</span>
    }

    @Override
    public JobServiceConfiguration setObjectMapper(ObjectMapper objectMapper) {
<span class="nc" id="L536">        this.objectMapper = objectMapper;</span>
<span class="nc" id="L537">        return this;</span>
    }

    public List&lt;JobProcessor&gt; getJobProcessors() {
<span class="nc" id="L541">        return jobProcessors;</span>
    }

    public JobServiceConfiguration setJobProcessors(List&lt;JobProcessor&gt; jobProcessors) {
<span class="nc" id="L545">        this.jobProcessors = Collections.unmodifiableList(jobProcessors);</span>
<span class="nc" id="L546">        return this;</span>
    }

    public List&lt;HistoryJobProcessor&gt; getHistoryJobProcessors() {
<span class="nc" id="L550">        return historyJobProcessors;</span>
    }

    public JobServiceConfiguration setHistoryJobProcessors(List&lt;HistoryJobProcessor&gt; historyJobProcessors) {
<span class="nc" id="L554">        this.historyJobProcessors = Collections.unmodifiableList(historyJobProcessors);</span>
<span class="nc" id="L555">        return this;</span>
    }

    public void setJobParentStateResolver(InternalJobParentStateResolver jobParentStateResolver) {
<span class="nc" id="L559">        this.jobParentStateResolver = jobParentStateResolver;</span>
<span class="nc" id="L560">    }</span>

    public InternalJobParentStateResolver getJobParentStateResolver() {
<span class="nc" id="L563">        return jobParentStateResolver;</span>
    }

    public List&lt;String&gt; getEnabledJobCategories() {
<span class="nc" id="L567">        return enabledJobCategories;</span>
    }

    public void setEnabledJobCategories(List&lt;String&gt; enabledJobCategories) {
<span class="nc" id="L571">        this.enabledJobCategories = enabledJobCategories;</span>
<span class="nc" id="L572">    }</span>

    public void addEnabledJobCategory(String jobCategory) {
<span class="nc bnc" id="L575" title="All 2 branches missed.">        if (enabledJobCategories == null) {</span>
<span class="nc" id="L576">            enabledJobCategories = new ArrayList&lt;&gt;();</span>
        }

<span class="nc" id="L579">        enabledJobCategories.add(jobCategory);</span>
<span class="nc" id="L580">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>